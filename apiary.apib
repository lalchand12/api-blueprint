VerifyinFORMAT: 1A
HOST: http://cmsapi.cisco.io/api/v1

# Cisco Meeting Server API

The Cisco Meeting Server software can be hosted on specific servers based on Cisco Unified Computing Server (UCS) technology as well as on the Acano X-Series hardware, or on a
specification-based VM server. Cisco Meeting Server is referred to as the Meeting Server throughout this document.

This document covers version 2.8 and later of the Application Program Interface for the Cisco Meeting server. For version specific API changes, refer to the [Release Notes for Cisco Meeting Server](https://www.cisco.com/c/en/us/support/conferencing/meeting-server/products-programming-reference-guides-list.html).

In addition to this reference you can find documentation for Cisco Meeting Server [here](https://www.cisco.com/c/en/us/support/conferencing/meeting-server/tsd-products-support-series-home.html).

## General Structure of Methods

The Meeting Server‘s Application Programming Interface (API) is designed as a hierarchy of objects, like the trunk and roots of a tree.
For example, each configured coSpace exists as a node in this tree, and all of the users who are members of that coSpace exist as nodes
“beneath” the coSpace object’s node. The API objects are accessed using a suitable REST client.

---
Note: Cisco Meeting Server software version 3.0 does not support X-Series servers.


---

---
**Note:** Although the Cisco Meeting App and other Cisco Meeting Server guides refer to "spaces" rather than "coSpaces", the API still uses `/coSpace` objects.

---

The Meeting Server has the potential to host a large number of active calls and coSpaces. To reduce the overhead of retrieving the entire collection of objects in a single response, responses
typically return the first “N” matching entries and a count of the total number of objects of that type. To find an individual object’s active status, or to modify or delete it, use filters on the initial retrieval in order to identify the object in question.

### Object Hierarchy
The hierarchy of objects addressable via the API is:

`/accessQuery`

`/callBrandingProfiles`
`/callBrandingProfiles/<call branding profile id>`

`/callBridges`
`/callBridges/<call bridge id>`

`/calls`
`/calls/<call id>`
`/calls/<call id>/callLegs`
`/calls/<call id>/diagnostics`
`/calls/<call id>/participants`
`/callProfiles`
`/callProfiles/<call profile id>`

`/callLegs`
`/callLegs/<callLeg id>`
`/callLegs/<callLeg id>/callLegProfileTrace`
`/callLegProfiles`
`/callLegProfiles/<call leg profile id>`
`/callLegProfiles/<call leg profile id>/usage`

/clusterLicensing(3.0 onwards)
/clusterLicensing/raw(3.0 onwards)

/compatibilityProfiles (2.1 onwards)
/compatibilityProfiles/<compatibility profile id> (2.1 onwards)

/conversationIdQuery (2.3 onwards)
/cospaceBulkParameterSets(2.0 onwards)
/cospaceBulkParameterSets/<coSpace bulk parameter set id> (2.0 onwards)
/cospaceBulkSyncs(2.0 onwards)
/cospaceBulkSyncs/<coSpace bulk sync id>(2.0 onwards)

`/coSpaces`
`/coSpaces/<coSpace id>`
`/coSpaces/<coSpace id>/accessMethods`
`/coSpaces/<coSpace id>/accessMethods/<access method id>`
`/coSpaces/<coSpace id>/coSpaceUsers`
`/coSpaces/<coSpace id>/coSpaceUsers/<coSpaceUser id>`
`/coSpaces/<coSpace id>/diagnostics`
`/coSpaces/<coSpace id>/messages` (3.0 removed)

/coSpaceTemplates (2.9 onwards)
/coSpaceTemplates/<coSpace template id> (2.9 onwards)
/coSpaceTemplates/<coSpace template id>/accessMethodTemplates (2.9 onwards)
/coSpaceTemplates/<coSpace template id>/accessMethodTemplates/<access method
template id> (2.9 onwards)

/dialInSecurityProfiles(3.0 onwards)
/dialInSecurityProfiles/<dial in security profile id> (3.0 onwards)


`/dialTransforms`
`/dialTransforms/<dial transform id>`

`/directorySearchLocations`
`/directorySearchLocations/<directory search location id>`

`/dtmfProfiles`
`/dtmfProfiles/<dtmf profile id>`

`/forwardingDialPlanRules`
`/forwardingDialPlanRules/<forwarding dial plan rule id>`

`/inboundDialPlanRules`
`/inboundDialPlanRules/<inbound dial plan rule id>`

`/ivrs`
`/ivrs/<ivr id>`
`/ivrBrandingProfiles`
`/ivrBrandingProfiles/<ivr branding profile id>`

/layoutTemplates
/layoutTemplates/<layout template id>
/layoutTemplates/<layout template id>/template (2.8 onwards)

`/ldapMappings`
`/ldapMapping/<ldap mapping id>`
`/ldapServers`
`/ldapServers/<ldap server id>`
`/ldapSources`
`/ldapSources/<ldap source id>`
`/ldapSyncs`
`/ldapSyncs/<ldap sync id>`
/ldapUserCoSpaceTemplateSources(2.9 onwards)
/ldapUserCoSpaceTemplateSources/<ldap user coSpace template source id>(2.9 onwards)

`/outboundDialPlanRules`
`/outboundDialPlanRules/<outbound dial plan rule id>`

`/participants`
`/participants/<participantId>`
`/participants/<participantId>/callLegs`

/recorders (3.0 removed)
/recorders/<recorder id> (3.0 removed)
/recorders/<recorder id>/status (2.2 onwards) (3.0 removed)
/streamers (2.1 onwards) (3.0 removed)
/streamers/<streamer id> (2.1 onwards) (3.0 removed)
/streamers/<streamer id>/status (2.2 onwards) (3.0 removed)


`/system/alarms`
`/system/cdrReceiver (deprecated)`
`/system/cdrReceivers`
`/system/cdrReceivers/<CDR receiver id>`
`/system/configuration/cluster`
`/system/configuration/xmpp`
`/system/database`
`/system/diagnostics`
`/system/diagnostics/<diagnostics id>`
`/system/diagnostics/<diagnostics id>/contents`
`/system/licensing (2.0 onwards)`
`/system/load (2.1 onwards)`
`/system/MPLicenseUsage (2.6 onwards)`
`/system/multipartyLicensing (2.0 onwards)`
`/system/multipartyLicensing/activePersonalLicenses(2.0 onwards)`
`/system/profiles`
`/system/status`

`/tenantGroups`
`/tenantGroups/<tenant group id>`

`/tenants`
`/tenants/<tenant id>`
`/tenants/<tenant id>/effectiveWebBridgeProfile (3.0 onwards)`

`/turnServers`
`/turnServers/<turn server id>`
`/turnServers/<turn server id>/status`

/uriUsageQuery (2.3 onwards)

`/users`
`/users/<user id>`
`/users/<user id>/usercoSpaces`
/users/<user id>/userCoSpaceTemplates (2.9 onwards)
/users/<user id>/userCoSpaceTemplates/<user coSpace Template id>(2.9 onwards)


`/userProfiles`
`/userProfiles/<user profile id>`

`/webBridges`
`/webBridges/<web bridge id>`
`/webBridges/<web bridge id>/status (2.2 onwards)`
`/webBridges/<web bridge id>/updateCustomization`

/webBridgeProfiles(3.0 onwards)
/webBridgeProfiles/<web bridge profile id> (3.0 onwards)
/webBridges/<web bridge id>/effectiveWebBridgeProfile
(3.0 onwards)


In each case, the top level plural term sits above potentially many individual object nodes; these individual object nodes are identified by an <ID> which is a GUID, typically. For example, if there are 100 coSpaces configured on an Meeting Server, conceptually there would be 100 nodes directly beneath `/coSpaces` in the hierarchy.

## Accessing the API
The API uses HTTPS as a transport mechanism.

---
Note: The time taken for APIrequests can vary depending upon factors, including but not limited
to, the request type, number of outstanding requests, database size, server loading, latency
between API client and the Call Bridge receiving APIrequests, and latency between the Call
Bridge receiving the APIrequest and the primary database. We recommend that when
developing applications, you test API performance on a representative system.


---

### Configuration Settings
To use the API, you need to connect via HTTPS via the same TCP ports as you would use to access the Web Admin Interface – typically port 443; that is, they use the same interface.

You also need to configure a username and password: you must provide these credentials in order to use the API. Set them using the MMP command `user add <username> (admin|crypto|audit|appadmin|api)`. This command prompts for the user’s password; see the [MMP Command Reference](https://www.cisco.com/c/en/us/support/conferencing/meeting-server/products-programming-reference-guides-list.html) for details.

### Authentication
The API user supplies a shared secret username and password to the Meeting Server configured with the same username and password. The username and password are set in the MMP command line.

While the authentication credentials are sent in essentially plain text within the HTTP traffic, by using HTTPS the traffic itself cannot be read by an external party.

### API access on the web interface

To simplify using the API without the need for third-party applications, version 2.9 introduces a
user interface for the API that can be accessed via the Configuration tab of the Meeting Server
web interface.

---
Note: If you wish to delete any configured API objects, select Allow delete on the right-hand side
of the screen. By default deletion is disallowed and Require delete confirmation is checked to
help prevent unintentional deletions.


---

### Tools to Use
Suitable tools to access and update the API include:
* [Firefox Poster](https://addons.mozilla.org/en-US/firefox/addon/poster/)
* [Postman](https://www.getpostman.com) (OS X, Windows, Linux, and Chrome)
* [Paw](https://paw.cloud) (OS X)
* [Insomnia](https://insomnia.rest) (OS X, Windows, and Linux)

## API Methods
There are four methods:
* [GET](#get) is used for retrieval of existing information
* [POST](#post) is used to create new objects in the hierarchy
* [PUT](#put) is used to modify an existing object
* [DELETE](#delete) is used to destroy an object in the tree

These methods are described in more detail below.

### URL format
For the purposes of addressing or creating individual objects, the URL format mirrors the conceptual hierarchy of objects, with some additional preceding tags in order to identify that the request is for the API. By way of example, to retrieve information on API object `/calls/dbfca0dd-dbe1-43bb-b101-beb9a7ef35f4` it would be necessary to issue:
`GET /api/v1/calls/dbfca0dd-dbe1-43bb-b101-beb9a7ef35f4 HTTP/1.1`

Specifically, at the top level, including `/api` means that the on-board HTTP server process can distinguish this HTTP method from a normal browser method, and including `v1` means the API handler knows that the request is being made by an object that understands version 1 of the API.

If an API method is successful, it yields a “200 OK” response from the Meeting Server. If an error occurs, the Meeting Server responses with a 4xx or 5xx HTTP status code.

A 503 (“Service Unavailable”) status code is returned for API calls unable to be serviced due to a temporary “busy” condition on the Meeting Server – this can be used as an indication to the requestor that it would be useful to re-attempt the same method later.

Equally, a request supplying a <coSpace id> which does not correspond to a valid coSpace object yields “404 Not Found”.

For 4xx and 5xx error cases, extended error information may be returned as “text/xml” body data, for example:
`<failureDetails><coSpaceDoesNotExist/></failureDetails>`

More generally, such a response consists of a “failureDetails” section and a list of errors; in the above case a method was attempted using a coSpace ID that did not correspond to an active coSpace. The possible failure reasons are described in the section, [Failure Reasons](failreason).

### GET Methods
<a name="get"></a>
As mentioned above, GET methods allow retrieval of information about existing API accessible objects, and are used at two levels: Collections level and Individual object level.

#### Collections level
If the GET method is performed at the Collections level (the pluralized noun: “calls”, “coSpaces” etc.) then some number of matching child nodes will be retrieved. By design this is not guaranteed to be the entire list, but the total number of objects of that type present in the Meeting Server can be learnt via this mechanism.

In order to retrieve just specific items, most GET methods at the Collections level allow the use of a filter expression. The idea here is that the interface of a management tool would initially present the API user with the summed count of coSpaces (for example), basic details on the first “N” coSpaces (e.g. their names) and a filter box which the human user can use to search for the specific coSpace(s) of interest.

With no other additional parameters, a GET method at the Collections level will return items from the start of the Meeting Server's notional complete list. By comparing the number of items returned with the "total" value, it is straightforward to determine whether all elements have been returned (if the number of elements returned is equal to the "total" value).

#### Using limit and offset at the Collections level
It is possible to restrict the number of elements returned to a limit chosen by the requestor, by including a "limit=<limitValue>" in the API request. This guarantees that no more than the specified "limitValue" number of elements will be returned - the Meeting Server will have its own limit in these cases too, and therefore the number of elements returned will be the lower of any supplied "limitValue" and the Meeting Server's own limit.

In order to retrieve elements other than the first "n" on the Meeting Server's notional list, it is also possible to supply an "offset=<offsetValue>" in the API request. This causes the Meeting Server to return elements which start at the specified position in its list, skipping the first "offsetValue" number of elements. If "offsetValue" is greater than the number of objects of that type, then no elements will be returned.

---
**Note:** The offset value should not be viewed as a general mechanism for retrieving a large complete list - sequential retrievals of one "page" of data followed by a second "page" will not necessarily be operating on the same complete list if any objects have been deleted or added in the interval between these methods.

---

The expectation is that, for each request and response, the requestor will keep track of the offset and limit values used, and combine this knowledge with the number of elements returned in the response and the "total" indicated by the Meeting Server. If the "offsetValue" supplied by the requestor plus the number of elements returned is less than the "total" value indicated in the response, the requestor then knows that there are more values present. The following table shows some examples:

<table>
    <tr>
        <th>Requestor offset</th>
        <th>Requestor limit</th>
        <th>XML Response</th>
        <th>Meaning</th>
    </tr>
    <tr>
        <td>not supplied</td>
        <td>not supplied</td>
        <td></td>
        <td>All coSpaces (0 – 6) present in response</td>
    </tr>
    <tr>
        <td>not supplied</td>
        <td>1</td>
        <td></td>
        <td>First coSpace present in response</td>
    </tr>
    <tr>
        <td>4</td>
        <td>10</td>
        <td></td>
        <td>coSpaces 4 - 6 present in response</td>
    </tr>
    <tr>
        <td>20</td>
        <td>10</td>
        <td></td>
        <td>coSpaces 20 - 27 present in response. (The Meeting Server limits its response to 8 entries despite the requestor allowing up to 10.)</td>
    </tr>
</table>

#### Individual object level
If the GET method is performed at the Individual object level, full information about just that one object will be returned. For example, after the unique ID of a coSpace has been learnt via a (potentially filtered) GET of the `/coSpaces` node, a subsequent GET of the `/coSpaces/<coSpace id>` node would return expanded information about just that one coSpace, for example how many members it has, and when it was last activated.

#### HTTP specifics
GET methods contain the complete node location and any parameters specific to the retrieval being performed in the URI supplied by the API user. For example, to retrieve basic information on the first “N” coSpaces, the URI would be:

`/api/v1/coSpaces`

whereas to list just those whose name includes “sales”, the GET would be performed on:
`/api/v1/coSpaces?filter=sales`

If a GET method has been successful and yields a “200 OK” response, the Meeting Server returns the retrieved information as “text/xml” body data.

#### How GET methods are detailed in this document
For each GET method at the Collections level the following information is provided:
* The node it operates on
* A table of form parameters, such as filter, offset and limit mentioned above, some of which may be optional. Mandatory parameters are marked with an asterisk (*)
* A table showing the returned information

Both tables show the format of the parameter (e.g. `ID` or `string`) or the possible values (e.g. `true`|`false`)

For each GET method at the Individual level the following information is provided:
* The node it operates on
* A table showing the returned information

The form parameters are those for the Collections level, unless otherwise indicated.

### POST Methods
<a id="post"></a>
POST methods create new objects; for example, to create a new configured coSpace or dial plan rule. Using a POST method to create a new call leg associated with a coSpace is the way to make a new outbound SIP connection.

#### HTTP specifics
Most POST methods require some parameters to be supplied: for example, creation of a coSpace requires the new coSpace’s name to be specified, and a new call leg can only be created if the remote party’s address is known. Such parameters must be supplied by the initiator of the POST method via the standard HTTP “x-www-form- urlencoded” format, as used by “\<form\>” elements in an HTML document.

If a POST method has been successful in adding a new object to the hierarchy, that object’s id, and its position within the hierarchy are returned in the “Location” field of the response.

#### How POST methods are detailed in this document
For each POST method the following information is provided:
* The node it operates on
* A table of form parameters, some of which may be optional. Mandatory parameters are marked with an asterisk (*)
* The format of each parameter (e.g. `ID` or `string`) or the possible values (e.g. `true`|`false`). If appropriate the default value of a parameter (the value used if you do not specify a parameter) is shown in **bold** (e.g. `true`|`false`).

### PUT Methods
<a name="put"></a>
PUT methods modify existing objects; for example, changing the name of a coSpace, muting a specific call leg or changing the layout.

In general, when using PUT in an object:
* omit a parameter to leave its value unchanged
* use a parameter with a new value to change to this value. Supply an empty value to unset a value. For example, to remove a tenant association from a coSpace, modify that coSpace with a parameter set including “tenant=”.

#### HTTP specifics
Parameters for a request must be supplied in “x-www-form-urlencoded” format.

#### How PUT methods are detailed in this document
Each PUT method is in the same section as the POST method for the same object e.g. creating and modifying a coSpace are dealt with together. Form parameters for modifying an object (PUT) are only noted if they differ from the POST method; for example, for callLegs.

### DELETE Methods
<a name="delete"></a>
A DELETE method removes an individual object from the hierarchy; for example, disconnecting a call leg or disassociating a user from a coSpace so that the user is no longer a member.

Therefore the DELETE method is typically performed at the Individual level e.g. `DELETE on /api/v1/coSpace/<id>/accessMethods/<id>`

The object’s ID is known either from a previous retrieval (GET) method at the Collections level or from the “Location” field in the response to a previous creation (PUT) method. (coSpace can be deleted at the Collections level.)

If the object is removed successfully, the Meeting Server sends a “200 OK” response.

Because of the relative simplicity of this method, it is not detailed elsewhere in this document – with the exception of deleting chat messages.

### Failure Reasons
<a name="failreason"></a>
The following "failureDetails" codes can be returned by the API for any of the above methods, in the form in response to a user error:
`<failureDetails><tenantDoesNotExist /></failureDetails>`

<table>
    <tr>
        <th>Reason code</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>accessMethodDoesNotExist</td>
        <td>You tried to modify or remove an accessMethod using an ID that did not correspond to a valid access method</td>
    </tr>
    <tr>
        <td>callBrandingProfileDoesNotExist</td>
        <td>You tried to modify or remove a call branding profile using an ID that did not correspond to a valid call branding profile</td>
    </tr>
    <tr>
        <td>callBridgeDoesNotExist</td>
        <td>You tried to modify or remove a configured clustered Call Bridge using an ID that did not correspond to a valid clustered Call Bridge</td>
    </tr>
    <tr>
        <td>callBridgeGroupDoesNotExist</td>
        <td>You tried to modify, remove or use a Call Bridge group using an ID that did not correspond to a valid Call Bridge group (from version 2.1).</td>
    </tr>
    <tr>
        <td>callBridgeGroupUnavailable</td>
        <td>You tried to create a participant on a Call Bridge Group that is unavailable or could not accept the call (from version 2.2).</td>
    </tr>
    <tr>
        <td>callBridgeUnavailable</td>
        <td>You tried to create a participant on a Call Bridge that is unavailable or could not accept the call (from version 2.2).</td>
    </tr>
    <tr>
        <td>callDoesNotExist</td>
        <td>You tried to perform a method on a call object using an ID that did not correspond to a currently active call</td>
    </tr>
    <tr>
        <td>callRecordingCannotBeModified</td>
        <td>You tried to start/stop recording a call that cannot be modified. Present from R1.9</td>
    </tr>
      <tr>
        <td>callStreamingCannotBeModified</td>
        <td>You tried to start/stop streaming a call that cannot be modified. Present from v 2.1</td>
    </tr>
    <tr>
        <td>callLegCannotBeDeleted</td>
        <td>You tried to delete a call leg that can't be deleted. Present from R1.8</td>
    </tr>
    <tr>
        <td>callLegDoesNotExist</td>
        <td>You tried to perform a method on a call leg object using an ID that did not correspond to a currently active call leg</td>
    </tr>
    <tr>
        <td>callLegProfileDoesNotExist</td>
        <td>You tried to modify or remove a callLegProfile using an ID that did not correspond to a valid call leg profile</td>
    </tr>
    <tr>
        <td>callProfileDoesNotExist</td>
        <td>You tried to modify or remove a callProfile using an ID that is not valid</td>
    </tr>
    <tr>
        <td>cdrReceiverDoesNotExist</td>
        <td>You tried to modify or remove a CDR receiver using an ID that did not correspond to a valid CDR receiver. Present from R1.8</td>
    </tr>
    <tr>
        <td>compatibilityProfileDoesNotExist</td>
        <td>You tried to modify or remove a compatibility profile using an ID that did not correspond to a valid compatibility profile.</td>
    </tr>
     <tr>
        <td>coSpaceAccessMethodTemplateDoesNotExist</td>
        <td>You tried to modify, remove or retrieve a coSpace access method template using an ID that did not correspond to a valid coSpace access method template on the system (from version 2.9).</td>
    </tr>
    <tr>
        <td>coSpaceDoesNotExist</td>
        <td>You tried to modify or remove a coSpace using an ID that did not correspond to a valid coSpace on the system</td>
    </tr>
    <tr>
        <td>coSpaceTemplateDoesNotExist</td>
        <td>You tried to modify, remove or retrieve a coSpace template using an ID that did not correspond to a valid coSpace tem-plate on the system (from version 2.9).</td>
    </tr>
        <tr>
        <td>coSpaceUserDoesNotExist</td>
        <td>You tried to modify or remove a coSpace user using an ID that did not correspond to a valid coSpace user.</td>
    </tr>
    <tr>
        <td>databaseNotReady</td>
        <td>You tried a method (e.g. initiation of an LDAP sync method) before the database was ready</td>
    </tr>
    <tr>
   <td>dialInSecurityProfileDoesNotExist</td>
   <td>You tried to modify, remove, or retrieve a dial-in security pro-file using an ID that did not correspond to a valid dial-in secur-ity profile. (3.0 onwards)</td>
 </tr>
    <tr>
        <td>directorySearchLocationDoesNotExist</td>
        <td>You tried to reference, modify or remove a directory search location using an ID that did not correspond to a valid directory search location. Present from R1.8</td>
    </tr>
    <tr>
        <td>dtmfProfileDoesNotExist</td>
        <td>You tried to reference, modify or remove a DTMF profile using an ID that did not correspond to a valid DTMF profile</td>
    </tr>
    <tr>
        <td>duplicateCallBridgeName</td>
        <td>You tried to create or modify a clustered Call Bridge to use a name that would clash with an existing configured clustered Call Bridge</td>
    </tr>
    <tr>
        <td>duplicateCoSpaceId</td>
        <td>You tried to create or modify a coSpace call ID to use a call ID that clashed with one used by another coSpace</td>
    </tr>
    <tr>
        <td>duplicateCoSpaceUri</td>
        <td>You tried to create or modify a coSpace to use a URI that clashed with one that corresponds to another coSpace. (Two coSpaces can't share the same URI, because the Meeting Server must be able to uniquely resolve an incoming call to a coSpace URI)</td>
    </tr>
    <tr>
        <td>duplicateCoSpaceIdPasscode</td>
        <td>You tried to modify a coSpace, or create or modify a coSpace access method, using a call ID/passcode combination that clashed with another call ID/passcode that is already used by that coSpace or one of its access methods.</td>
    </tr>
    <tr>
        <td>duplicateCoSpaceUriPasscode</td>
        <td>You tried to modify a coSpace, or create or modify a coSpace access method, using a URI/passcode combination that clashed with URI/passcode combination that is already used by that coSpace or one of its access methods.</td>
    </tr>
    <tr>
        <td>duplicateUserCoSpaceTemplate</td>
        <td>You tried to assign the same coSpace template to a user for a second time (from version 2.9).</td>
    </tr>
    <tr>
        <td>duplicateSipEndpointUri</td>
        <td>You tried to create or modify a registered SIP endpoint, using a URI that clashed with one that is already used by another registered SIP endpoint.</td>
    </tr>
    <tr>
        <td>forwardingDialPlanRuleDoesNotExist</td>
        <td>You tried to modify or remove an forwarding dial plan rule using an ID that did not correspond to a valid forwarding dial plan rule</td>
    </tr>
    <tr>
        <td>inboundDialPlanRuleDoesNotExist</td>
        <td>You tried to modify or remove an inbound dial plan rule using an ID that did not correspond to a valid inbound dial plan rule</td>
    </tr>
    <tr>
        <td>inboundDialPlanRuleUriConflict</td>
        <td>You tried to make modifications to an inbound dial plan rule which would have caused a URI conflict. For example, this can happen if you try to add a rule which matches multiple tenants and more than one tenant has a coSpace with the same URI</td>
    </tr>
    <tr>
        <td>invalidOperation</td>
        <td>You tried an operation which isn't supported; for example, you attempted to POST to /api/v1/system/profiles or issue a DELETE for a configured user generated from an LDAP sync</td>
    </tr>
    <tr>
        <td>invalidVersion</td>
        <td>You attempted an operation with an invalid API version. Present from R1.8</td>
    </tr>
    <tr>
        <td>ivrBrandingProfileDoesNotExist</td>
        <td>You tried to modify or remove an IVR branding profile object using an ID that did not correspond to a valid IVR branding profile on the system</td>
    </tr>
    <tr>
        <td>ivrDoesNotExist</td>
        <td>You tried to modify or remove an IVR object using an ID that did not correspond to a valid IVR on the system</td>
    </tr>
    <tr>
        <td>ivrUriConflict</td>
        <td>You tried to make modifications to an IVR object which would have caused a URI conflict</td>
    </tr>
    <tr>
        <td>layoutTemplateDoesNotExist</td>
        <td>You tried to modify, remove or retrieve a layout template using an ID that did not correspond to a valid layout template on the system (from version 2.8).</td>
    </tr>
    <tr>
        <td>layoutTemplateDoesNotExist</td>
        <td>You tried to modify, remove or retrieve a layout template using an ID that did not correspond to a valid layout template on the system (from version 2.8).</td>
    </tr>
    <tr>
        <td>layoutTemplateDescriptionTooLong</td>
        <td>You tried to set a layout template description that exceeds the allowed size (from version 2.8).</td>
    </tr>
    <tr>
        <td>ldapMappingDoesNotExist</td>
        <td>You tried to modify or remove an LDAP mapping using an ID that did not correspond to a valid LDAP mapping</td>
    </tr>
    <tr>
        <td>ldapServerDoesNotExist</td>
        <td>You tried to modify or remove an LDAP server using an ID that did not correspond to a valid LDAP server</td>
    </tr>
    <tr>
        <td>ldapSourceDoesNotExist</td>
        <td>You tried to modify or remove an LDAP source using an ID that did not correspond to a valid LDAP source</td>
    </tr>
    <tr>
        <td>ldapSyncCannotBeCancelled</td>
        <td>You tried to cancel an LDAP synchronization that has either started or completed – only LDAP synchronization methods that have not started yet can be cancelled</td>
    </tr>
    <tr>
        <td>ldapUserCoSpaceTemplateSourceDoesNotExist</td>
        <td>You tried to remove or retrieve using an ID that did not cor-respond to an existing LDAP user coSpace template source entry (from version 2.9).</td>
    </tr>
    <tr>
        <td>ldapSyncDoesNotExist</td>
        <td>You tried to query or cancel an LDAP synchronization with an ID that did not correspond to a valid LDAP synchronization</td>
    </tr>
    <tr>
        <td>ldapUserCoSpaceTemplateSourceDoesNotExist</td>
        <td>You tried to remove or retrieve using an ID that did not correspond to an existing LDAP user coSpace template source entry (from version 2.9).</td>
    </tr>
    <tr>
        <td>loadBalancingDisabled</td>
        <td>You tried to create a participant in a Call Bridge Group with load balancing for outgoing calls disabled (from version 2.2).</td>
    </tr>
    <tr>
        <td>messageDoesNotExist</td>
        <td>You tried to remove a coSpace message using an ID that did not correspond to a valid coSpace message</td>
    </tr>
    <tr>
        <td>outboundDialPlanRuleDoesNotExist</td>
        <td>You tried to modify or remove an outbound dial plan rule using an ID that did not correspond to a valid outbound dial plan rule</td>
    </tr>
    <tr>
        <td>parameterError</td>
        <td>One or more parameters in a request were found to be invalid. Supporting parameter and error values give more detail about the failure</td>
    </tr>
    <tr>
    <tr>
        <td>participantCannotBeDeleted</td>
        <td>You tried to delete a participant that could not be deleted, for instance a remotely-hosted participant.</td>
    </tr>
    <tr>
        <td>participantCannotBeModified</td>
        <td>You tried to modify a participant that could not be modified, for instance a participant hosted on a remote deployment.</td>
    </tr>
    <tr>
        <td>participantLimitReached</td>
        <td>You tried to add a new participant beyond the maximum number allowed for the call</td>
    </tr>
    <tr>
        <td>passcodeTooShort</td>
        <td>You tried to set a passcode to a coSpace or a coSpace access method but its length is not compliant with the min-imum allowed passcode length as specified in the effective dial-in security profile. (3.0 onwards)</td>
    </tr>
    <tr>
        <td>recorderDoesNotExist</td>
        <td>You tried to modify or remove a recorder using an ID that did not correspond to a valid recorder. (From version 1.9)</td>
    </tr>
    <tr>
        <td>recordingNotAllowedByLicensing</td>
        <td>You tried to start recording without having the correct license. (Previously recordingLimitReached) (3.0 onwards)</td>
    </tr>
    <tr>
        <td>recordingLimitReached</td>
        <td>You tried to start recording a call beyond the maximum number allowed(TBD).</td>
    </tr>
    <tr>
        <td>sipEndpointDoesNotExist</td>
        <td>You tried to modify or remove a registered sip endpoint using an ID that did not correspond to a valid endpoint.<td>
    </tr>

    <tr>
        <td>streamerDoesNotExist</td>
        <td>You tried to modify or remove a streamer using an ID that did not correspond to a valid streamer (from version 2.1).</td>
    </tr>
    <tr>
        <td>streamingNotAllowedByLicensing</td>
        <td>You tried to start streaming without having the correct license. (Previously streamingLimitReached) (3.0 onwards)</td>
    </tr>


    <tr>
        <td>streamingLimitReached</td>
        <td>You tried to start streaming a call beyond the maximum num-ber allowed (from version 2.1 TBD).</td>
    </tr>
    <tr>
        <td>tenantDoesNotExist</td>
        <td>You tried to modify or remove a tenant using an ID that did not correspond to a valid tenant</td>
    </tr>
    <tr>
        <td>tenantGroupCoSpaceIdConflict</td>
        <td>Your request to remove or use a tenant group would have resulted in a coSpace ID conflict. Present from R1.8</td>
    </tr>
    <tr>
        <td>tenantGroupDoesNotExist</td>
        <td>You tried to modify, remove or use a tenant group that does not exist. Present from R1.8</td>
    </tr>
    <tr>
        <td>tenantParticipantLimitReached</td>
        <td>You tried to add a new participant beyond the maximum number allowed for the owning tenant</td>
    </tr>
    <tr>
        <td>tooManyCdrReceivers</td>
        <td>You tried to add a new CDR receiver when the maximum number were already present. R1.8 supports up to 2 CDR receivers</td>
    </tr>
    <tr>
        <td>tooManyLdapSyncs</td>
        <td>A method to create a new LDAP synchronization method failed. Try again later</td>
    </tr>
    <tr>
        <td>unrecognizedObject</td>
        <td>There are elements in the URI you are accessing that are not recognized; e.g, you tried to perform a GET on /api/v1/system/profile rather than (the correct) /api/v1/system/profiles</td>
    </tr>
    <tr>
        <td>userCoSpaceTemplateDeletionProhibited</td>
        <td>You tried to withdraw an auto-generated coSpace template from a user and this is not allowed (from version 2.9).</td>
    </tr>
    <tr>
        <td>userCoSpaceTemplateDoesNotExist</td>
        <td>You tried to modify, remove or retrieve a user coSpace tem-plate using an ID that did not correspond to a valid user coSpace template for that user (from version 2.9).</td>
    </tr>
    <tr>
        <td>userDoesNotExist</td>
        <td>You tried to modify or remove a user using an ID that did not correspond to a valid user</td>
    </tr>
    <tr>
        <td>userProfileDoesNotExist</td>
        <td>You tried to modify a user profile using an ID that did not correspond to a valid user profile</td>
    </tr>
</table>

## Example Requests and Responses for Specific Methods [/sample]

### Retrieval of Current Active Calls [GET /calls]

As described [above](#get), retrieval methods using GET involve no body content posted by the retriever. If the request is valid, the Meeting Server returns XML response data.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=

+ Response 200 (text/xml)
    + Headers

            Connection: close

    + Body

            <?xml version="1.0"?>
            <calls total="1">
              <call id="527089d6-6581-4331-8417-971c05c9e274">
                <name>Sales coSpace</name>
                <coSpace>2dcf2b7a-3410-4066-b638-46273698d469</coSpace>
              </call>
            </calls>


### Creating a New Call Leg SIP dial out to 10.1.144.129 [POST /callLegs]

As described above, any parameters needed for the creation method (in this case, the address of the remote party), need to be supplied by the issuer as form data. If the request is successful, details about the new object are returned by the Meeting Server in the “Location” header field.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=
            Content-Type: application/x-www-form-urlencoded

    + Body

            remoteParty=10.1.144.129

+ Response 200
    + Headers

            Location: /api/v1/callLegs/5a3b907a-7641-42fb-ae8c-b3424a3e923f
            Connection: close

### Instantiating a new call and connecting a participant to it [/sample1]

As described above, any parameters needed for the creation method (in this case, the address of the remote party), need to be supplied by the issuer as form data. If the request is successful, details about the new object are returned by the Meeting Server in the “Location” header field.

## Use a filtered coSpace enumeration to find "Development Team" [GET /calls]

As described above, any parameters needed for the creation method (in this case, the address of the remote party), need to be supplied by the issuer as form data. If the request is successful, details about the new object are returned by the Meeting Server in the “Location” header field.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=

+ Response 200 (XML)
    + Headers

            Connection: close

    + Body

            <?xml version="1.0"?>
                <coSpaces total="1">
                <coSpace id="581caae0-420a-43df-9a9e-f690c70e12d3">
                    <name>DevelopmentTeam</name>
                    <autoGenerated>false</autoGenerated>
                    <uri>dev_team</uri>
                </coSpace>
            </coSpaces>

## Instantiate a call from the coSpace [POST /calls]

Matching coSpace `581caae0-420a-43df-9a9e-f690c70e12d3` found in enumeration response, now use it to instantiate a call from the coSpace

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=
    + Body

            coSpace=581caae0-420a-43df-9a9e-f690c70e12d3

+ Response 200 (XML)
    + Headers

            Connection: close

    + Body

            Location: /api/v1/calls/8867d8f1-0918-4653-b41e-7341200e277a
            Connection: close

##  Create a participant  [POST /calls]

Create participant as a call out from the newly-instantiated call `/api/v1/participants/2671a77d-4bd5-4bf2-8ed6-f14afd80c2ac`.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=
    + Body

            POST /api/v1/calls/8867d8f1-0918-4653-b41e-7341200e277a/participants
            HTTP/1.1\r\n
            Host: 127.0.0.1\r\n
            Content-Type: www-formurl-encoded\r\n
            Content-Length: 33\r\n\r\n
            remoteParty=username1@example.com

+ Response 200 (XML)
    + Headers

            Connection: close

    + Body

            HTTP/1.1 200 OK\r\n
            Location: /api/v1/participants/2671a77d-4bd5-4bf2-8ed6-f14afd80c2ac\r\n
            Connection: close\r\n\r\n


# Group coSpace Related Methods

---
**Note:** From release 1.9, coSpace has been renamed as space. Although the Cisco Meeting App and other Cisco Meeting Server guides refer to
"spaces" rather than "coSpaces", the API still uses `/coSpace` objects. The Web Admin interface has been changed to refer to "spaces".

---

This chapter details the API methods related to management of coSpaces. The chapter covers:
* retrieving coSpaces
* creating and modifying a coSpace
* retrieving detailed information about a single coSpace
* retrieving the members of a coSpace
* adding and modifying a coSpace member
* posting to the message board of a coSpace
* deleting messages from a coSpace message board
* retrieving coSpace access methods
* creating and modifying coSpace access methods
* calling out from a coSpace
* bulk creating, updating, and deleting coSpaces
* coSpace diagnostics

<a name="retrievingspace"></a>

## Retrieving coSpaces [GET /coSpaces/{?offset,limit,filter,tenantFilter,callLegProfileFilter}]

GET method on the `/coSpaces` node

The response includes the total count of the number of coSpaces present which match the filter if provided, irrespective of the number returned within the response. (With no filter, this value is the total number of configured coSpaces).

TODO: Response is structured as a top-level \<coSpaces total=”N”\> tag with potentially multiple \<coSpace\> elements within it.

<coSpace> elements follow the general form on the left.


<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>coSpace id</td>
        <td>ID</td>
        <td>The “ID” value returned in the opening tag is a unique identifier for the coSpace, and can be used for future modify / delete / query methods on that coSpace</td>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>The human-readable name that will be shown on clients' UI for this coSpace</td>
    </tr>
    <tr>
        <td>uri</td>
        <td>String</td>
        <td>The URI that a SIP system would use to dial in to this coSpace</td>
    </tr>
    <tr>
        <td>secondaryUri</td>
        <td>String</td>
        <td>The secondary URI for this coSpace – this provide the same functionality as the “uri” parameter, but allows more than one URI to be configured for a coSpace</td>
    </tr>
    <tr>
        <td>callId</td>
        <td>Number</td>
        <td>The numeric ID that a user would enter at the IVR (or via a web client) to connect to this coSpace</td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>If provided, associates the specified call leg profile with this tenant</td>
    </tr>
    <tr>
        <td>autoGenerated</td>
        <td>boolean</td>
        <td>Whether this coSpace has been added automatically or manually.
        <ul>
        <li>true - this coSpace has been added automatically as part of an LDAP sync operation. therefore it is not possible, to remove it except by modifying the parameters of the sync operation</li>
        <li>false - this coSpace has been added either via an API method or by using Cisco Meeting App; it can be modified or removed via the API</li>
        </ul>
        </td>
    </tr>
</table>

+ Parameters
    + offset (Number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first “page" in the notional list (see Section 4.1.2).
    + limit (Number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first “page" in the notional list (see Section 4.1.2).
    + filter (String, optional)
        Supply “filter=`<String`>” in the URI to return just those coSpaces that match the filter
    + tenantFilter (ID, optional) - Supply tenantFilter=<tenant id> to return just those coSpaces associated with that tenant
    + callLegProfileFilter (ID, optional)
        Supply callLegProfileFilter=`<call leg profile id>` to return just those coSpaces using that call leg profile

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <coSpaces total="1">
              <coSpace id="527089d6-6581-4331-8417-971c05c9e274">
                <name>Sales coSpace</name>
              </coSpace>
            </coSpaces>

## Creating and Modifying a coSpace [POST /coSpaces]
* Creating: POST method to the `/coSpaces` node. If the coSpace was created successfully, a “200 OK” response is received, and the “Location” header contains the ID for the new coSpace
* Modifying: PUT method on a `/coSpaces/<coSpace id>` node

---
**Note:** You can also use this PUT to modify the values of a coSpace created in Cisco Meeting App. For example, the coSpace will have been created with the cdrTag of the user who created it but you can change that value with an API call. (This is unlike the cdrTag of an automatically generated coSpace, which cannot be updated with an API call).

---

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>The human-readable name that will be shown on clients’ UI for this coSpace</td>
  </tr>
  <tr>
    <td>uri</td>
    <td>String(URI user part)</td>
    <td>The URI that a SIP system would use to dial in to this coSpace. (The URI 'user part' is the part before any '@' character in a full URI.)</td>
  </tr>
  <tr>
    <td>secondaryUri</td>
    <td>String(URI user part)</td>
    <td>The secondary URI for this coSpace – this provides the same functionality as the “uri” parameter, but allows more than one URI to be configured for a coSpace. (The URI "user part"  is the part before any '@' character in a full URI.)</td>
  </tr>
  <tr>
    <td>callId</td>
    <td>String</td>
    <td>The numeric ID that a user would enter at the IVR (or via a web client) to connect to this coSpace</td>
  </tr>
  <tr>
    <td>cdrTag</td>
    <td>String</td>
    <td>Up to 100 characters of free form text to identify this coSpace in a CDR; when a "callStart" CDR is generated for a call associated with this coSpace, this tag will be written (as "cdrTag") to the callStart CDR. See the Cisco Meeting Server CDR Reference for details. The cdrTag can be modified in a PUT method.</td>
  </tr>
  <tr>
    <td>passcode</td>
    <td>String</td>
    <td>The security code for this coSpace</td>
  </tr>
  <tr>
    <td>defaultLayout</td>
    <td>allEqual|<br> speakerOnly|<br> telepresence|<br>stacked|<br>allEqualQuarters|<br>allEqualNinths|<br>allEqualSixteenths| <br>allEqualTwentyFifths|<br>onePlusFive|<br>onePlusSeven|<br>onePlusNine|<br> automatic|<br>onePlusN</td>
    <td>The default layout to be used for new call legs in this coSpace. See Default layout options for the difference in naming between the API and the Web Admin interface</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If provided, associates the specified tenant with this coSpace</td>
  </tr>
  <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>If provided, associates the specified call leg profile with this coSpace</td>
  </tr>
  <tr>
    <td>callProfile</td>
    <td>ID</td>
    <td>If provided, associates the specified call profile with this coSpace</td>
  </tr>
  <tr>
    <td>callBrandingProfile</td>
    <td>ID</td>
    <td>If provided, associates the specified call branding profile with this coSpace</td>
  </tr>
  <tr>
      <td>dialInSecurityProfile</td>
      <td>ID</td>
      <td>If provided, associates the specified dial-in secur-ity profile with this coSpace (3.0 onwards)</td>
    </tr>

  <tr>
    <td>requireCallId</td>
    <td>true|false</td>
    <td>If this value is supplied as true, and no callId is currently specified for the coSpace, a new auto-generated call Id will be assigned</td>
  </tr>
  <tr>
    <td>secret</td>
    <td>String</td>
    <td>If provided, sets the security string for this coSpace. If absent, a security string is chosen automatically if the coSpace has a callId value. This is the security value associated with the coSpace that needs to be supplied with the callId for guest access to the coSpace.</td>
  </tr>
  <tr>
    <td>regenerateSecret</td>
    <td>true|false</td>
    <td><ul><li>true - a new security value is generated for this coSpace and the former value is no longer valid (for instance, any hyperlinks including it will cease to work)</li><li>false - do not generate a new secret value for this coSpace; this has no effect.</li> <br></br>This parameter is only valid for the modify (PUT) case.</td>
  </tr>
  <tr>
    <td>nonMemberAccess</td>
    <td><b>true</b>|false</td>
    <td>Controls whether non-members of the coSpace are able to have access to the coSpace. If not provided, behaviour defaults to true. (From version 2.0).</td>
  </tr>
  <tr>
    <td>ownerJid</td>
    <td>String</td>
    <td>Indicates the coSpace is owned by the user with the specified JID. (From version 2.0).</td>
  </tr>
  <tr>
    <td>streamUrl</td>
    <td>URL</td>
    <td>Indicates where the coSpace is streamed to, if streaming is initiated. (From version 2.1).</td>
  </tr>
  <tr>
    <td>ownerAdGuid</td>
    <td>ID</td>
    <td>If provided, the coSpace will be owned by the user with the given AD GUID. (From version 2.1).</td>
  </tr>
  <tr>
    <td>meetingScheduler</td>
    <td>String</td>
    <td>Name of person (not necessarily a user) who scheduled the creation of this coSpace, which if set is propagated to any call objects as the “ownerName” field. (From version 2.2).</td>
  </tr>
  <tr>
    <td>panePlacementHighestImportance</td>
    <td>Number</td>
    <td>If panePlacementHighestImportance is provided, pane placement will be activated for this coSpace - the active range of importance values will be from "highest importance" down to 1(inclusive). (From version 2.4)</td>
  </tr>
 <tr>
 <td>panePlacementSelfPaneMode</td>
    <td><b>skip</b>|self|blank |'unset'</td>
    <td>If pane placement is activated, this defines the layout behavior for this coSpace when viewing an endpoint's own layout pane. (From version 2.7)
        <ul>
            <li>skip - same as the pre-2.7 version behavior, do not include a pane in the layout for viewing the system's own importance level (default)</li>
            <li>self - shows the viewing endpoint's video back to themselves</li>
            <li>blank - leaves a blank pane to indicate to the viewer of the endpoint where other participants will see them.</li>
            <li>'unset' - follows this order of precedence:
                <ul>
                    <li>use the value set for panePlacementHighestImportance on /calls, if panePlacementHighestImportance on /calls is unset, then use the value set for panePlacementHighestImportance on /coSpace (if the call is to a space),</li>
                    <li>if panePlacementHighestImportance on /coSpace is also unset, then it reverts to the skip behavior defined above. </li>
                </ul>
            </li>
            <p>By default, panePlacementSelfPaneMode is set to 'unset'.</p>
        </ul>
 </tr>
</table>

---
**Note:** You can also use this PUT to modify the values of a coSpace created in a Cisco Meeting App. For example, the coSpace will have been created with the cdrTag of the user who created it but you can change that value with an API call. (This is unlike the cdrTag of an automatically generated coSpace, which cannot be updated with an API call.)

---

#### Default layout options
The naming of the defaultLayout options varies between the API and the Web Admin Interface **Configuration > coSpaces** page. The “mapping" is shown in the table below.

<table>
    <tr>
        <th>API</th>
        <th>Web Admin Interface</th>
    </tr>
    <tr>
        <td>allEqual</td>
        <td>all equal</td>
    </tr>
    <tr>
        <td>speakerOnly</td>
        <td>full screen</td>
    </tr>
    <tr>
        <td>telepresence</td>
        <td>overlay (the loudest speaker is in a large pane and a number of the previous speakers are in small panes which overlay the bottom of the loudest speaker’s pane).
        </td>
    </tr>
    <tr>
        <td>stacked</td>
        <td>stack (the loudest speaker is in a large pane and a number of the previous speakers are in small panes below the loudest speaker’s pane).
        </td>
    </tr>
</table>

### Secondary coSpace URIs
Per coSpace, there is an optional secondaryUri parameter as shown above. This allows flexibility; for example, numeric dialing in addition to a name.
* When creating or modifying a coSpace (see the previous section) you can supply a secondaryUri parameter in addition to the form parameters in the table above e.g. uri
* The secondary URI will be checked for validity and uniqueness in the same way as the uri, and if valid, establishes a new URI by which the coSpace can be reached
* When retrieving information on an individual coSpace (see below) the secondaryUri value will be returned, if it is defined for this coSpace
* The secondaryUri can be created automatically during an LDAP sync if the new LDAP mapping parameter is used. See [coSpaceSecondaryUriMapping](#ldap_map)

### Auto-generation of coSpace callID
A new auto-generated Call Id is assigned if `requireCallId=true` is set via a create (POST) or modify (PUT) method on the coSpace, and no callId is currently specified for the coSpace.

+ Request (application/x-www-form-urlencoded)
    + Attributes (coSpace)

    + Body

            name=MyNewCoSpace

+ Response 200
    + Headers

            Location: /api/v1/coSpaces/ba74737b-aa36-4891-abed-dbbca6fe8cc8

## Retrieving Detailed Information about a Single coSpace [GET /coSpaces/{coSpaceId}]
GET method performed on a `/coSpaces/<coSpaceId>` node. If the coSpace ID supplied is valid, a “200 OK” response is received, containing a single `<coSpaceId=<ID>` object with data as described above for the [creating and modifying] case.

In addition to the data in common with the create and modify methods, retrieved information about a single coSpace will also include:
* a count of the number of additional access methods for that coSpace, if any have been configured, as a numeric `numAccessMethods` value
* the `autoGenerated` value, which shows whether the coSpace was added automatically as part of an LDAP sync operation

The following information is not included:
* `requireCallID`

---
**Note:** From 2.1, a “meetingEntryDetail” node is added to allow retrieval of entry details for a specific coSpace meeting. Perform a GET on `/coSpaces/<coSpaceId>/meeting EntryDetail`. Response values are "uri" and "callId".

---

+ Parameters
    + coSpaceId

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <coSpace id="b449de90-9dc5-4bed-9c65-a09a321d2bd9">
              <name>Johnny Appleseed Space</name>
              <autoGenerated>true</autoGenerated>
              <uri>johnny.space</uri>
              <callId>239017747</callId>
              <nonMemberAccess>true</nonMemberAccess>
              <ownerId>43dfe9c0-834f-42bd-aa1c-bbf5017706ba</ownerId>
              <ownerJid>johnny@ciscolabs.com</ownerJid>
              <secret>V_diBH_9ARvojUzOOy38Cg</secret>
            </coSpace>

### Retrieving entry details for a specific coSpace [GET /coSpaces/{coSpaceId}/meetingEntryDetail]

From version 2.1, a `meetingEntryDetail` node is added to allow retrieval of entry details for a specific coSpace meeting. Perform a GET on /coSpaces/<coSpace id>/meeting EntryDetail. Response values are uri and callId.
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <meetingEntryDetail>
              <coSpace>"b449de90-9dc5-4bed-9c65-a09a321d2bd9"</coSpace>
              <uri>johnny.space@ciscolabs.com</uri>
              <callId>239017747</callId>
            </meetingEntryDetail>

## coSpace Member Methods [/coSpaces/{coSpaceId}/coSpaceUsers/{?filter,offset,limit,callLegProfileFilter}]
## Retrieving the members of a coSpace [GET]
GET method on a `/coSpaces/<coSpaceId>/coSpaceUsers` node.

The response includes the total count of coSpace users configured for the queried coSpace which match the filter, irrespective of the number returned within the response. (With no filter, this value is the total number of users associated with the coSpace).

Response is structured as a top-level `<coSpaceUsers total=”N”>` tag with potentially multiple `<coSpaceUser>` elements within it.
* `<coSpaceUser>` elements follow the general form on the left.
* `<coSpaceUser>` elements have their own ID and also contain an ID for the user.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>coSpaceUser id</td>
        <td>ID</td>
        <td>The “ID” value returned in the opening tag is a unique identifier for the coSpace, and can be used for future modify / delete / query methods on that coSpace</td>
    </tr>
    <tr>
        <td>userJid</td>
        <td>String</td>
        <td>The XMPP ID of the user</td>
    </tr>
    <tr>
        <td>userId</td>
        <td>ID</td>
        <td>Identifies the user with no relationship to any coSpace association, and may or may not be the same as the ID of the “coSpaceUser” object.</td>
    </tr>
    <tr>
        <td>autoGenerated</td>
        <td>boolean</td>
        <td>Whether this coSpace has been added automatically or manually.<ul><li> true - this coSpace has been added automatically as part of an LDAP sync operation. therefore it is not possible, to remove it except by modifying the parameters of the sync operation</li><li>false - this coSpace has been added either via an API method or by using Cisco Meeting App; it can be modified or removed via the API</li></ul></td>
    </tr>
     <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>If provided, associates the specified call leg profile with this coSpace user</td>
  </tr>
  <tr>
    <td>canDestroy</td>
    <td>true|false</td>
    <td>Whether this user is allowed to delete the coSpace.</td>
  </tr>
  <tr>
    <td>canAddRemoveMember</td>
    <td>true|false</td>
    <td>Whether this user is allowed to add or remove other members of the coSpace.</td>
  </tr>
  <tr>
    <td>canChangeName</td>
    <td>true|false</td>
    <td>Whether this user is allowed to change the name of the coSpace.</td>
  </tr>
  <tr>
    <td>canChangeUri</td>
    <td>true|false</td>
    <td>Whether this user is allowed to change the URI of the coSpace</td>
  </tr>
  <tr>
    <td>canChangeCallId</td>
    <td>true|false</td>
    <td>Whether this user is allowed to change the Call ID of the coSpace</td>
  </tr>
  <tr>
    <td>canChangePasscode</td>
    <td>true|false</td>
    <td>Whether this user is allowed to change the passcode of the coSpace</td>
  </tr>
  <tr>
    <td>canPostMessage</td>
    <td>true|false</td>
    <td>Whether this user is allowed to write messages in the coSpace</td>
  </tr>
  <tr>
    <td>canRemoveSelf</td>
    <td>true|<b>false</b></td>
    <td>Whether this user is allowed to remove himself from the coSpace</td>
  </tr>
  <tr>
    <td>canDeleteAllMessages</td>
    <td>true|<b>false</b></td>
    <td>Whether this user is allowed to delete all messages from the coSpace message board</td>
  </tr>
  <tr>
    <td>canChangeNonMemberAccessAllowed</td>
    <td><b>true</b>|false</td>
    <td>Whether this user is allowed to change the “non-member access allowed setting” of the coSpace. From version 2.3.</td>
  </tr>
</table>


+ Parameters
    + coSpaceId (ID)
    + filter (string, optional)
        Supply filter=`<string`> in the URI to return just those coSpace users that match the filter
    + offset (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2).
    + limit (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2).
    + callLegProfileFilter (ID, optional)
        Supply callLegProfileFilter=<ID> to return just members using that call leg profile

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <coSpaceUser id="527089d6-6581-4331-8417-971c05c9e274">
              <userJid>darth@empire.net</userJid>
              <userId>"de41b1e5-7a56-4894-a5c1-493df2086799"</userId>
              <autoGenerated>"true"</autoGenerated>
            </coSpaceUser>

## Adding and modifying a coSpace member [POST]
* Adding: POST method to a `/coSpaces/<coSpaceId>/coSpaceUsers` node
* Modifying: PUT method performed on a `/coSpaces/<coSpaceId>/coSpaceUsers/<coSpaceUser ID>` node.
The parameters that you can modify are listed above, with the exception of `userJid`. Note: `userJid` is a mandatory parameter.

If the member was added successfully, a “200 OK” response is received, and the “Location” header in the response contains the new user ID.

#### coSpace Permissions
Members with `canAddRemoveMember` set to true can add other users as members of the coSpace from Cisco Meeting App (depending on the platform and the version). New members have identical permissions to the member who added them, except in one case: when the original member also has canRemoveSelf set to false.

Members who cannot remove themselves from the coSpace (as controlled by `canRemoveSelf`) should not be able to create a second member in order to delete their own membership. Therefore any member created from Cisco Meeting App by another member in this situation will have `canAddRemoveMember` set to false and `canRemoveSelf` set to true (see the table below). All other permissions are copied from the original member.

<table>
    <tr>
        <th colspan="1.5">Original user permission</th>
        <th colspan="1.5">Created user permissions</th>
        <th>Notes</th>
    </tr>
    <tr>
        <th>canAddRemoveMember</th>
        <th>canRemoveSelf</th>
        <th>canAddRemoveMember</th>
        <th>canRemoveSelf</th>
        <th></th>
    </tr>
    <tr>
        <td>False</td>
        <td>NA</td>
        <td>NA</td>
        <td>NA</td>
        <td>They can’t add another user</td>
    </tr>
    <tr>
        <td>True</td>
        <td>True</td>
        <td>True</td>
        <td>True</td>
        <td>All permissions copied</td>
    </tr>
    <tr>
        <td>True</td>
        <td>False</td>
        <td>False</td>
        <td>True</td>
        <td>All other permissions copied</td>
    </tr>
</table>

Using the API provides more flexibility: it is possible to create coSpaces with members who cannot remove themselves, but who can be removed by another member. Members can always be removed via the API.

Auto-generated members (created by an LDAP sync) have auto-generated permissions because it makes no sense to allow them to make changes that will be overwritten by the next LDAP sync. Therefore, for these users the following parameters are always set to false: `canDestroy`, `canChangeName`, `canChangeUri`, `canChangeCallId` and `canRemoveSelf`.
The other “can” parameters are set to true. Note that changing any of these settings for an auto-generated member via the API will only have a temporary effect and will be overwritten at the next LDAP sync: you could discover whether a member is auto-generated – see the next section.

Finally, if a user creates a coSpace from the Cisco Meeting App, then `canDeleteAllMessages`is set to false for all members, and all other permissions are set to true by default for all members.

<table style="width: 100%;">
  <tr>
    <th>Permission</th>
    <th colspan="5">coSpace created by:</th>
  </tr>
  <tr>
    <td></td>
    <td>Cisco Meeting App</td>
    <td>LDAP sync</td>
    <td>API</td>
  </tr>
  <tr>
    <td>canDestroy</td>
    <td>true</td>
    <td>false</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canAddRemoveMember</td>
    <td>true</td>
    <td>true</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canChangeName</td>
    <td>true</td>
    <td>false</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canChangeUri</td>
    <td>true</td>
    <td>false</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canChangeCallId</td>
    <td>true</td>
    <td>false</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canChangePasscode</td>
    <td>true</td>
    <td>true</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canPostMessage</td>
    <td>true</td>
    <td>true</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canRemoveSelf</td>
    <td>true</td>
    <td>false</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canDeleteAllMessages</td>
    <td>false</td>
    <td>true</td>
    <td>false</td>
  </tr>
  <tr>
    <td>canChangeNonMemberAccessAllowed</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>
</table>

+ Parameters
    + coSpaceId (ID)

+ Attributes (coSpaceMember)

+ Response 200
    + Headers

            Location: /api/v1/coSpaces/b449de90-9dc5-4bed-9c65-a09a321d2bd9/coSpaceUsers/3c2b4c49-9e60-4c97-835d-d22038d812cc

## Retrieving Information on a coSpace member [GET /coSpaces/{coSpaceId}/coSpaceUsers/{coSpaceUserId}]
GET method performed on a `/coSpaces/<coSpaceId>/coSpaceUsers/<coSpaceUser ID>` node. If the retrieval is valid, a “200 OK” response is received, with containing a single `<coSpaceUser id=<ID>>` object with data as described above for the creating and modifying case. In addition
* the `autoGenerated` value shows whether the coSpace member was added to the coSpace automatically as part of an LDAP sync operation
* the `canDeleteAllMessages` shows whether this member is allowed to delete chat in the coSpace

+ Parameters
    + coSpaceId (ID)
    + coSpaceUserId (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <coSpaceUser id="3c2b4c49-9e60-4c97-835d-d22038d812cc">
              <userId>3c2b4c49-9e60-4c97-835d-d22038d812cc</userId>
              <userJid>darth@ciscolabs.com</userJid>
              <autoGenerated>false</autoGenerated>
              <canDestroy>false</canDestroy>
              <canAddRemoveMember>false</canAddRemoveMember>
              <canChangeName>false</canChangeName>
              <canChangeUri>false</canChangeUri>
              <canChangeCallId>false</canChangeCallId>
              <canChangePasscode>false</canChangePasscode>
              <canPostMessage>false</canPostMessage>
              <canDeleteAllMessages>false</canDeleteAllMessages>
              <canRemoveSelf>false</canRemoveSelf>
              <canChangeNonMemberAccessAllowed>true</canChangeNonMemberAccessAllowed>
            </coSpaceUser>

## coSpace Chat/Message Board Methods [/coSpaces/{coSpaceId}/messages{?minAge,maxAge}]
## Posting to the message board of a coSpace [POST]
POST method performed on the `/coSpaces/<coSpaceId>/messages` node.

If successful, the message is posted to the message board and an ID for the message is returned in the `Location` field of the response header.

<table>
  <tr>
    <th>Parameters </th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>message*</td>
    <td>String</td>
    <td>The message string to be posted to the message board</td>
  </tr>
  <tr>
    <td>from </td>
    <td>String</td>
    <td>A “from” name to be shown to message board viewers as the originator of the message</td>
  </tr>
</table>

+ Parameters
    + coSpaceId (ID)

+ Attributes (message)

+ Response 200
    + Headers

            Location: /api/v1/coSpaces/b449de90-9dc5-4bed-9c65-a09a321d2bd9/messages/5732c880-9557-45c4-ad4c-d46040db781a

## Deleting messages from a coSpace message board [DELETE]
DELETE method on a `/coSpaces/<coSpace ID>/messages` node with the form parameters below which select messages by age. With no additional parameters, all messages for that coSpace will be deleted.

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>minAge</td>
    <td>Number</td>
    <td>If supplied (in the URL) deletes only messages whose age is at least the specified value (in seconds)</td>
  </tr>
  <tr>
    <td>maxAge</td>
    <td>Number</td>
    <td>If supplied specifies (in the URL) an upper limit (in seconds) on the age of messages to be deleted</td>
  </tr>
</table>

+ Parameters
    + minAge (number, optional)
    + maxAge (number, optional)

+ Response 200

## Multiple coSpace Access Methods [/coSpaces/{coSpaceId}/accessMethods/{?filter,offset,limit,callLegProfileFilter}]
There are two related tables of objects:
* Access method per-coSpace, `/coSpaces/<cospace ID>/accessMethods [/<accessMethod ID>]`
* Call leg profile, `/callLegProfiles/<callLegProfile ID>`

### Access method per coSpace
Access methods define `URI` / `passcode` / `callID` combinations that can be used to access a coSpace

Optionally, Access methods can have an associated Call Leg Profile; any call leg joining via such an Access method has that Call leg profile applied to it. If the Access method has no Call leg profile but the coSpace does, then so does coSpace’s call

---
**Note:** When you send an email invitation from Cisco Meeting App to one or more people to join a coSpace or active call, only one set of `URI` / `passcode` / `callID` information is included. If the scope field for an access method is set to public then this information is used. If no access methods have a public scope then the call information from the coSpace’s own configuration is included.

---
### Call leg profile
A call leg profile can be associated with a coSpace object, making it the default call leg profile for all call legs in that coSpace (for instance, those that connect via its configured URI and secondaryUri). (The effect of the coSpace call leg profile can still be overridden by more specific overrides imposed via call leg profiles configured for additional coSpace access methods. See the Call Leg Profile section.

## Retrieving coSpace access methods [GET]

Response is a collection of `<accessMethod id=<access method id>>` objects contained within an `<accessMethods>` object

`<accessMethod>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>accessMethod id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>uri</td>
        <td>String</td>
        <td>The URI to be used for dialing in via this access method</td>
    </tr>
    <tr>
        <td>callId</td>
        <td>ID</td>
        <td>The "call ID" to be used for connecting via this access method (using the IVR or Web Bridge login)</td>
    </tr>
    <tr>
        <td>passcode</td>
        <td>String</td>
        <td>A passcode required for this access method</td>
    </tr>
    <tr>
        <td>callLegProfile</td>
        <td>ID</td>
        <td>The ID of a call leg profile to apply to calls in via this access method</td>
    </tr>
</table>

+ Parameters
    + coSpaceId (ID)
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those coSpace access methods that match the filter
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + callLegProfileFilter (ID, optional) - Supply callLegProfileFilter=`<ID`> to return just accessMethods for coSpaces using that call leg profile

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <accessMethods total="1">
              <accessMethod id="74352ae5-26d0-4401-82ca-1d1a20e2e91c">
                <uri>am1.space</uri>
                <callId>111111</callId>
                <passcode/>
              </accessMethod>
            </accessMethods>

## Creating and modifying coSpace access methods [POST]
* Creating: POST method to the `/coSpaces/<coSpace Id>/accessMethods` node
* Modifying: PUT method on a `/coSpaces/<coSpace Id>/accessMethods/<accessMethod id>` node

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>uri</td>
    <td>String(URI user part)</td>
    <td>The URI to be used for dialing in via this access method</td>
  </tr>
  <tr>
    <td>callId</td>
    <td>ID</td>
    <td>The "call ID" to be used for connecting via this access method (using the IVR or Web Bridge login)</td>
  </tr>
  <tr>
    <td>passcode</td>
    <td>String</td>
    <td>A passcode required for this access method</td>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>The name associated with this access method (from version 2.9)</td>
  </tr>
  <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>The ID of a call leg profile to apply to calls in via this access method</td>
  </tr>
  <tr>
    <td>secret</td>
    <td>String</td>
    <td>If provided, sets the security string for this coSpace access method. If absent, a security string is chosen automatically if the coSpace access method has a callId value. This is the security value associated with the coSpace access method that needs to be supplied with the callId for guest access to the coSpace via this access method.</td>
  </tr>
  <tr>
    <td>regenerateSecret</td>
    <td>true|false</td>
    <td>If provided as true - a new security value is generated for this coSpace access method and the former value is no longer valid (for instance, any hyperlinks including it will cease to work)If provided as false - do not generate a new secret value for this coSpace access method; this has no effectThis parameter is only valid for the modify (PUT) case</td>
  </tr>
  <tr>
    <td> scope</td>
    <td> public|private</td>
    <td>The visibility of this coSpace access method to users of Cisco Meeting App who are members of the coSpaceIf provided as public - details of this coSpace access method can be made available to members of the coSpaceIf provided as private - details of this coSpace access method will not be made available to members of the coSpaceNote: if you set the scope to public then the Cisco Meeting App can no longer edit the coSpace details. In addition, the uri shown under the name is that from the access method.</td>
  </tr>
  <tr>
    <td>importance</td>
    <td>Number</td>
    <td>The importance value assigned to all participants joining via this access method. Maximum value is 2,147,483,647. (From version 2.4)</td>
  </tr>
  <tr>
    <td>dialInSecurityProfile</td>
    <td>ID</td>
    <td>If provided, associates the specified dial in security profile with this coSpace access method (3.0 onwards)</td>
  </tr>

</table>

If the coSpace access method is created successfully, a “200 OK” response will be received, and the `Location` header in the response will contain the new coSpace access method ID.



+ Attributes (accessMethod)

+ Response 200
    + Headers

            Location: /api/v1/coSpaces/b449de90-9dc5-4bed-9c65-a09a321d2bd9/accessMethods/74352ae5-26d0-4401-82ca-1d1a20e2e91c

## Retrieving information on an individual coSpace access method [GET /coSpaces/{coSpaceId}/accessMethods/{accessMethodId}]
GET method on a `/coSpaces/<coSpace id>/accessMethods/<access method id>` node.
If the access method ID supplied is valid, a "200 OK" response and a single `<accessMethodId=access method id>` object will be returned with data in the previous section.

+ Parameters
    + coSpaceId (ID)
    + accessMethodId (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <accessMethod id="74352ae5-26d0-4401-82ca-1d1a20e2e91c">
              <uri>am1.space</uri>
              <callId>111111</callId>
              <passcode/>
              <secret>pVJywoeunB3168M4CUoYLg</secret>
            </accessMethod>

## Bulk creating, updating and deleting coSpaces [/cospaceBulkParameterSets{?startIndex,endIndex}]
## Retrieving the parameter sets for creating coSpaces in bulk [GET]
GET method on `/cospaceBulkParameterSets` node.

Response is structured as a top-level <cospaceBulkParameterSets total=”N”> tag with potentially multiple <cospaceBulkParameterSet> elements within it.
<cospaceBulkParameterSet> elements follow the general form on the left.

+ Parameters
    + startIndex (Number) - Index that coSpace mappings start from (inclusive)
    + endIndex (Number) - Index that coSpace mappings end at (inclusive)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cospaceBulkParameterSets total="1">
              <cospaceBulkParameterSet id="129c6941-0b6f-4f15-a16d-8b0ce9444fb9">
              <startIndex>1000</startIndex>
              <endIndex>1005</endIndex>
              </cospaceBulkParameterSet>
            </cospaceBulkParameterSets>

## Creating coSpace Bulk Parameter sets [POST]
* Creating: POST method to the `/cospaceBulkParameterSets` node. Creates a new parameter set, see table below. Returns location of new parameter set `/cospaceBulkParameterSets/<set Id>`
* Modifying: PUT method to the `/cospaceBulkParameterSets` node. Updates the parameters within this parameter set, but needs to be synchronized for it to take effect.

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>startIndex</td>
    <td>Number</td>
    <td>Index that coSpace mappings start from (inclusive)</td>
  </tr>
  <tr>
    <td>endIndex</td>
    <td>Number</td>
    <td>Index that coSpace mappings end at (inclusive)</td>
  </tr>
  <tr>
    <td>coSpaceUriMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what URIs will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set, coSpace will not have a dialable URI. Syntax: uri-mapping = [uri-component] [“$index$”] [uri-component]Where: uri-component = *( uri-character / escaped-character ) uri-character = *( unescaped-character EXCLUDING ‘@’ ) unescaped-character = any character EXCLUDING ‘$’ and ‘\’escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectively.These need to be unique so if an index is not used there will be clashes, unless the field is just left completely blank .</td>
  </tr>
  <tr>
    <td>coSpaceNameMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what names will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet.Syntax: name-mapping = [name-component] [“$index$”] [name-component] Where: name-component = *( unescaped-character / escaped-character ) unescaped-character = any character EXCLUDING ‘$’ and ‘\’ escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectively.These are not required to be unique.</td>
  </tr>
  <tr>
    <td>coSpaceCallIdMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what call IDs will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not have a callId.Syntax: id-mapping = [id-component] [“$index$”] [id-component] Where: id-component = *( unescaped-character / escaped-character )unescaped-character = any character EXCLUDING ‘$’ and ‘\’escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectivelyThese need to be unique so if index is not used there will be clashes, unless the field is just left completely blank.Secrets will be autogenerated if CallIdMapping is set.</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If specified this is the tenant to be associated with the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a tenant.</td>
  </tr>
  <tr>
    <td>callProfile</td>
    <td>ID</td>
    <td>If specified this is the call profile to be associated with the cospaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a call profile.</td>
  </tr>
  <tr>
    <td>callBrandingProfile</td>
    <td>ID</td>
    <td>If specified this is the call branding profile to be associated with the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a call branding profile.</td>
  </tr>
  <tr>
    <td>nonMemberAccess</td>
    <td>true|false</td>
    <td>Whether non-members will be able to access the bulk created coSpaces. If this parameter is not supplied in a create (POST) operation, it defaults to "true" and non members can access the coSpace.</td>
  </tr>
</table>

+ Attributes (cospaceBulkParameterSets)

+ Response 200
    + Headers

            Location: /api/v1/cospaceBulkParameterSets/129c6941-0b6f-4f15-a16d-8b0ce9444fb9

## Retrieving information on an individual coSpace Bulk Parameter sets [GET /cospaceBulkParameterSets/{setId}]
GET method on `/cospaceBulkParameterSets/<set Id>` node.

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td> </td>
    <td> </td>
    <td>Response is structured as a top-level &lt;cospaceBulkParameterSets total=”N”&gt; tag with potentially multiple &lt;cospaceBulkParameterSet&gt; elements within it.Each &lt;cospaceBulkParameterSet&gt; element may include the following elements.</td>
  </tr>
  <tr>
    <td>startIndex</td>
    <td>Number</td>
    <td>Index that coSpace mappings start from (inclusive)</td>
  </tr>
  <tr>
    <td>endIndex</td>
    <td>Number</td>
    <td>Index that coSpace mappings end at (inclusive)</td>
  </tr>
  <tr>
    <td>coSpaceUriMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what URIs will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set, coSpace will not have a dialable URI. Syntax: uri-mapping = [uri-component] [“$index$”] [uri-component]Where: uri-component = *( uri-character / escaped-character ) uri-character = *( unescaped-character EXCLUDING ‘@’ ) unescaped-character = any character EXCLUDING ‘$’ and ‘\’escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectively.These need to be unique so if an index is not used there will be clashes, unless the field is just left completely blank .</td>
  </tr>
  <tr>
    <td>coSpaceNameMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what names will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet.Syntax: name-mapping = [name-component] [“$index$”] [name-component] Where: name-component = *( unescaped-character / escaped-character ) unescaped-character = any character EXCLUDING ‘$’ and ‘\’ escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectively.These are not required to be unique.</td>
  </tr>
  <tr>
    <td>coSpaceCallIdMapping</td>
    <td>String</td>
    <td>If specified, this is the mapping that describes what call IDs will be used for the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not have a callId Syntax: id-mapping = [id-component] [“$index$”] [id-component] Where: id-component = *( unescaped-character / escaped-character )unescaped-character = any character EXCLUDING ‘$’ and ‘\’escaped-character = “\\” / “\$” ; producing ‘\’ and ‘$’ respectivelyThese need to be unique so if index is not used there will be clashes, unless the field is just left completely blank.Secrets will be autogenerated if CallIdMapping is set.</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If specified this is the tenant to be associated with the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a tenant.</td>
  </tr>
  <tr>
    <td>callProfile</td>
    <td>ID</td>
    <td>If specified this is the call profile to be associated with the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a call profile.</td>
  </tr>
  <tr>
    <td>callBrandingProfile</td>
    <td>ID</td>
    <td>If specified this is the call branding profile to be associated with the coSpaces created with a /cospaceBulkSync using this cospaceBulkParameterSet. If not set then the coSpace will not be associated with a call branding profile.</td>
  </tr>
  <tr>
    <td>nonMemberAccess</td>
    <td>true|false</td>
    <td>Whether non-members will be able to access the bulk created coSpaces. If this parameter is not supplied in a create (POST) operation, it defaults to "true" and non members can access the coSpace.</td>
  </tr>
</table>

+ Parameters
    + setId (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cospaceBulkParameterSet id="129c6941-0b6f-4f15-a16d-8b0ce9444fb9">
              <startIndex>1000</startIndex>
              <endIndex>1010</endIndex>
            </cospaceBulkParameterSet>

## Queueing the bulk sync operations [POST /cospaceBulkSyncs/{bulk_sync_guid}]
* Creating: POST method to the `/cospaceBulkSyncs` node. Queues the bulk sync operations for execution as soon as possible. Returns location `/cospaceBulkSync/<bulk_sync_guid>`
* Modifying: PUT method to the `/cospaceBulkSyncs` node not supported.

---
>**Note:** Bulk Sync will iterate between startIndex and endIndex (inclusive at both end) and expand and insert the mapping parts.
---

<table>
  <tr>
    <th>Parameter</th>
    <th>Type/Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>cospaceBulkParameterSet</td>
    <td>ID</td>
    <td>Parameter set GUID that is going to be synchronised</td>
  </tr>
  <tr>
    <td>removeAll</td>
    <td>true|false</td>
    <td>If supplied, determines whether the sync will remove all entries that were created using the parameter set. Used only if you need to remove all spaces that were created previously. If set to true then no spaces will be created. If set to false, or omitted, then all spaces previously created using this parameter set will be removed and new spaces based on the new mappings will be created.If this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
</table>

+ Request
    + Body

            cospaceBulkParameterSet=129c6941-0b6f-4f15-a16d-8b0ce9444fb9

+ Attributes (cospaceBulkParameterSets)

+ Response 200
    + Headers

            Location: /api/v1/cospaceBulkSyncs/5dd4ccc0-ed58-4ef5-97be-04dfe9937785

## Retrieving the bulk sync operations [GET /cospaceBulkSyncs/{cospaceBulkParameterSet}]

GET method on `/cospaceBulkSyncs` node.
Response is structured as a top-level <cospaceBulkSyncs total=”N”> tag with potentially multiple <cospaceBulkSync> elements within it.<cospaceBulkSync> elements follow the general form on the left.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>

  <tr>
    <td>cospaceBulkParameterSet</td>
    <td>ID</td>
    <td>Parameter set that was used for this bulk sync</td>
  </tr>
  <tr>
    <td>status</td>
    <td>pending| running| complete| failedCoSpaceUriConflict|failedCallIdConflict| failedIndexRangeInvalid| failedIndexRangeTooGreat|failedNoSuchParameterSet| failed</td>
    <td>Status of the sync operation:pending - the sync operation is in a queue waiting to executerunning - the sync operation is currently runningcomplete - the sync operation has successfully completedfailedCoSpaceUriConflict - the sync failed because it would involve creating a URI that conflicts with one that already existsfailedCallIdConflict - the sync failed because it would involve creating a call ID that conflicts with one that already existsfailedIndexRangeInvalid - the sync failed because the "startIndex" was greater than the "endIndex"failedIndexRangeTooGreat - the sync failed because the difference between "endIndex" and "startIndex" was too largefailedNoSuchParameterSet - the "cospaceBulkParameterSet" refered to in the sync command did not existfailed - the sync operation failed</td>
  </tr>
  <tr>
    <td>removeAll</td>
    <td>true|false</td>
    <td>If supplied, determines whether the sync will remove all entries that were created using the parameter set. Used only to remove all spaces that were created previously. If set to true then no spaces will be created. If set to false, or omitted, then all spaces previously created using this parameter set will be removed and new spaces based on the new mappings will be created.If this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
</table>

+ Parameters
    + cospaceBulkParameterSet (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cospaceBulkSyncs total="1">
              <cospaceBulkSync id="5dd4ccc0-ed58-4ef5-97be-04dfe9937785">
                <cospaceBulkParameterSet>129c6941-0b6f-4f15-a16d-8b0ce9444fb9</cospaceBulkParameterSet>
                <status>complete</status>
              </cospaceBulkSync>
            </cospaceBulkSyncs>

## Retrieving a specific bulk sync operation [GET /cospaceBulkSyncs/{coSpacebulksyncid}]
GET method on `/cospaceBulkSyncs/<cospacebulksyncid>` node.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td> </td>
    <td> </td>
    <td>Response is structured as a top-level &lt;cospaceBulkSyncs total=”N”&gt; tag with potentially multiple &lt;cospaceBulkSync&gt; elements within it.&lt;cospaceBulkSync&gt; elements follow the general form on the left.</td>
  </tr>
  <tr>
    <td>cospaceBulkParameterSet</td>
    <td>ID</td>
    <td>Parameter set that was used for this bulk sync</td>
  </tr>
  <tr>
    <td>status</td>
    <td>pending| running| complete| failedCoSpaceUriConflict|failedCallIdConflict| failedIndexRangeInvalid| failedIndexRangeTooGreat|failedNoSuchParameterSet| failed</td>
    <td>Status of the sync operation:pending - the sync operation is in a queue waiting to executerunning - the sync operation is currently runningcomplete - the sync operation has successfully completedfailedCoSpaceUriConflict - the sync failed because it would involve creating a URI that conflicts with one that already existsfailedCallIdConflict - the sync failed because it would involve creating a call ID that conflicts with one that already existsfailedIndexRangeInvalid - the sync failed because the "startIndex" was greater than the "endIndex"failedIndexRangeTooGreat - the sync failed because the difference between "endIndex" and "startIndex" was too largefailedNoSuchParameterSet - the "cospaceBulkParameterSet" refered to in the sync command did not existfailed - the sync operation failed</td>
  </tr>
  <tr>
    <td>removeAll</td>
    <td>true|false</td>
    <td>If supplied, determines whether the sync will remove all entries that were created using the parameter set. Used only to remove all spaces that were created previously. If set to true then no spaces will be created. If set to false, or omitted, then all spaces previously created using this parameter set will be removed and new spaces based on the new mappings will be created.If this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
</table>

+ Parameters
    + coSpacebulksyncid (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cospaceBulkSync id="5dd4ccc0-ed58-4ef5-97be-04dfe9937785">
              <cospaceBulkParameterSet>129c6941-0b6f-4f15-a16d-8b0ce9444fb9</cospaceBulkParameterSet>
              <status>complete</status>
            </cospaceBulkSync>

## coSpace Diagnostics Methods [/coSpaces/{coSpaceId}/diagnostics]
A POST to `/coSpaces/<coSpace id>/diagnostics` triggers the generation of call diagnostics for the specified coSpace.


## Generate call diagnostics [POST]
+ Parameters
    + coSpaceId (ID)
+ Response 200
    + Headers

            Location: /api/v1/system/diagnostics/e7e285d4-ae09-4eaf-9991-5a16b20a3e0a


# Group Using coSpace templates

Creating, modifying, retrieving, enumerating and deleting coSpace templates

From 2.9, API node `/coSpaceTemplates` is used to implement coSpace templates with the following request parameters:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>the human-readable name associated with this coSpace template</td>
    </tr>
    <tr>
       <td>description</td>
        <td>String</td>
        <td>a longer description of the coSpace template to give users an explanation of why they might want to use this template</td>
    </tr>
    <tr>
       <td>callProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call profile with this coSpaceTemplate</td>
    </tr>
    <tr>
       <td>callLegProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call leg profile with this coSpaceTemplate</td>
    </tr>
    </tr>
       <td>dialInSecurityProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified dial-in security profile with this coSpaceTemplate (3.0 onwards)</td>
    </tr>
</table>


This API node `/coSpaceTemplates` supports the following operations:
* POST to `/coSpaceTemplates`
* PUT to `/coSpaceTemplates/<coSpace template id>`
* DELETE on `/coSpaceTemplates/<coSpace template id>`
* GET on `/coSpaceTemplates/<coSpace template id>`

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>the human-readable name associated with this coSpace template</td>
    </tr>
    <tr>
       <td>description</td>
        <td>String</td>
        <td>a longer description of the coSpace template to give users an explanation of why they might want to use this template</td>
    </tr>
    <tr>
       <td>callProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call profile with this coSpaceTemplate</td>
    </tr>
    <tr>
       <td>callLegProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call leg profile with this coSpaceTemplate</td>
    </tr>
       <td>dialInSecurityProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified dial-in security profile with this coSpaceTemplate (3.0 onwards)</td>
    </tr>
    <tr>
       <td>numAccessMethodTemplates</td>
        <td>Number</td>
        <td>The number of access method templates associated with this coSpace template</td>
    </tr>
</table>

## Retrieve coSpaceTemplates [GET /coSpaceTemplates/{?offset,filter,limit}]

Enumerate GET on `/coSpaceTemplates`, gives the following responses:

The response is structured as a top-level <coSpaceTemplates total="N"> tag with potentially multiple <coSpaceTemplate> elements within it.
Each <coSpaceTemplate> tag may include the following elements:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>the human-readable name associated with this coSpace template</td>
    </tr>
    <tr>
        <td>callProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call profile with this coSpaceTemplate</td>
    </tr>
     <tr>
       <td>callLegProfile</td>
        <td>ID</td>
        <td>if provided, associates the specified call leg profile with this coSpaceTemplate</td>
    </tr>
    <tr>
       <td>dialInSecurityProfile</td>
        <td>ID</td>
        <td>if provided, the specified dial-in security profile associated with this coSpaceTemplate (3.0 onwards)</td>
    </tr>
    <tr>
       <td>numAccessMethodTemplates</td>
        <td>Number</td>
        <td>The number of access method templates associated with this coSpace template</td>
    </tr>
</table>


+ Parameters
    + offset - an offset can be supplied to retrieve coSpace templates other than the first page in the notional list
    + limit - a limit can be supplied to retrieve coSpace templates other than the first page in the notional list
    + filter (string) - supply filter=<string> to return just those coSpace templates that match the filter

+ Response 200

# Group Using Access Method templates

Creating, modifying, retrieving, enumerating and deleting coSpace template access method templates

2.9 introduces the API node /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates
with the following request parameters:

<table>
<thead>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>the human-readable name associated with this access method template</td>
  </tr>
  <tr>
    <td>uriGenerator</td>
    <td>String</td>
    <td>the expression to be used to generate URI values for this access method template; the allowed set of characters are 'a' to 'z', 'A' to 'Z', '0' to '9', '.', '-', '_' and '$'; if non empty it must contain exactly one '$' character</td>
  </tr>
  <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified call leg profile with this accessMeth-odTemplate</td>
  </tr>
  <tr>
    <td>generateUniqueCallId</td>
    <td>true | false</td>
    <td>whether to generate a unique numeric ID for this access method which overrides the global one for the cospace if this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
  <tr>
    <td>dialInSecurityProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified dial-in security profile with this accessMethodTemplate (3.0 onwards)</td>
  </tr>
</tbody>
</table>

The API node /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates
supports the following operations:
- POST to /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates
- PUT to /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates/<access method template ID>
- DELETE on /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates/<access method template ID>
- GET on /coSpaceTemplates/<coSpace template id>/accessMethodTemplates/<access method template id>
, gives the following responses:

<table>
<thead>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>the human-readable name associated with this access method template</td>
  </tr>
  <tr>
    <td>uriGenerator</td>
    <td>String</td>
    <td>the expression to be used to generate URI values for this access method template; the allowed set of characters are 'a' to 'z', 'A' to 'Z', '0' to '9', '.', '-', '_' and '$'; if non empty it must contain exactly one '$' character</td>
  </tr>
  <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified call leg profile with this accessMeth-odTemplate</td>
  </tr>
  <tr>
    <td>generateUniqueCallId</td>
    <td>true | false</td>
    <td>whether to generate a unique numeric ID for this access method which overrides the global one for the cospace if this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
  <tr>
    <td>dialInSecurityProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified dial-in security profile with this accessMethodTemplate (3.0 onwards)</td>
  </tr>
</tbody>
</table>

## Retrieve Access Method templates [GET /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates{?offset,filter,limit, callLegProfileFilter }]

Enumerate GET on /coSpaceTemplates/<coSpace template ID>/accessMethodTemplates, gives the following responses:

Response is structured as a top-level <accessMethodTemplates total="N"> tag with potentially multiple <accessMethodTemplate> elements within it.
Each <accessMethodTemplate> tag may include the following elements:

<table>
<thead>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>the human-readable name associated with this access method template</td>
  </tr>
  <tr>
    <td>uriGenerator</td>
    <td>String</td>
    <td>the expression to be used to generate URI values for this access method template; the allowed set of characters are 'a' to 'z', 'A' to 'Z', '0' to '9', '.', '-', '_' and '$'; if non empty it must contain exactly one '$' character</td>
  </tr>
  <tr>
    <td>callLegProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified call leg profile with this accessMeth-odTemplate</td>
  </tr>
  <tr>
    <td>generateUniqueCallId</td>
    <td>true | false</td>
    <td>whether to generate a unique numeric ID for this access method which overrides the global one for the cospace if this parameter is not supplied in a create (POST) operation, it defaults to "false"</td>
  </tr>
  <tr>
    <td>dialInSecurityProfile</td>
    <td>ID</td>
    <td>if provided, associates the specified dial-in security profile with this accessMethodTemplate (3.0 onwards)</td>
  </tr>
</tbody>
</table>

+ Parameters
    + offset - an offset can be supplied to retrieve coSpace templates other than the first page in the notional list
    + limit - a limit can be supplied to retrieve coSpace templates other than the first page in the notional list
    + filter (string) - supply filter=<string> to return just those coSpace templates that match the filter
    + callLegProfileFilter (string) - supply callLegProfileFilter=<string> to return just those coSpace access method templates that use the specified call leg profile

# Group Calling Out from a coSpace
Adding a remote party to a coSpace requires that this coSpace has an active call from which connections can be made. Essentially this makes an initial call out from a
coSpace a combination of two other API methods:

1. Creation of a new call
2. Adding a new outgoing call leg to a call

These methods are described in later sections.

# Group Dial Plan Methods
This chapter details the API methods related to configuring dial plans for outbound calls, inbound calls and call forwarding. The chapter covers:
* retrieving outbound dial plan rules
* creating and modifying outbound dial plan rules
* retrieving information on an individual outbound dial plan rule
* retrieving dial plan rules for incoming calls
* creating and modifying dial plan rules for incoming calls
* retrieving information on the dial plan rule for an individual incoming call
* retrieving dial plan rules for forwarding incoming calls
* creating and modifying dial plan rules for forwarding incoming calls
* retrieving information on the dial plan rule to forward an individual incoming call

## Outgoing Dial Plan API Methods [/outboundDialPlanRules/{?filter,offset,limit,tenantFilter}]
### Access to the outgoing dial plan
Typically, the configuration of which trunks or proxies to use for outbound calls is based on the domain of the (SIP) destination being called, which is specified in the outgoing dial plan. The outgoing dial plan sits in the API object tree under the `/outboundDialPlanRules` node, use the POST method to create the outgoing dial plan or set it up via the Web Admin Interface (see note below).

If you are deploying Call Bridge clustering, use the API parameter `scope` to choose whether to apply each outbound dial plan rule to every Call Bridge in the cluster, or just to a particular Call Bridge so the Call Bridge can be trunked to its local Call Control solution (if appropriate).


---
**Note:** The API parameter `callRouting` specifies the mechanism for traversal of outgoing SIP/Lync calls, use this parameter to set up firewall traversal for SIP and Lync devices. This is still a beta feature.

---

---
**Note:** On the Web Admin Interface, the table of outbound rules is configured through the Configuration > Dial plan page. All rules added via the Web Admin Interface are global and applied to every Call Bridge in the cluster. You cannot use the Web Admin interface to specify the call routing for outbound SIP/Lync calls using a specific Call Bridge or Call Bridge group.

---

## Retrieving outbound dial plan rules [GET]
Response is a collection of `<outboundDialPlanRule id=<ID>>` objects contained within an `<outboundDialPlanRules>` object

`<outboundDialPlanRule>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>outboundDialPlanRule id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>domain</td>
        <td>String</td>
        <td>The domain to match in order to apply the dial plan rule; either a complete value (e.g. "example.com") or a “wildcarded” one (e.g. "*.com")</td>
    </tr>
    <tr>
        <td>priority</td>
        <td>Number</td>
        <td>A numeric value which determines the order in which dial plan rules (including rules with wild-carded domains) will be applied. Rules with higher priority values are applied first</td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>If a tenant is specified, this rule will only be used to make outbound call legs from calls associated with that tenant; otherwise, this rule may be used from any call. This parameter is present from R1.8 onwards.</td>
    </tr>
</table>

+ Parameters
    + filter (optional) - Supply filter=`<string`> in the URI to return just those outbound dial plan rules that match the filter
    + offset (optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + limit (optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + tenantFilter (ID, optional) - If supplied, this filter only returns those outbound dial plan rules associated with the specified tenant. This parameter is present from version 1.8 onwards

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <outboundDialPlanRules total="3">
              <outboundDialPlanRule id="12c20199-626a-45b6-9c61-9afca039a04d">
                <domain>ciscolabs.com</domain>
                <priority>0</priority>
              </outboundDialPlanRule>
              <outboundDialPlanRule id="5a928a9d-0a78-4731-b661-612156541d60">
                <domain>lab.local</domain>
                <priority>0</priority>
              </outboundDialPlanRule>
              <outboundDialPlanRule id="10762e9f-ed8f-4dcb-b159-77d38e9be90b">
                <domain>lab2.local</domain>
                <priority>0</priority>
              </outboundDialPlanRule>
            </outboundDialPlanRules>

## Creating and modifying outbound dial plan rules [POST]
* Creating: POST method to the `/outboundDialPlanRules` node. If the outgoing dial plan rule is created successfully, a “200 OK” response will be received, and the `Location` header in the response will contain the new outgoing dial plan rule ID
* Modifying: PUT method on an `/outboundDialPlanRules/<outbound dial plan rule ID>` node

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>domain *</td>
    <td>String</td>
    <td>The domain to match in order to apply the dial plan rule; either a complete value (e.g. "example.com") or a “wildcarded” one (e.g. "*.com")</td>
  </tr>
  <tr>
    <td>priority</td>
    <td>Number</td>
    <td>A numeric value which determines the order in which dial plan rules (including rules with wildcarded domains) will be applied. Rules with higher priority values are applied first. If a rule is matched, but the call cannot be made, then other lower priority rules may be tried depending on the failureAction parameter for the rule.</td>
  </tr>
  <tr>
    <td>localContactDomain</td>
    <td>String</td>
    <td>Used when forming an explicit contact domain to be used: if you leave this field blank then the localContactDomain is derived from the local IP address.If you are using Lync, we suggest that you set localContactDomain. If you are not using Lync, we recommend that localContactDomain is not set to avoid unexpected issues with the SIP call flow.</td>
  </tr>
  <tr>
    <td>localFromDomain</td>
    <td>String</td>
    <td>Used when forming the calling party for outgoing calls using this dial plan rule</td>
  </tr>
  <tr>
    <td>sipProxy</td>
    <td>String</td>
    <td>The address (IP address or hostname) of the proxy device through which to make the call. If not set, it is a direct call.</td>
  </tr>
  <tr>
    <td>trunkType</td>
    <td>sip|lync|avaya</td>
    <td>Used to set up rules to route calls out to third party SIP control devices such as CiscoExpressway, Avaya Manager or Lync servers. If set to lync or avaya then outgoing calls that use this rule will be made as Lync or Avaya calls with some specialized behavior. sip means that calls using this rule will be standard SIP calls.A common use of the Meeting Server is with an Avaya PBX; these calls will be audio-only. However, the Meeting Server does not impose this restriction on interoperability with Avaya products (some of which support video also): therefore a call of type of ‘avaya’ does not imply that the call is audio-only.</td>
  </tr>
  <tr>
    <td>failureAction</td>
    <td>stop|continue</td>
    <td>Whether or not to try the next outbound dial plan rule if the current one did not result in a connected call. If a rule has a failureAction of stop, then no further rules are used.</td>
  </tr>
  <tr>
    <td>sipControlEncryption </td>
    <td>auto|encrypted|unencrypted</td>
    <td>Whether to enforce use of encrypted control traffic on calls made via this rule:encrypted: allow only encrypted SIP control traffic (TLS connections)unencrypted: use only unencrypted traffic (TCP or UDP)auto: attempt to use encrypted control connections first, but allow fall back to unencrypted control traffic in the event of failure.Note: Ensure all "Lync" outbound dialing rules are explicitly set to Encrypted mode to prevent the Call Bridge attempting to use unencrypted TCP for these connections in the event of the TLS connection attempt failing.</td>
  </tr>
  <tr>
    <td>scope</td>
    <td>global|callBridge|callBridgeGroup</td>
    <td>The entities for which this outbound dial plan rule is valid:global - all Call Bridges are able to use this outbound dial plan rule to reach a matching domain.callBridge - this outbound dial plan rule is only valid for a single nominated Call Bridge – whose ID is given in callBridge parameter.callBridgeGroup - this outbound dial plan rule is only valid for a single nominated Call Bridge Group – whose ID is given in the callBridgeGroup parameter. (From version 2.2).If this parameter is not supplied in a create (POST) operation it defaults to “global”.</td>
  </tr>
  <tr>
    <td>callBridge</td>
    <td>ID</td>
    <td>If the rule has a scope of callBridge (see above), this is the id of the Call Bridge for which the rule is valid</td>
  </tr>
  <tr>
    <td>callBridgeGroup</td>
    <td>ID</td>
    <td>If the rule has a scope of callBridgeGroup (see above), this is the id of the Call Bridge Group for which the rule is valid (from version 2.2).</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If a tenant is specified, this rule will only be used to make outbound call legs from calls associated with that tenant; otherwise, this rule may be used from any call. </td>
  </tr>
  <tr>
    <td>callRouting(beta feature)</td>
    <td>default|traversal</td>
    <td>This is the media routing that should be used for SIP calls originating from this rule:default - calls using this rule will use normal, direct, media routingtraversal - media for calls using this rule will flow via a TURN serverif this parameter is not supplied in a create (POST) operation, it defaults to “default” .</td>
  </tr>
</table>

+ Attributes (outboundDialPlanRule)
+ Response 200
    + Headers

            Location: /api/v1/outboundDialPlanRules/3d42b1be-7921-47f6-9b69-36c85ac0a027

## Retrieving information on an individual outbound dial plan rule [GET /outboundDialPlanRules/{outboundDialPlanRuleId}]
GET method on a `/outboundDialPlanRules/<outbound dial plan rule ID>` node. If the outbound dial plan rule ID supplied is valid, a "200 OK" response and a single `<outboundDialPlanRule id=<ID>>` object will be returned with data as per the previous section.
+ Parameters
    + outboundDialPlanRuleId (ID)
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <outboundDialPlanRule id="12c20199-626a-45b6-9c61-9afca039a04d">
              <domain>ciscolabs.com</domain>
              <priority>0</priority>
              <localContactDomain/>
              <localFromDomain/>
              <trunkType>sip</trunkType>
              <sipControlEncryption>auto</sipControlEncryption>
              <sipProxy>proxy.ciscolabs.com</sipProxy>
              <failureAction>stop</failureAction>
              <scope>global</scope>
              <callRouting>default</callRouting>
            </outboundDialPlanRule>

## Incoming Call Matching Dial Plan API Methods [/inboundDialPlanRules/{?filter,offset,limit,tenantFilter}]
### Access to incoming domain matching rules

When an incoming SIP call is routed to the Meeting Server, the Call Bridge looks through the configured inbound dial plan rules first and tries to match the "domain" part of the destination URI "<user>@<domain>"against the rules.

Use the POST method on API object `/inboundDialPlanRules` to create a new inbound dial plan rule to match against incoming SIP calls, or set it up via the Web Admin Interface (see note below).
---
**Note:** On the Web Admin Interface, the table of inbound rules is configured through the **Configuration > Incoming calls** page.

---
## Retrieving incoming dial plan rules [GET]
Response is a collection of `<inboundDialPlanRuleId=<ID>>` objects contained within an `<inboundDialPlanRules>` object `<inboundDialPlanRule>` elements follow the general form on the left.


<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td> </td>
    <td> </td>
    <td>Response is a collection of "&lt;inboundDialPlanRule id=&lt;ID&gt;&gt;" objects contained within an "&lt;inboundDialPlanRules&gt;" object&lt;inboundDialPlanRule&gt; elements follow the general form on the left.</td>
  </tr>
  <tr>
    <td>inboundDialPlanRule id</td>
    <td>ID</td>
    <td> </td>
  </tr>
  <tr>
    <td>domain</td>
    <td>Text</td>
    <td>The domain to match in order to apply the dial plan rule. Must be a complete value (e.g. "example.com")</td>
  </tr>
  <tr>
    <td>priority</td>
    <td>Number</td>
    <td>Determines the priority of the inbound dial plan rule where multiple rules are applicable</td>
  </tr>
  <tr>
    <td>resolveToUsers</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be matched against user JIDs (if a match is then found, that incoming call leg causes a "point to point" call to that user's Meeting App.</td>
  </tr>
  <tr>
    <td>resolveTocoSpaces</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain are matched against coSpace URIs (if a match is then found, the incoming call leg becomes a participant in the coSpace).</td>
  </tr>
  <tr>
    <td>resolveToIvrs</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain are matched against configured IVR URIs (if a match is then found, the incoming call leg connects to that IVR).</td>
  </tr>
  <tr>
    <td>resolveToLyncConferences</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain are resolved to a Lync conference URL; if the resolution is successful, the incoming call leg becomes a participant in the Lync conference.If this parameter is not supplied in a create (POST) operation, it defaults to “false”.</td>
  </tr>
  <tr>
    <td>resolveToLyncSimplejoin</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain are resolved by an HTTPS lookup to the given URL. If the resolution is successful, the incoming call leg becomes a participant in the Lync conference. (From version 2.2).</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If specified, calls to this inbound domain are only matched against user JIDs and coSpace URIs for the specified tenant</td>
  </tr>
</table>

+ Parameters
    + filter (optional) - Supply filter=`<string`> in the URI to return just those incoming dial plan rules that match the filter
    + offset (optional) - An "offset" and "limit" can be supplied to retrieve incoming dial plan rules other than the first "page" in the notional list (see above)
    + limit (optional) - An "offset" and "limit" can be supplied to retrieve incoming dial plan rules other than the first "page" in the notional list (see above)
    + tenantFilter (ID, optional) - If supplied, this filter only those inbound dial plan rules associated with the specified tenant
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <inboundDialPlanRules total="3">
              <inboundDialPlanRule id="2bb27a59-7609-46c4-a3dd-9de99e027777">
                <domain>dev.local</domain>
                <priority>100</priority>
              </inboundDialPlanRule>
              <inboundDialPlanRule id="d231b771-05d1-41a4-95b3-cb1d63d0fa84">
                <domain>test.local</domain>
                <priority>100</priority>
              </inboundDialPlanRule>
              <inboundDialPlanRule id="a54345c1-3f4c-4e85-976b-0fe9e3890d3b">
                <domain>192.168.0.10</domain>
                <priority>0</priority>
              </inboundDialPlanRule>
            </inboundDialPlanRules>

## Creating and modifying incoming dial plan rules [POST]
* Creating: POST method to the `/inboundDialPlanRules` node. If the incoming dial plan rule is created successfully, a “200 OK” response will be received, and the `Location` header in the response will contain the new incoming dial plan rule ID
* Modifying: PUT method on an `/inboundDialPlanRules/<inbound dial plan rule ID>` node

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>domain *</td>
    <td>String</td>
    <td>The domain to match in order to apply the dial plan rule. Must be a complete value (e.g. "example.com")</td>
  </tr>
  <tr>
    <td>priority</td>
    <td>numeric</td>
    <td>inbound dial plan rules' configured domain values are always exactly matched against incoming calls. For the purposes of generating full URIs to advertise for incoming calls (especially cases where multiple rules are applicable) you can also set a numeric priority value - higher values will be preferred</td>
  </tr>
  <tr>
    <td>resolveToUsers</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be matched against user JIDs (if a match is then found, that incoming call leg causes a "point to point" call to that user's Meeting App.</td>
  </tr>
  <tr>
    <td>resolveTocoSpaces</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be matched against coSpace URIs (if a match is then found, the incoming call leg becomes a participant in the coSpace).</td>
  </tr>
  <tr>
    <td>resolveToIvrs</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be matched against configured IVR URIs (if a match is then found, the incoming call leg connects to that IVR).</td>
  </tr>
  <tr>
    <td>resolveToLyncConferences</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be resolved to a Lync conference URL; if the resolution is successful, the incoming call leg becomes a participant in the Lync conference.If this parameter is not supplied in a create (POST) operation, it defaults to “false”.</td>
  </tr>
  <tr>
    <td>resolveToLyncSimplejoin</td>
    <td>true|false</td>
    <td>If set to true, calls to this domain will be resolved by an HTTPS lookup to the given URL. If the resolution is successful, the incoming call leg becomes a participant in the Lync conference.If this parameter is not supplied in a create (POST) operation, it defaults to “false”. (From version 2.2).</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If specified, calls to this inbound domain will only be matched against user JIDs and coSpace URIs for the specified tenant</td>
  </tr>
</table>

+ Attributes (inboundDialPlanRule)
+ Response 200
    + Headers

            Location: /api/vi/inboundDialPlanRules/a54345c1-3f4c-4e85-976b-0fe9e3890d3b

## Retrieving information on an individual incoming dial plan rule [GET /inboundDialPlanRules/{inboundDialPlanRuleId}]
GET method on a `/inboundDialPlanRules/<inbound dial plan rule ID>` node. If the incoming dial plan rule ID supplied is valid, a "200 OK" response and a single `<inboundDialPlanRule id=<ID>>` object will be returned with data as per the previous section.
+ Parameters
    + inboundDialPlanRuleId (ID)
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <inboundDialPlanRule id="a54345c1-3f4c-4e85-976b-0fe9e3890d3b">
              <domain>dev.local</domain>
              <priority>0</priority>
              <resolveToUsers>true</resolveToUsers>
              <resolveTocoSpaces>true</resolveTocoSpaces>
              <resolveToIvrs>true</resolveToIvrs>
              <resolveToLyncConferences>false</resolveToLyncConferences>
              <resolveToLyncSimplejoin>false</resolveToLyncSimplejoin>
            </inboundDialPlanRule>

## Incoming Call Forwarding Dial Plan API Methods [/forwardingDialPlanRules{?filter,offset,limit,tenantFilter}]
### Access to incoming call forwarding rules
If the "domain" part of the destination URI of an incoming SIP call fails to match any of the inbound dial plan rules, the call will be handled according to the rules in the call forwarding dial plan. The rules decide whether to reject the call outright or to forward the call in bridge mode.

Call forwarding rules can overlap, and include wildcards. You order rules using the Priority value; higher numbered rules are tried first. By defining rules, you decide whether to forward the call or not. It might be appropriate to “catch” certain calls and reject them.

For calls that will be forwarded, you can rewrite the destination domain, a new call is created to the specified domain.

The call forwarding dial plan sits in the API object tree under a `/forwardingDialPlanRules` node. Use the POST method to create the forwarding rules or set them up via the Web Admin Interface (see note below)

---
**Note:** On the Web Admin Interface, the Incoming Call Forwarding rules are configured through the Call Forwarding section of the **Configuration > Incoming calls** page.

---
## Retrieving incoming call forwarding dial plan rules [GET]
Response is a collection of `<forwardingDialPlanRule id=<ID>>` objects contained within an `<forwardingDialPlanRules>` object `<forwardingDialPlanRule>` elements follow the general form on the left. The matchPattern and priority are described in the next section

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>forwardingDialPlanRule id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>matchPattern</td>
        <td>Text</td>
        <td>The domain to match in order to apply the dial plan rule. Must be a complete domain name (e.g. "example.com") or a “wildcarded” one (e.g. *.com)</td>
    </tr>
    <tr>
        <td>priority</td>
        <td>Number</td>
        <td>Numeric value used when determining the order in which to apply forwarding dial plan rules; higher values will be applied first</td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>If specified, calls using this forwardingDialPlanRule will only be matched against the specified tenant</td>
    </tr>
</table>

+ Parameters
    + filter (optional) - Supply filter=`<string`> in the URI to return just those incoming call forwarding rules that match the filter
    + offset (optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + limit (optional) - An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list (see Section 4.1.2)
    + tenantFilter (ID, optional) - If supplied, this filter restricts the results returned to those forwarding dial plan rules that are associated with the specified tenant. This parameter is present from version 1.8 onwards

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <forwardingDialPlanRules total="1">
              <forwardingDialPlanRule id="289b78eb-cd16-4bb8-b887-66e66a3ddfda">
                <matchPattern>qa.local</matchPattern>
                <priority>0</priority>
              </forwardingDialPlanRule>
            </forwardingDialPlanRules>

## Creating and modifying incoming call forwarding dial plan rules [POST]
* Creating: POST method to the `/forwardingDialPlanRules` node. If the forwarding dial plan rule is created successfully, a “200 OK” response will be received, and the `Location` header in the response will contain the new forwarding dial plan rule ID
* Modifying a forwarding dial plan rule is a PUT method on a `/forwardingDialPlanRules/<forwarding dial plan rule ID>` node

<table>
  <tr>
    <th>Parameters</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>matchPattern</td>
    <td>String</td>
    <td>The domain to match in order to apply the dial plan rule. Must be a complete domain name (e.g. "example.com") or a “wildcarded” one (e.g. exa*.com). Wildcards are permitted in any part of a domain matching pattern, but do not use “matchPattern=*” as a match all, otherwise you will create call loops.</td>
  </tr>
  <tr>
    <td>destinationDomain</td>
    <td>String</td>
    <td>Calls that are forwarded with this rule will have their destination domain rewritten to be this value</td>
  </tr>
  <tr>
    <td>action</td>
    <td>forward|reject</td>
    <td>If set to "forward" causes matching call legs to become point-to-point calls with a new destination. "reject" causes the incoming call leg to be rejected</td>
  </tr>
  <tr>
    <td>callerIdMode</td>
    <td>regenerate|preserve</td>
    <td>When forwarding an incoming call to a new destination address, whether to preserve the original calling party's ID or to generate a new one. If this parameter is not supplied in a create (POST) operation, it defaults to "regenerate"</td>
  </tr>
  <tr>
    <td>priority</td>
    <td>Number</td>
    <td>Numeric value used when determining the order in which to apply forwarding dial plan rules; higher values will be applied first</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>If a tenant is specified, calls using this rule will be associated with the specified tenant. </td>
  </tr>
  <tr>
    <td>uriParameters</td>
    <td><b>discard</b>|forward</td>
    <td>When forwarding an incoming call to a new destination address, this parameter determines whether to discard any additional parameters that are present in the destination URI of the incoming call, or to forward them on to the destination URI of the outbound call. If this parameter is not supplied in a create (POST) operation, it defaults to "discard”. This parameter is present from version 2.0 onwards</td>
  </tr>
</table>

+ Attributes (forwardingDialPlanRule)
+ Response 200
    + Headers

            Location: /api/v1/forwardingDialPlanRules/39ceb6f9-b86e-4a22-84ed-724aaaabf05a

## Retrieving information on an individual incoming call forwarding dial plan rule [GET /forwardingDialPlanRules/{forwardingDialPlanRuleId}]
GET method on a `/forwardingDialPlanRules/<forwarding dial plan rule ID>` node. If the forwarding dial plan rule ID supplied is valid, a "200 OK" response and a single `<forwardingDialPlanRule id=<ID>>` object will be returned with data as per the previous section.

+ Parameters
    + forwardingDialPlanRuleId
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <forwardingDialPlanRule id="289b78eb-cd16-4bb8-b887-66e66a3ddfda">
              <matchPattern>media</matchPattern>
              <priority>0</priority>
              <action>forward</action>
              <destinationDomain>qa.local</destinationDomain>
              <callerIdMode>preserve</callerIdMode>
              <uriParameters>discard</uriParameters>
            </forwardingDialPlanRule>


# Group Call Related Methods
This chapter details the API methods for:
* active calls
* call profiles
* call legs
* call leg profiles
* dial transforms
* call branding profiles
* dtmf profiles
* ivr methods
* ivr branding profiles
* participants

## Call Methods [/calls{?offset,limit,coSpaceFilter,tenantFilter}]

## Retrieving Information on Active Calls [GET]
GET method performed on the `/calls` node.

Response is structured as a top-level `<calls total=”N”>` tag with potentially multiple `<call>` elements within it. `<call>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>callCorrelator</td>
        <td>ID</td>
        <td>An id that is the same across all distributed instances of this call. This parameter is present from R1.7 onwards</td>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>The associated (human-readable) name for the call</td>
    </tr>
    <tr>
        <td>coSpace</td>
        <td>ID</td>
        <td>If the call represents the instantiation of a coSpace, this value will be present and hold the id of the coSpace</td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>The specific tenant that the call belongs to</td>
    </tr>
</table>

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see Section 4.1.2)
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see Section 4.1.2)
    + coSpaceFilter (optional) - Supply an ID to return just those calls that match the filter
    + tenantFilter (optional) - Supply an ID to return just those calls that belong to the specified tenant


+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <calls total="1">
              <call id="b393d2cb-60ec-418c-9991-6ef4e72fa47b">
                <name>Dev Space</name>
                <coSpace>e647231e-e1db-435b-b96f-9c7a83d488a2</coSpace>
                <callCorrelator>9fea4ad1-953a-4801-b4cd-b9382c43b077</callCorrelator>
              </call>
            </calls>

## Creating a New Call and Modifying an Active call [POST]
POST method performed on the `/calls` node or PUT method to `/calls/<callId>`

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>coSpace *</td>
    <td>ID</td>
    <td>For POST only: Specifies the coSpace for which the call is being instantiated. If not set then "name" must be set</td>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>For POST only: Specifies the name of the new call which is being instantiated. If not set then "coSpace" must be set.</td>
  </tr>
  <tr>
    <td>locked</td>
    <td>true|false</td>
    <td>Allows the locking/unlocking of a meeting lobby in order to control the process of activating participants. Participants requiring activation are typically guests to a coSpace that have not yet been ‘activated’. Members of a coSpace are not affected, and can join the coSpace at any time. When a meeting is locked, the guests requiring activation wait in the meeting lobby until the host unlocks the coSpace, at which point they are activated and join the coSpace. Participants that are already activated are NOT deactivated when the conference goes from the unlocked state to the locked state.If set to true, new participants that need activation are not activated even if there are activators in the call. </td>
  </tr>
  <tr>
    <td>recording</td>
    <td>true|false</td>
    <td>If true, this call is currently being recorded.</td>
  </tr>
  <tr>
    <td>streaming</td>
    <td> true|false</td>
    <td>If true, this call is currently being streamed. (From version 2.1)</td>
  </tr>
  <tr>
    <td>allowAllMuteSelf</td>
    <td>true|false</td>
    <td>If true, participants have the permission to mute and unmute themselves.</td>
  </tr>
  <tr>
    <td>allowAllPresentationContribution</td>
    <td>true|false</td>
    <td>If true, participants have the permission to present.  If false, this permission is dependent on presentationContributionAllowed in the call leg profile. Default is false. </td>
  </tr>
  <tr>
    <td>joinAudioMuteOverride</td>
    <td>true|false</td>
    <td>If true, new participants will be muted when joining the call. </td>
  </tr>
  <tr>
    <td>messageText</td>
    <td>String</td>
    <td>Text to display to every participant in the call (only displayed if configured messageDuration is non zero). (From version 2.1)</td>
  </tr>
  <tr>
    <td>messagePosition</td>
    <td>top|middle|bottom</td>
    <td>Position to display configured messageText on screen (for SIP endpoints). (From version 2.1)<
    /td>
  </tr>
  <tr>
    <td>messageDuration</td>
    <td>Number|permanent</td>
    <td>Time in seconds to display configured messageText on screen. Typing the string “permanent” will result in the string being permanently shown
    until it is reconfigured. (From version 2.1)</td>
  </tr>
  <tr>
    <td>activeWhenEmpty</td>
    <td>true|false</td>
    <td>If true, this call is considered “active for load balancing” when no participants are present. This means that the first call to the empty conference is preferentially load balanced. You can prevent the load balancing preferentially using the empty conferences by setting this parameter to false. If this parameter is not supplied in a create (POST) operation, it defaults to “true”.  (From version 2.2)</td>
  </tr>
<tr>
  <td>panePlacementHighestImportance</td>
  <td>Number</td>
  <td>If panePlacementHighestImportance is provided, pane placement will be activated for this active call- the active range of importance values will be from "highest importance" down to 1(inclusive). If set, this will override the coSpace counterpart. (From version 2.7)</td>
</tr>
<tr>
 <td>panePlacementSelfPaneMode</td>
    <td><b>skip</b>|self|blank |'unset'</td>
    <td>If pane placement is activated, this defines the layout behavior for this coSpace when viewing an endpoint's own layout pane. (From version 2.7)
        <ul>
            <li>skip - same as the pre-2.7 version behavior, do not include a pane in the layout for viewing the system's own importance level (default)</li>
            <li>self - shows the viewing endpoint's video back to themselves</li>
            <li>blank - leaves a blank pane to indicate to the viewer of the endpoint where other participants will see them.</li>
            <li>'unset' - follows this order of precedence:
                <ul>
                    <li>use the value set for panePlacementHighestImportance on /calls, if panePlacementHighestImportance on /calls is unset, then use the value set for panePlacementHighestImportance on /coSpace (if the call is to a space),</li>
                    <li>if panePlacementHighestImportance on /coSpace is also unset, then it reverts to the skip behavior defined above. </li>
                </ul>
            </li>
            <p>By default, panePlacementSelfPaneMode is set to 'unset'. If set, this will override the coSpace counterpart. (From version 2.7)</p>
        </ul>
 </tr>
</table>

If a call is instantiated for the coSpace successfully, that call’s ID is returned in the `Location` field of the response header. You can now add call legs to this call as described below.



+ Attributes (call)

+ Response 200
    + Headers

            Location: /api/v1/calls/b393d2cb-60ec-418c-9991-6ef4e72fa47b

## Retrieving Information on an Individual Active Call [GET /call/{callId}]
GET method performed on a `/calls/<callId>` node. If the call ID supplied is valid, a “200 OK” response is received, with XML content of the form:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>coSpace</td>
    <td>ID</td>
    <td>If the call represents the instantiation of a coSpace, this value will be present and hold the id of the coSpace</td>
  </tr>
  <tr>
    <td>callCorrelator</td>
    <td>ID</td>
    <td>An id that is the same across all distributed instances of this call.</td>
  </tr>
  <tr>
    <td>callType</td>
    <td>coSpace<br>|forwarding<br>|adHoc<br>|lyncConferencing<br></td>
    <td>Indicates the call type:coSpace - this call is the instantiation of a spaceforwarding - this is a forwarded or “gateway” calladHoc - this is an ad hoc multiparty calllyncConferencing - this call leg is participating in a Lync conference(From version 2.3)</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>The ID of the tenant that owns the call</td>
  </tr>
  <tr>
    <td>durationSeconds</td>
    <td>Number</td>
    <td>The duration of the call, as the number of seconds since the call started</td>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>The associated human-readable name for the call. (From version 2.3)</td>
  </tr>
  <tr>
    <td>numCallLegs</td>
    <td>Number</td>
    <td>The number of call legs currently active within this call</td>
  </tr>
  <tr>
    <td>maxCallLegs</td>
    <td>Number</td>
    <td>The highest number of call legs that have been simultaneously present within this call</td>
  </tr>
  <tr>
    <td>numParticipantsLocal</td>
    <td>Number</td>
    <td>The number of participants within this call locally hosted by the Call Bridge to which the request is being made</td>
  </tr>
  <tr>
    <td>numParticipantsRemote</td>
    <td>Number</td>
    <td>The number of participants  in this call hosted by other Call Bridges </td>
  </tr>
  <tr>
    <td>numDistributedInstances</td>
    <td>Number</td>
    <td>The number of other Call Bridges hosting participants in this call</td>
  </tr>
  <tr>
    <td>presenterCallLeg</td>
    <td>ID</td>
    <td>The presenterCallLeg value is only present if a call leg is actively presenting within this call </td>
  </tr>
  <tr>
    <td>locked</td>
    <td> true|false</td>
    <td>Indicates whether the call is locked (true) or unlocked (false). </td>
  </tr>
  <tr>
    <td>recording</td>
    <td> true|false</td>
    <td>If true, this call is configured to be recorded. </td>
  </tr>
  <tr>
    <td>streaming</td>
    <td> true|false</td>
    <td>If true, this call is configured to be streamed. (From version 2.1)</td>
  </tr>
  <tr>
    <td>allowAllMuteSelf</td>
    <td>true|false</td>
    <td>If true, participants have the permission to mute and unmute themselves. If false, this permission is dependent on muteSelfAllowed in the call leg profile. </td>
  </tr>
  <tr>
    <td>allowAllPresentationContribution</td>
    <td>true|false</td>
    <td>If true, participants have the permission to present. . If false, this permission is dependent on presentationContributionAllowed in the call leg profile. Default is false. </td>
  </tr>
  <tr>
    <td>joinAudioMuteOverride</td>
    <td>true|false</td>
    <td>If true, new participants will be muted when joining the call. </td>
    <td>If false, new participants will be unmuted when joining the call. </td>
    <td>If unset, new participants will use the audio mute value from the call leg profile. </td>
  </tr>
  <tr>
    <td>messageText</td>
    <td>String</td>
    <td>Text to display to every participant in the call (only displayed if configured messageDuration is non zero). (From version 2.1)</td>
  </tr>
  <tr>
    <td>messagePosition</td>
    <td>top|middle|bottom</td>
    <td>Position to display configured messageText on screen (for SIP endpoints). (From version 2.1)</td>
  </tr>
  <tr>
    <td>messageDuration</td>
    <td>Number</td>
    <td>Time in seconds to display configured messageText on screen (can also be "permanent" to cause the message to be displayed until it is reconfigured). (From version 2.1)</td>
  </tr>
  <tr>
    <td>messageTimeRemaining</td>
    <td>Number</td>
    <td>Time remaining in  seconds for configured messageText to be displayed on screen. (From version 2.1)</td>
  </tr>
  <tr>
    <td>ownerName</td>
    <td>String</td>
    <td>If set,  displays the owner of this call. This can be the meetingScheduler of the coSpace of this call, or the name of the owner of this call or the Jid of the owner. (From version 2.2)                    </td>
  </tr>
  <tr>
    <td>activeWhenEmpty</td>
    <td><strong>true</strong>|false</td>
    <td>If true, this call is considered active for load balancing when no participants are present. If this parameter is not supplied in a create (POST) operation, it defaults to “true”.  (From version 2.2)</td>
  </tr>
  <tr>
    <td>endpointRecording</td>
    <td>true|false</td>
    <td>If set, one of the participants in this call is recording the conference externally (currently only flags up Skype or Lync clients recording the conference). (From version 2.4) </td>
</tr>
<tr>
    <td>lyncAudienceMute</td>
    <td>true|false</td>
    <td>Whether the audience was muted by a Skype or Lync client. Only present if this call is a Skype/Lync conference. (From version 2.4)</td>
</tr>
  <tr>
    <td>panePlacementHighestImportance</td>
    <td>Number</td>
    <td>If provided, pane placement will be activated for this active call - the active range of importance values will be from "highest importance" down to 1(inclusive). (From version 2.7)</td>
  </tr>
 <tr>
 <td>panePlacementSelfPaneMode</td>
    <td><b>skip</b>|self|blank |'unset'</td>
    <td>If pane placement is activated, this defines the layout behavior for this coSpace when viewing an endpoint's own layout pane. (From version 2.7)
        <ul>
            <li>skip - same as the pre-2.7 version behavior, do not include a pane in the layout for viewing the system's own importance level (default)</li>
            <li>self - shows the viewing endpoint's video back to themselves</li>
            <li>blank - leaves a blank pane to indicate to the viewer of the endpoint where other participants will see them.</li>
            <li>'unset' - follows this order of precedence:
                <ul>
                    <li>use the value set for panePlacementHighestImportance on /calls, if panePlacementHighestImportance on /calls is unset, then use the value set for panePlacementHighestImportance on /coSpace (if the call is to a space),</li>
                    <li>if panePlacementHighestImportance on /coSpace is also unset, then it reverts to the skip behavior defined above. </li>
                </ul>
            </li>
            <p>By default, panePlacementSelfPaneMode is set to 'unset'. If set, this will override the coSpace counterpart. (From version 2.7)</p>
        </ul>
 </tr>
</table>

+ Parameters
    + callId (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <call id="b393d2cb-60ec-418c-9991-6ef4e72fa47b">
              <name>Dev Space</name>
              <callType>coSpace</callType>
              <coSpace>e647231e-e1db-435b-b96f-9c7a83d488a2</coSpace>
              <ownerName>Bjarne Stroustrup</ownerName>
              <callCorrelator>9fea4ad1-953a-4801-b4cd-b9382c43b077</callCorrelator>
              <durationSeconds>170</durationSeconds>
              <numCallLegs>1</numCallLegs>
              <maxCallLegs>1</maxCallLegs>
              <numParticipantsLocal>1</numParticipantsLocal>
              <locked>false</locked>
              <recording>false</recording>
              <recordingStatus>false</recordingStatus>
              <streaming>true</streaming>
              <streamingStatus>false</streamingStatus>
              <allowAllMuteSelf>false</allowAllMuteSelf>
              <allowAllPresentationContribution>false</allowAllPresentationContribution>
              <messagePosition>middle</messagePosition>
              <messageDuration>0</messageDuration>
              <activeWhenEmpty>false</activeWhenEmpty>
              <endpointRecording>false</endpointRecording>
            </call>

## Generating diagnostics for an individual call [POST /calls/{callId}/diagnostics]
POST method performed on `/calls/<callId>/diagnostics` generates call diagnostics for the call in question.

+ Parameters
    + callId (ID)
+ Response 200
    + Headers

            Location: /api/v1/system/diagnostics/e8dbb8af-ec7e-4db5-b51b-47e6c1a1a768

## Retrieve participants in a conference [GET /calls/{callId}/participants/{?offset,limit,filter,tenantFilter,callBridgeFilter}]
GET method performed on the `/calls/<call id>/participants` node. Retrieves a list of all of the participants associated with the specified call.

Response is structured as a top-level <participants total=”N”> tag with potentially multiple <participant> elements within it.
<participant> elements follow the general form on the left.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>The associated (human-readable) name associated with this participant</td>
  </tr>
  <tr>
    <td>call</td>
    <td>ID</td>
    <td>The call that this participant is part of</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td>The specific tenant with which this participant is associated</td>
  </tr>
  <tr>
    <td>callBridge</td>
    <td>ID</td>
    <td>The remote, clustered Call Bridge to which this participant is connected</td>
  </tr>
</table>

+ Parameters
    + offset (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first “page" in the notional list (see Section 4.1.2).
    + limit (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first “page" in the notional list (see Section 4.1.2).
    + filter (string, optional)
        Supply “filter=`<string`>” in the URI to return just those coSpaces that match the filter
    + tenantFilter (ID, optional) - Supply tenantFilter=<tenant id> to return just those coSpaces associated with that tenant
    + callBridgeFilter (ID, optional)
        Supply callBridgeFilter=`<callBridgeFilter>` to return just those active participants located on the specified Call Bridge.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <participants total="1">
              <participant id="dbe60866-061d-49b3-8399-e95d6248bc2d">
                <name>Bjarne Stroustrup</name>
                <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              </participant>
            </participants>

## Creating a new participant for a specified call [POST /calls/{callId}/participants]
POST method on the `/calls/<callId>/participants` node.

---
***Note:***: Due to load balancing across clustered Meeting Servers, an explicit selection of a Call Bridge or Call Bridge Group or from configured dial plan rules, may result in the call leg instantiation ("owned" by the participant object) occurring on a remote clustered Call Bridge.

---
---
***Note***: See also the section on participant related methods.

---
+ Parameters
    + callId (ID)

+ Attributes (CreateParticipantforspecifiedcall)

+ Response 200
    + Headers

            Location: /api/v1/participants/1c32ed66-2bce-4362-b20b-1d992b6d0037

## Set properties for all participants in a conference [PUT /calls/{callId}/participants/]

PUT to `/calls/<callId>/participants/*` node. Set properties for all participants associated with the specified call.

+ Parameters
    + callId (ID)

+ Attributes (ParticipantProperties)

+ Response 200

## Call Profile Methods [/callProfiles{?offset,limit,usageFilter}]
Call profiles control the maximum number of active simultaneous participants and the in-call experience for SIP (including Lync) calls. For more information see also Section 14.

## Retrieving call profiles [GET]
GET method performed on the `/callProfiles` node.

Response is structured as a top-level `<callProfiles total="N">` tag with potentially multiple `<callProfile>` elements within it.
Each `<callProfile>` tag may include the following elements:

See the next section

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see Section 4.1.2)
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see Section 4.1.2)
    + usageFilter (enum, optional)
        + unreferenced `Supply "usageFilter=unreferenced" in the request to retrieve only those call profiles that are not referenced by global settings or any other object. This is a useful check before deleting the profile.`
        + referenced `To retrieve just those call profiles which are referenced in at least one place, you can supply "usageFilter=referenced"`
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callProfiles total="2">
              <callProfile id="59f5a62e-18e5-4fd7-b841-d9d9b8d57b92"/>
              <callProfile id="74d89d1a-e85e-4d3c-9d89-64d25d711a2a"/>
            </callProfiles>

## Setting up and modifying call profiles [POST]

Creating: POST method to the `/callProfiles` node.


+ Attributes (callProfile)
+ Response 200
    + Headers

            Location: /api/v1/callProfiles/74d89d1a-e85e-4d3c-9d89-64d25d711a2a

### Modifying call profiles [PUT /callProfiles/<call profile id>]

PUT method to the `/callProfiles/<call profile id>` node.

+ Attributes (callProfile)
+ Response 200

## Retrieving detailed information about an individual call profile [GET /callProfiles/{callProfileId}]
GET method performed on a `/callProfiles/<call profile id>` node. If the call profile id ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callProfile id="59f5a62e-18e5-4fd7-b841-d9d9b8d57b92">
              <messageBoardEnabled>true</messageBoardEnabled>
              <locked>false</locked>
              <streamingMode>automatic</streamingMode>
            </callProfile>

## Call Leg Methods [/callLegs{?offset,limit,filter,participantFilter,tenantFilter,activeLayoutFilter,availableVideoStreamsLowerBound,availableVideoStreamsUpperBound,ownerIdSet,alarms}]

## Retrieving Information on Active Call Legs [GET]
GET method performed on the `/callLeg` node (to retrieve information on all active call legs within the system).
Alternatively, a GET method performed on the `/calls/<call id>/callLegs` node (to retrieve information on active call legs for a specific call).

Response is structured as a top-level `<callLegs total=”N”>` tag with potentially multiple `<callLeg>` elements within it.
`<callLeg>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>callLeg id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>remoteParty</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>call</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>alarms</td>
        <td>Object</td>
        <td>For call legs which have active alarm conditions, there will be an additional "alarms" tag under the encompassing "callLeg" which details the currently active alarms. Within this “alarms” tag there will be one or more subsidiary indications—also see the note below:</td>
    </tr>
    <tr>
        <td>packetLoss</td>
        <td>String</td>
        <td>Present if packet loss is being experienced on one or more of the call leg’s active media streams</td>
    </tr>
    <tr>
        <td>excessiveJitter</td>
        <td>String</td>
        <td>Present if there is a high level of jitter on one or more of the call leg’s active media streams</td>
    </tr>
    <tr>
        <td>highRoundTripTime</td>
        <td>String</td>
        <td>Present if a high round trip time has been detected for one or more of the call leg’s media streams</td>
    </tr>
</table>

---
**Note on alarms:**

Call leg alarms provide information that may be useful in raising alarms or troubleshooting issues after they have occurred but they should not necessarily be treated as if they are alarm conditions in themselves—unlike system level alarms.

A call leg alarm may be triggered by a number of factors, not necessarily a set percentage packet loss for example. An alarm condition is attached to a call leg when the Meeting Server detects that the call leg may be being degraded. These "conditions" may include a simple threshold, but potentially other things too such as a more adaptive threshold and taking other factors into account. This does not necessarily mean that the user’s experience was poor but it provides information to troubleshoot in the event that it was. Therefore you could consider adding filters to this alarm information and deciding when to flag an event as an alarm to the operator (i.e. setting your own thresholds) and/or storing call leg alarm information alongside CDRs so that if a user reports a poor quality call you can retrieve this information after the event to determine what the cause might have been.

---

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + filter (optional) - Supply filter=`<string`> in the URI to return just those call legs that match the filter
    + participantFilter (ID, optional) - Supply participantFilter to return only those call legs associated with the specified participant
    + tenantFilter (ID, optional) - Supply tenantFilter to return only those call legs associated with the specified tenant
    + activeLayoutFilter (optional) - If supplied, this filter will restrict results returned to those call legs using the specified layout. This parameter is present from version 1.8 onwards
    + availableVideoStreamsLowerBound (number, optional) - If supplied, this filter will restrict results returned to those call legs with this many or more available video streams. This parameter is present from version 1.8 onwards
    + availableVideoStreamsUpperBound (number, optional) - If supplied, this filter will restrict results returned to those call legs with many or fewer available video streams. This parameter is present from version 1.8 onwards
    + ownerIdSet (boolean, optional) - Used to return those call legs that have an owner Id set, or those that do not
    + alarms (enum, optional) - Used to return just those call legs for which the specified alarm names are currently active. Either “all”, which covers all supported alarm conditions, or one or more specific alarm conditions to filter on, separated by the ‘|’ character
        + packetLoss – packet loss is currently affecting this call leg
        + excessiveJitter - there is currently a high level of jitter on one or more of this call leg’s active media streams
        + highRoundTripTime -  the Meeting Server measures the round trip time between itself and the call leg destination; if a media stream is detected to have a high round trip time (which might impact call quality), then this alarm condition is set for the call leg
        + all



+ Response 200
    + Body

            <?xml version="1.0"?>
            <callLegs total="1">
              <callLeg id="dbe60866-061d-49b3-8399-e95d6248bc2d">
                <name>Bjarne Stroustrup</name>
                <remoteParty>bjarne@ciscolabs.com</remoteParty>
                <originalRemoteParty>bjarne@ciscolabs.com</originalRemoteParty>
                <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              </callLeg>
            </callLegs>

## Adding and Modifying Call Legs [POST]
* Adding: POST method to a `/calls/<call ID>/callLegs` node. The `<call ID>` is learnt from a GET on `/calls` or from a newly created call (see Creating a new call above). If a profile has been applied to this call leg, it starts with the values set in the profile

---
**Note:** these added or modified call legs will not be load balanced across clustered Meeting Servers.

---
* Modifying: PUT method performed on a `/callLegs/<callLeg ID>` node. It makes live, dynamic, changes to an in-progress connection to a remote party.

---
**Note:** You cannot modify the remoteParty, bandwidth or confirmation.

---

+ Attributes (callLeg)

+ Response 200
    + Headers

            Location: /api/v1/callLegs/05ac65fc-416d-4e59-90ca-1e034a4c0249

# Allowing Far End Camera Control (FECC) using the API [PUT]

To allow FECC on a remote system's camera (from version 2.9)

PUT method to a `/callLegs/<callleg ID>/cameraControl` node

This object supports the optional request parameters.

+ Attributes (fecc)

+ Response 200
    + Headers

            Location: /api/v1/callLegs/05ac65fc-416d-4e59-90ca-1e034a4c0249



## Retrieving Information on an Individual Call Leg [GET /callLegs/{callLegId}]
GET method performed on a `/callLegs/<callLegId>` node.

If the call leg ID supplied is valid, a “200 OK” response is received, with XML content:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>callLeg id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>remoteParty</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>originalRemoteParty</td>
        <td>String</td>
        <td>For outbound calls this is the original destination address . For inbound calls this is the remote address first signaled to the Call Bridge. From version 2.3.
    </tr>
    <tr>
        <td>localAddress</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>call</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>type</td>
        <td>Enum</td>
        <td>sip | acano</td>
    </tr>
    <tr>
        <td>subtype</td>
        <td>Enum</td>
        <td>lync | avaya | distributionLink| lyncDistribution</td>
    </tr>
    <tr>
        <td>lyncSubType</td>
        <td>Enum</td>
        <td>audioVideo | applicationSharing | instantMessaging A further specialization of the call leg type if the call leg sub type is "lync".
audioVideo - this is a Lync call leg used for exchange of audio and video between the Call Bridge and Lync
applicationSharing - this is a Lync call leg used for application or desktop sharing between Lync and the Call Bridge
instantMessaging - this is a Lync call leg used for the exchange of instant messages between Lync and the Call Bridge
If present in the reply, these parameters are overrides currently active specifically for this call leg (i.e. not those values in force because of a “higher level” such as the call leg's associated tenant)</td>
    </tr>
    <tr>
        <td>direction</td>
        <td>Enum</td>
        <td>incoming | outgoing</td>
    </tr>
    <tr>
        <td>canMove</td>
        <td>true| false</td>
        <td>Indicates whether the participant owning this call leg can be moved. (From version 2.6)</td>
    </tr>
    <tr>
        <td>movedCallLeg</td>
        <td>ID</td>
        <td>If this call leg was created by moving a participant, the ID indicates the original call leg that the participant was moved from. (From version 2.6)</td>
    </tr>
    <tr>
        <td>movedCallLegCallBridge</td>
        <td>ID</td>
        <td>If this call leg was created by moving a participant, the ID indicates the Call Bridge that homed the original call leg that the participant was moved from. (From version 2.6)</td>
    </tr>
    <tr>
        <td valign="top">configuration</td>
        <td colspan="2"><table>
  <tr>
    <th>Name </th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>ownerId </td>
    <td>ID</td>
    <td></td>
  </tr>
  <tr>
    <td>chosenLayout</td>
    <td>one of:<br>speakerOnly |<br>telepresence|<br>stacked |<br>allEqual |<br>allEqualQuarters |<br>allEqualNinths |<br>allEqualSixteenths|<br>allEqualTwentyFifths|<br>onePlusFive|<br>onePlusSeven|<br>onePlusNine|<br>automatic|<br>onePlusN</td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td>callLegProfile fields as described above, if present these show the<br>overrides currently active specifically<br>for this call leg (i.e. not<br>those in force because of a higher<br>level such as the call leg's associated<br>tenant)</td>
  </tr>
  <tr>
    <td>needsActivation</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>defaultLayout</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>participantLabels</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>presentationDisplayMode</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>presentationContributionAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>presentationViewingAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>endCallAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>muteOthersAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>videoMuteOthersAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>muteSelfAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>changeLayoutAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>joinToneParticipantThreshold</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>leaveToneParticipantThreshold</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>videoMode</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>rxAudioMute</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>txAudioMute</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>rxVideoMute</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>txVideoMute</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>sipMediaEncryption</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>audioPacketSizeMs</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>deactivationMode</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>deactivationModeTime</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>telepresenceCallsAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>sipPresentationChannelEnabled</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>bfcpMode</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>disconnectOthersAllowed</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>qualityMain (from version 2.2)</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>qualityPresentation (from version 2.2)</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>participantCounter (from version2.2)</td>
    <td></td>
    <td></td>
  </tr>
 <tr>
    <td>nameLabelOverride (from version2.4)</td>
    <td></td>
    <td></td>
  </tr>  </tr>
 <tr>
    <td>controlRemoteCameraAllowed (from version2.8)</td>
    <td></td>
    <td></td>
  </tr>  </tr>
 <tr>
    <td>layoutTemplate (from version2.8)</td>
    <td></td>
    <td></td>
  </tr><tr>
    <td>audioGainMode (from version2.8)</td>
    <td></td>
    <td></td>
  </tr>
</table></td>
    </tr>
    <tr>
        <td valign="top">status</td>
        <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>state</td>
    <td>initial|<br>ringing|<br>connected|<br>onHold</td>
    <td></td>
  </tr>
  <tr>
    <td>durationSeconds </td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>sipCallID </td>
    <td>String</td>
    <td></td>
  </tr>
  <tr>
    <td>groupId </td>
    <td>ID</td>
    <td></td>
  </tr>
  <tr>
    <td>recording </td>
    <td>true| false</td>
    <td></td>
  </tr>
  <tr>
    <td>streaming</td>
    <td>true| false</td>
    <td></td>
  </tr>
  <tr>
    <td>deactivated </td>
    <td>true| false</td>
    <td></td>
  </tr>
  <tr>
    <td>encryptedMedia</td>
    <td>true| false</td>
    <td></td>
  </tr>
  <tr>
    <td>unencryptedMedia </td>
    <td>true| false</td>
    <td></td>
  </tr>
   <tr>
    <td>cipherSuite</td>
    <td>AEAD_AES_256_GCM<br> AEAD_AES_128_GCM </br> <br>AES_CM_128_HMAC_SHA1_80 </br> <br>AES_CM_128_HMAC_SHA1_32</br></td>
    <td>If any of this call leg's media is encrypted, this gives information on the SRTP encryp-tion cipher suite in use:(from version 2.9)<ul>
<li>AEAD_AES_256_GCM - AES encryption, 256 bit, GCM</li>
<li>AEAD_AES_128_GCM - AES encryption, 128 bit, GCM</li>
<li>AES_CM_128_HMAC_SHA1_80 - AES encryption, 128 bit, 80 bit SHA1 authen-tication tag</li>
<li>AES_CM_128_HMAC_SHA1_32 - AES encryption, 128 bit, 32 bit SHA1 authen-tication tag</li>
</ol>
</td>
  </tr>
  <tr>
    <td>layout</td>
    <td>one of:<br>speakerOnly |<br>telepresence|<br>stacked |<br>allEqual |<br>allEqualQuarters |<br>allEqualNinths |<br>allEqualSixteenths|<br>allEqualTwentyFifths<br>|<br>onePlusFive|<br>onePlusSeven|<br>onePlusNine|<br>automatic|</td>
    <td></td>
  </tr>
  <tr>
    <td>activeLayout</td>
    <td>one of:<br>speakerOnly |<br>telepresence|<br>stacked |<br>allEqual |<br>allEqualQuarters |<br>allEqualNinths |<br>allEqualSixteenths|<br>allEqualTwentyFifths<br>|<br>onePlusFive|<br>onePlusSeven|<br>onePlusNine|<br>automatic|<br>onePlusN</td>
    <td></td>
  </tr>
  <tr>
    <td>availableVideoStreams</td>
    <td>Number</td>
    <td></td>
  </tr><tr>
    <td>layoutTemplate</td>
    <td>ID</td>
    <td>Present if a custom layout template is currently being used to generate the layout for this call leg, and, if so, identifies which lay-out template is being used. (from version 2.8)</td>
  </tr> </tr>
  <tr>
    <td>cameraControlAvailable</td>
    <td>true|false</td>
    <td>Whether this call leg has advertised the ability for its camera to be controlled remotely. If, true - camera control for this call leg is possible, If false - camera control for this call leg is not possible from version 2.8)</td>
  </tr>
  <tr>
    <td valign="top">rxAudio</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>codec</td>
    <td>one of:<br>g711u<br>g711a<br>g722<br>g728<br>g729<br>g722_1<br>g722_1c<br>aac<br>speexNb<br>speexWb<br>speexUwb<br>isacWb<br>opus</td>
    <td>the audio codec used:<br>g711u - G.711 mu law<br>g711a - G.711 a law<br>g722 - G.722 <br>g728 - G.728<br>g729 - G.729<br>g722_1 - G.722.1<br>g722_1c - G.722.1C (G.722.1<br>Annex C)<br>aac - AAC<br>speexNb - Speex narrowband<br>speexWb - Speex wideband<br>speexUwb - Speex ultra-wideband<br>isacWb - iSAC (internet Speech Audio Codec) wideband<br>isacSwb - iSAC (internet Speech Audio Codec) superwideband</td>
  </tr>
  <tr>
    <td>jitter</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>bitRate</td>
    <td>Number</td>
    <td>The actual measured bit rate of the incoming audio data</td>
  </tr>
  <tr>
    <td>codecBitRate</td>
    <td>Number</td>
    <td>This value is present for audio codec types with variants that can only be distinguished <br>via bit rate (for example, the G.722.1 audio codec) - in these cases this field will be the expected audio bit rate rather than the observed, measured value (this parameter is present from version 2.1 onwards) </td>
  </tr>
  <tr>
    <td>packetLossPercentage</td>
    <td>Number</td>
    <td></td>
  </tr>
</table></td>
  </tr>
   <tr>
    <td valign="top">txAudio</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>codec</td>
    <td>one of:<br>g711u<br>g711a<br>g722<br>g728<br>g729<br>g722_1<br>g722_1c<br>aac<br>speexNb<br>speexWb<br>speexUwb<br>isacWb<br>opus</td>
    <td>the audio codec used:<br>g711u - G.711 mu law<br>g711a - G.711 a law<br>g722 - G.722 <br>g728 - G.728<br>g729 - G.729<br>g722_1 - G.722.1<br>g722_1c - G.722.1C (G.722.1<br>Annex C)<br>aac - AAC<br>speexNb - Speex narrowband<br>speexWb - Speex wideband<br>speexUwb - Speex ultra-wideband<br>isacWb - iSAC (internet Speech Audio Codec) wideband<br>isacSwb - iSAC (internet Speech Audio Codec) superwideband</td>
  </tr>
  <tr>
    <td>jitter</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>bitRate</td>
    <td>Number</td>
    <td>The actual measured bit rate of the incoming audio data</td>
  </tr>
  <tr>
    <td>codecBitRate</td>
    <td>Number</td>
    <td>This value is present for audio codec types with variants that can only be distinguished <br>via bit rate (for example, the G.722.1 audio codec) - in these cases this field will be the expected audio bit rate rather than the observed, measured value (this parameter is present from version 2.1 onwards) </td>
  </tr>
  <tr>
    <td>packetLossPercentage</td>
    <td>Number</td>
    <td></td>
  </tr>
</table></td>
  </tr>
     <tr>
    <td valign="top">rxVideo</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td colspan="3"><span style="font-weight:bold">Parameters included in parent tag</span></td>
  </tr>
  <tr>
    <td>role</td>
    <td>main |<br>presentation</td>
    <td>The type of video stream:<br>main or presentation</td>
  </tr>
  <tr>
    <td colspan="3"><span style="font-weight:bold">Response Values</span></td>
  </tr>
  <tr>
    <td>codec<br></td>
    <td>one of:<br>h261<br>h263<br>h263+<br>h264<br>h264Lync<br>vp8<br>rtVideo</td>
    <td>the video codec used<br>h261 - H.261<br>h263 - H.263<br>h263+ - H.263+<br>h264 - H.264<br>h264Lync - H.264 SVC<br>for Lync<br>vp8 - VP8<br>rtVideo - RTVideo</td>
  </tr>
  <tr>
    <td>width</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>height</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>frameRate</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>jitter</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>bitRate</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>packetLossPercentage</td>
    <td>Number</td>
    <td></td>
  </tr>
</table></td>
  </tr>
   </tr>
     <tr>
    <td>txVideo</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td colspan="3"><span style="font-weight:bold">Parameters included in parent tag</span></td>
  </tr>
  <tr>
    <td>role</td>
    <td>main |<br>presentation</td>
    <td>The type of video stream:<br>main or presentation</td>
  </tr>
  <tr>
    <td colspan="3"><span style="font-weight:bold">Response Values</span></td>
  </tr>
  <tr>
    <td>codec<br></td>
    <td>one of:<br>h261<br>h263<br>h263+<br>h264<br>h264Lync<br>vp8<br>rtVideo</td>
    <td>the video codec used<br>h261 - H.261<br>h263 - H.263<br>h263+ - H.263+<br>h264 - H.264<br>h264Lync - H.264 SVC<br>for Lync<br>vp8 - VP8<br>rtVideo - RTVideo</td>
  </tr>
  <tr>
    <td>width</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>height</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>frameRate</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>jitter</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>bitRate</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>roundTripTime</td>
    <td>Number</td>
    <td></td>
  </tr>
  <tr>
    <td>packetLossPercentage</td>
    <td>Number</td>
    <td></td>
  </tr>
</table></td>
  </tr>
  </tr>
  <tr>
    <td>activeControl (from version 2.1)</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>encrypted</td>
    <td>trueIfalse</td>
    <td>If Active Control has been<br>negotiated with the remote party, this indicates whether the Active Control connection is encrypted.<ul><li>true - an encrypted Active Control connection has been negotiated with the remote party</li><li>false - an Active Control connection has been negotiated with the remote party but it is not encrypted</li></ul></td>
  </tr>
  <tr>
    <td>localSubscriptions<br>(from version 2.2)</td>
    <td colspan="2">see table below.</td>
  </tr>
  <tr>
    <td>remoteSubscriptions<br>(from version 2.2)</td>
    <td colspan="2">see table below.</td>
  </tr>
</table></td>
  </tr>
 <tr>
    <td>multiStreamVideo (from version 2.2)</td>
    <td colspan="2"><table>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>numScreens </td>
    <td>Number</td>
    <td>Indicates that multistream video is active for this call leg</td>
  </tr>
    <tr>
    <td>numCameras </td>
    <td>Number</td>
    <td>The number of multistream main video camera streams currently active for this call leg. (from version 2.9)</td>
  </tr>
    <tr>
    <td>numCamerasAvailable </td>
    <td>Number</td>
    <td>The number of multistream main video camera streams advertised by the far end as being available for this call leg. (from version 2.9)</td>
  </tr>
</table></td>
  </tr>
   <tr>
    <td>lyncRole<br>(from version 2.4)</td>
    <td>presenter|attendee</td>
    <td>Only present if the participant associated with this call leg is in a Lync conference.
    <ul>
    <li>presenter - The participant associated with this call leg is a presenter in the Lync conference.</li>
    <li>attendee - The participant associated with this call leg is an attendee in the Lync conference.</li>
    </ul>
</td>
</table></td>
    </tr>
     <tr>
    <td>localSubscriptions (from version 2.2)</td>
    <td colspan="2"><table>
  <tr>
    <th>Name </th>
    <th>Description</th>
  </tr>
  <tr>
    <td>capabilities</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP capabilities.</td>
  </tr>
  <tr>
    <td>conferenceInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP conference information (this includes the participant list and some conference-wide information such as whether recording is active).</td>
  </tr>
  <tr>
    <td>layouts</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP layout information.</td>
  </tr>
  <tr>
    <td>selfInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP self information.</td>
  </tr>
  <tr>
    <td>speakerInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP speaker information.</td>
  </tr>
</table></td>
  </tr>
   <tr>
    <td>remoteSubscriptions (from version 2.2)</td>
    <td colspan="2"><table>
  <tr>
    <th>Name </th>
    <th>Description</th>
  </tr>
  <tr>
    <td>capabilities</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP capabilities.</td>
  </tr>
  <tr>
    <td>conferenceInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP conference information (this includes the participant list and some conference-wide information such as whether recording is active).</td>
  </tr>
  <tr>
    <td>layouts</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP layout information.</td>
  </tr>
  <tr>
    <td>selfInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP self information.</td>
  </tr>
  <tr>
    <td>speakerInfo</td>
    <td>If present, this indicates that the local Meeting Server has subscribed to the far end's XCCP speaker information.</td>
  </tr>
</table></td>
  </tr>
</table>


+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLeg id="dbe60866-061d-49b3-8399-e95d6248bc2d">
              <name>Bjarne Stroustrup</name>
              <remoteParty>bjarne@ciscolabs.com</remoteParty>
              <originalRemoteParty>bjarne@ciscolabs.com</originalRemoteParty>
              <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              <type>acano</type>
              <direction>incoming</direction>
              <canMove>false</canMove>
              <configuration>
                <participantLabels>true</participantLabels>
                <joinToneParticipantThreshold>100</joinToneParticipantThreshold>
                <leaveToneParticipantThreshold>0</leaveToneParticipantThreshold>
                <muteOthersAllowed>true</muteOthersAllowed>
                <videoMuteOthersAllowed>true</videoMuteOthersAllowed>
                <muteSelfAllowed>true</muteSelfAllowed>
                <videoMuteSelfAllowed>true</videoMuteSelfAllowed>
                <endCallAllowed>true</endCallAllowed>
                <disconnectOthersAllowed>true</disconnectOthersAllowed>
                <changeLayoutAllowed>true</changeLayoutAllowed>
                <callLockAllowed>true</callLockAllowed>
                <allowAllMuteSelfAllowed>true</allowAllMuteSelfAllowed>
                <changeJoinAudioMuteOverrideAllowed>true</changeJoinAudioMuteOverrideAllowed>
                <recordingControlAllowed>true</recordingControlAllowed>
                <streamingControlAllowed>true</streamingControlAllowed>
                <participantCounter>always</participantCounter>
              </configuration>
              <status>
                <state>connected</state>
                <durationSeconds>1057</durationSeconds>
                <direction>incoming</direction>
                <groupId>dbe60866-061d-49b3-8399-e95d6248bc2d</groupId>
                <encryptedMedia>true</encryptedMedia>
                <unencryptedMedia>false</unencryptedMedia>
                <layout>telepresence</layout>
                <rxAudio>
                  <codec>opus</codec>
                  <packetLossPercentage>0.0</packetLossPercentage>
                  <jitter>9</jitter>
                  <bitRate>38539</bitRate>
                </rxAudio>
                <txAudio>
                  <codec>opus</codec>
                  <packetLossPercentage>0.0</packetLossPercentage>
                  <jitter>2</jitter>
                  <bitRate>64000</bitRate>
                  <roundTripTime>1</roundTripTime>
                </txAudio>
                <rxVideo role="main">
                  <codec>h264</codec>
                  <bitRate>1975241</bitRate>
                  <packetLossPercentage>0.0</packetLossPercentage>
                  <jitter>11</jitter>
                </rxVideo>
                <txVideo role="main">
                  <codec>h264</codec>
                  <width>128</width>
                  <height>128</height>
                  <frameRate>4.9</frameRate>
                  <bitRate>678</bitRate>
                  <packetLossPercentage>0.0</packetLossPercentage>
                  <jitter>4</jitter>
                  <roundTripTime>1</roundTripTime>
                </txVideo>
              </status>
            </callLeg>

## Call Leg Profile Methods [/callLegProfiles{?offset,limit,usageFilter}]

### General information
A call leg profile defines a set of in-call behaviors. coSpace, coSpaceUser, accessMethod, and tenant objects can optionally have a callLegProfile association – if so, call legs that correspond to those objects inherit the in-call behavior defined by the call leg profile.

## Retrieving call leg profiles [GET]
GET method on the `/callLegProfiles/` node.

Response is a collection of `<callLegProfile id=<call leg profile id>` objects contained within an `<callLegProfiles>` object

`<callLegProfile>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>needsActivation</td>
        <td>boolean</td>
        <td>If set to "true", the participant is unable to receive or contribute audio and video until one or more “full/activator” participants join.</td>
    </tr>
    <tr>
        <td>defaultLayout</td>
        <td>allEqual | speakerOnly | telepresence| stacked | allEqualQuarters | allEqualNinths | allEqualSixteenths | allEqualTwentyFifths | onePlusFive | onePlusSeven | onePlusNine| automatic</td>
        <td>The default layout to be used for call legs using this call leg profile. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic".</td>
    </tr>
    <tr>
        <td>changeLayoutAllowed</td>
        <td>boolean</td>
        <td>If set to “true” all legs using this call leg profile are allowed to change their screen layout on a SIP endpoint. This parameter is present from version 1.8 onwards</td>
    </tr>
    <tr>
        <td>participantLabels</td>
        <td>boolean</td>
        <td>If set to "true", call legs using this call leg profile will have participant pane labels shown on their video panes</td>
    </tr>
    <tr>
        <td>presentationDisplayMode</td>
        <td>dualStream | singleStream</td>
        <td>singleStream provides a single composited content+video BFCP stream rather than outgoing content being in a separate stream</td>
    </tr>
    <tr>
        <td>presentationContributionAllowed</td>
        <td>boolean</td>
        <td>If true, the participant using the call leg can contribute content</td>
    </tr>
    <tr>
        <td>allowAllPresentationContributionAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to change the permission to present of all call legs. Present from version 1.8 onwards</td>
    </tr>
    <tr>
        <td>presentationViewingAllowed</td>
        <td>boolean</td>
        <td>If true, the participant using the call leg can view content con- tributed by others</td>
    </tr>
    <tr>
        <td>endCallAllowed</td>
        <td>boolean</td>
        <td>If true, the participant using the call leg profile can end the meeting for everyone</td>
    </tr>
    <tr>
        <td>muteOthersAllowed</td>
        <td>boolean</td>
        <td>If true, the participant using the call leg profile can mute other participants</td>
    </tr>
    <tr>
        <td>changeJoinAudioMuteOverrideAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to set the initial mute state of new par- ticipants. Present from version 1.8 onwards</td>
    </tr>
    <tr>
        <td>videoMuteOthersAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to mute or unmute their own audio</td>
    </tr>
    <tr>
        <td>muteSelfAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to mute or unmute (block/unblock) the video of other participants</td>
    </tr>
    <tr>
        <td>allowAllMuteSelfAllowed</td>
        <td>boolean</td>
        <td>Whether or not call legs using this call leg profile are allowed to change the permission of all call legs to mute and unmute them- selves. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>videoMuteSelfAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to mute or unmute (block/unblock) their own video</td>
    </tr>
    <tr>
        <td>joinToneParticipantThreshold</td>
        <td>Number</td>
        <td>Number of participants using SIP endpoints that will have a "join tone” played;  maximum 100, a value of 0 “disables” the feature. Cisco Meeting App users do not  receive these audio indications because the 'Participant' List (roster list) provides a visual indication of who is joining and leaving.</td>
    </tr>
    <tr>
        <td>leaveToneParticipantThreshold</td>
        <td>Number</td>
        <td>Number of participants up to which a "leave tone" will be played out (a value of 0 “disables” the feature). Cisco Meeting App users do not  receive these audio indications because the 'Participant' List provides a visual indication of who is joining and leaving.</td>
    </tr>
    <tr>
        <td>videoMode</td>
        <td>auto | disabled</td>
        <td>If disabled is set then call legs using this call leg profile will be audio-only, or audio and content – depending on the values for presentationViewingAllowed and txAudioMute. No main stream video will be shown. For devices which show content in the main video stream, content but no participant video will be shown in the main video stream when appropriate.</td>
    </tr>
    <tr>
        <td>rxAudioMute</td>
        <td>boolean</td>
        <td>If true, other participants will not hear audio from call legs using this call leg profile.</td>
    </tr>
    <tr>
        <td>txAudioMute</td>
        <td>boolean</td>
        <td>If true, audio to call legs using this call leg profile will be muted.</td>
    </tr>
    <tr>
        <td>rxVideoMute</td>
        <td>boolean</td>
        <td>If true, contributing ("camera") video from call legs using this call leg profile will not be seen by other participants</td>
    </tr>
    <tr>
        <td>txVideoMute</td>
        <td>boolean</td>
        <td>If true, video streams to call legs using this call leg profile will be muted (a SIP endpoint's screen just shows the logo, for example, a Cisco Meeting App will be sent no video at all)</td>
    </tr>
    <tr>
        <td>sipMediaEncryption</td>
        <td>optional | required | prohibited</td>
        <td>Same as Web Admin Interface setting</td>
    </tr>
    <tr>
        <td>audioPacketSizeMs</td>
        <td>Number</td>
        <td>Numeric value for preferred packet size for outgoing audio streams (in milliseconds, the default value is 20ms)</td>
    </tr>
    <tr>
        <td>deactivationMode</td>
        <td>deactivate | disconnect | remainActivated</td>
        <td>Action for "needsActivation" call legs when the last "activator" leaves</td>
    </tr>
    <tr>
        <td>deactivationModeTime</td>
        <td>Number</td>
        <td>Number of seconds after the last "activator" leaves before which the deactivationMode action is taken</td>
    </tr>
    <tr>
        <td>telepresenceCallsAllowed</td>
        <td>boolean</td>
        <td>If true, a call leg using this call leg profile is allowed to make TIP (Telepresence Interoperability Protocol) calls</td>
    </tr>
    <tr>
        <td>sipPresentationChannelEnabled</td>
        <td>boolean</td>
        <td>If true, a call leg using this call leg profile is permitted to perform presentation video channel operations</td>
    </tr>
    <tr>
        <td>bfcpMode</td>
        <td>serverOnly | serverAndClient</td>
        <td>If presentation video channel operations are enabled for SIP calls, this setting determines the Call Bridge's BFCP behaviour. serverOnly - this is the normal setting for a conferencing device, and is intended for use with BFCP client mode devices (for instance, SIP endpoints). serverAndClient - this setting allows the Call Bridge to operate in either BFCP client or BFCP server mode in calls with remote devices. This can allow improved presentation video sharing with a remote conference- hosting device such as a third party MCU</td>
    </tr>
    <tr>
        <td>callLockAllowed</td>
        <td>boolean</td>
        <td>Determines whether or not call legs using this call leg profile are allowed to lock the call. Present from version 1.8 onwards</td>
    </tr>
    <tr>
        <td>recordingControlAllowed</td>
        <td>boolean</td>
        <td>Whether call legs using this call leg profile are allowed to start/stop recording the call. Present from version 1.9 onwards</td>
    </tr>
</table>

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" on the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" on the notional list
    + usageFilter (enum, optional) - Using unreferenced retrieves only those call leg profiles that are not referenced by global settings or any other object. This is a useful check before deleting a call Leg profile.
        + unreferenced
        + referenced
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLegProfiles total="2">
              <callLegProfile id="06b654b1-1d1f-4f7e-ac07-b7aed2fa4ed6"/>
              <callLegProfile id="4eb10b6c-5e51-42af-a56d-431c58692384">
                <needsActivation>true</needsActivation>
              </callLegProfile>
            </callLegProfiles>

## Creating and modifying a call leg profile [POST]
* Creating: POST method to the `/callLegProfiles` node. If the call leg profile is created successfully, a “200 OK” response will be received, and the `Location` header in the response will contain the ID of the new call leg profile
* Modifying a call leg profile is a PUT method on a `/callLegProfiles/<call leg profile id>` node

In all cases, if you explicitly set a parameter to an empty value in the POST or PUT, that parameter is "unset" for that profile. Those call legs then "inherit" the value for that parameter from the level above's call leg profile.

+ Attributes (callLegProfile)
+ Response 200
    + Headers

            Location: /api/v1/callLegProfiles/73fa8f1e-6841-476f-ba75-8061b138f978

## Retrieving information on an individual call leg profile [GET /callLegProfiles/{callLegProfileId}]
### Example call leg profile & access method use

The main use for being able to associate call leg profiles with access methods is to be able to construct separate URI / call ID / passcode combinations giving different in- call behaviors. For example, one call leg profile whose “needsActivation” value is “true” could be associated with one access method, and another call leg profile whose “needsActivation” value is “false” could be associated with a different access method.

Effectively this sets up separate “activator” and “guest” access methods for that coSpace, with callers to the “needsActivation=true” access method needing to wait until a successful call in to the other access method before their conference audio and video become active. For the multiple access methods linked to different call leg profiles in this way, you can choose to distinguish between them only by passcode; essentially, activator and guest users dial the same URI but enter a different PIN depending on whether they’re an activator or guest participant.
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLegProfile id="06b654b1-1d1f-4f7e-ac07-b7aed2fa4ed6">
              <participantLabels>true</participantLabels>
              <joinToneParticipantThreshold>100</joinToneParticipantThreshold>
              <leaveToneParticipantThreshold>0</leaveToneParticipantThreshold>
              <muteOthersAllowed>true</muteOthersAllowed>
              <videoMuteOthersAllowed>true</videoMuteOthersAllowed>
              <muteSelfAllowed>true</muteSelfAllowed>
              <videoMuteSelfAllowed>true</videoMuteSelfAllowed>
              <endCallAllowed>true</endCallAllowed>
              <disconnectOthersAllowed>true</disconnectOthersAllowed>
              <changeLayoutAllowed>true</changeLayoutAllowed>
              <callLockAllowed>true</callLockAllowed>
              <allowAllMuteSelfAllowed>true</allowAllMuteSelfAllowed>
              <changeJoinAudioMuteOverrideAllowed>true</changeJoinAudioMuteOverrideAllowed>
              <recordingControlAllowed>true</recordingControlAllowed>
              <streamingControlAllowed>true</streamingControlAllowed>
              <participantCounter>always</participantCounter>
            </callLegProfile>

## usage object method [GET /callLegProfiles/{callLegProfileId}/usage]
From R1.7 there is a `/callLegs/<callLegId>/usage` object in the hierarchy. Performing a GET on this object retrieves, for the queried call leg, a list of where the specified call leg profile is used: whether it is set to be the global call leg profile or any associations it has with tenants, coSpaces, coSpace users, coSpace access methods.
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLegProfileUsage id="06b654b1-1d1f-4f7e-ac07-b7aed2fa4ed6" total="1">
              <global/>
            </callLegProfileUsage>

## callLegProfileTrace object method [GET /callLegProfiles/{callLegProfileId}/callLegProfileTrace]
There is a `/callLegs/<callLegId>/callLegProfileTrace` object in the hierarchy. Performing a GET on this object retrieves, for the call leg that you queried, how its in- force call leg profile has been arrived at; that is, the hierarchy of overrides that have contributed to the currently "in force" call leg profile. Specifically, the response includes a section for each level in the profile hierarchy, and details which call leg profile elements have been applied at which level.

The end result for each parameter is the lowest level’s override for that parameter; for example, if the tenant-level call leg profile has set “participantLabels” to true but the coSpace call leg profile has it set to false, then call legs in that coSpace will not display participant labels.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>scope</td>
        <td>global | tenant | coSpace | accessMethod | coSpaceUser | callOut | callLeg</td>
        <td>Indicates at which level the set of profile parameters have been applied</td>
    </tr>
    <tr>
        <td>id</td>
        <td>ID</td>
        <td>If present, the callLegProfile applicable to the scope of this entry</td>
    </tr>
    <tr>
        <td>userId</td>
        <td>ID</td>
        <td>Identifies the user with no relationship to any coSpace association, and may or may not be the same as the ID of the “coSpaceUser” object.</td>
    </tr>
    <tr>
        <td>needsActivation</td>
        <td></td>
        <td>Parameters that show which call leg profile values have been overridden at this level</td>
    </tr>
    <tr>
        <td>defaultLayout</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>changeLayoutAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>participantLabels</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>presentationDisplayMode</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>presentationContributionAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>presentationViewingAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>endCallAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>muteOthersAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>videoMuteOthersAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>muteSelfAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>videoMuteSelfAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>joinToneParticipantThreshold</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>leaveToneParticipantThreshold</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>videoMode</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>rxAudioMute</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>txAudioMute</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>rxVideoMute</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>txVideoMute</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>sipMediaEncryption</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>audioPacketSizeMs</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>deactivationMode</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>deactivationModeTime</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>telepresenceCallsAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>sipPresentationChannelEnabled</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>bfcpMode</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>disconnectOthersAllowed</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>audioGainMode</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>addParticipantAllowed (from version 2.3)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>qualityMain (from version 2.2)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>qualityPresentation (from version 2.2)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>participantCounter (from version 2.2)</td>
        <td></td>
        <td></td>
    </tr>
</table>




+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLegProfileTrace callLeg="dbe60866-061d-49b3-8399-e95d6248bc2d">
              <profile scope="global">
                <callLegProfile id="06b654b1-1d1f-4f7e-ac07-b7aed2fa4ed6">
                  <participantLabels>true</participantLabels>
                  <joinToneParticipantThreshold>100</joinToneParticipantThreshold>
                  <leaveToneParticipantThreshold>0</leaveToneParticipantThreshold>
                  <muteOthersAllowed>true</muteOthersAllowed>
                  <videoMuteOthersAllowed>true</videoMuteOthersAllowed>
                  <muteSelfAllowed>true</muteSelfAllowed>
                  <videoMuteSelfAllowed>true</videoMuteSelfAllowed>
                  <endCallAllowed>true</endCallAllowed>
                  <disconnectOthersAllowed>true</disconnectOthersAllowed>
                  <changeLayoutAllowed>true</changeLayoutAllowed>
                  <callLockAllowed>true</callLockAllowed>
                  <allowAllMuteSelfAllowed>true</allowAllMuteSelfAllowed>
                  <changeJoinAudioMuteOverrideAllowed>true</changeJoinAudioMuteOverrideAllowed>
                  <recordingControlAllowed>true</recordingControlAllowed>
                  <streamingControlAllowed>true</streamingControlAllowed>
                  <participantCounter>always</participantCounter>
                </callLegProfile>
              </profile>
            </callLegProfileTrace>

## GenerateKeyFrame [POST /callLegs/{callLegId}/generateKeyframe]
POST to /callLegs/<callLegId>/generateKeyframe to trigger the generation of a new keyframe in outgoing video streams for the call leg in question. This is a debug facility, and Cisco Support may ask you to use the feature when diagnosing an issue.


+ Parameters
    + callLegId (ID)

+ Response 200

## Group Dial Transform Methods

When dial transforms are applied to all outbound calls, then the outbound dial plan rules are applied to the transformed number.

You can use the Web Admin Interface Configuration > Outbound Calls page to control how dialed numbers are transformed. For example, the dial plan in the screen shot below ensures that outbound "+1" (US) calls use one Call Bridge and +44 (UK) calls use another.

However, you need to use the API for dialTransforms if you use Call Bridge clustering, because the shared coSpace database is a single configuration location for all Call Bridges. In a cluster you do not need to configure the dialTransforms separately on each Call Bridge. The dialTransforms for the cluster are those defined on the Call Bridge host server (Meeting Server or virtualized deployment) that is co-located with the first coSpace database in the database cluster. Although the same dialTransforms are applied to all Call Bridge in the cluster, the outbound dial plan rules can be configured per-Call Bridge as described previously.

There are three stages to the transform
* A “type” is applied, which breaks the input number/string into components $1, $2 etc.
* The components are matched using regular expressions to see if the rule is valid
* An output string is created from the components according to the defined transform

---
**Note:** A phone URI is recognized as a purely numeric string (optionally prefixed by a ‘+’) when it begins with a valid international dial code (e.g. 44 for UK or 1 for US) followed by the correct number of digits for a phone number for that region.
---



## Dial Transforms [/dialTransforms{?offset,limit,filter}]

### Examples
<table>
    <tr>
        <th>Example</th>
        <th>Type</th>
        <th>Match</th>
        <th>Transform</th>
    </tr>
    <tr>
        <td>For US numbers, use 'vcs1' directly</td>
        <td>Phone</td>
        <td>($1/01/)</td>
        <td>$2@vcs1</td>
    </tr>
    <tr>
        <td>For UK numbers, add a prefix and use 'vcs2'</td>
        <td>Phone</td>
        <td>($1/44/)</td>
        <td>90044$2@vcs2</td>
    </tr>
    <tr>
        <td>For UK numbers starting with a 7, add '90044' as a prefix, add '123@mobilevcs' as a suffix</td>
        <td>Phone</td>
        <td>($1/44/)($2/^7/)</td>
        <td>90044$2{}123@mobilevcs</td>
    </tr>
    <tr>
        <td>For unrecognized all-digit strings, use '@vcs3' as a suffix</td>
        <td>Strip</td>
        <td>($1/(\d){6,}/)</td>
        <td>$1@vcs3</td>
    </tr>
    <tr>
        <td>Replace + with 00</td>
        <td>Strip</td>
        <td>($1/\+(\d)+/)</td>
        <td>$1{/\+/00/}</td>
    </tr>
    <tr>
        <td>Replace an alphanumeric regex e.g. (.*)@example.com and replace with \1.endpoint@vc.example.com</td>
        <td>Raw</td>
        <td>($1/(.*)@example.com/)</td>
        <td>$1{/@example.com$/.endpoint@vc.example.com/}</td>
    </tr>
</table>




## Retrieving dial transforms [GET]
GET method performed on the `/dialTransforms` node.

Response is structured as a top-level `<dialTransforms total="N">` tag with potentially multiple `<dialTransform>` elements within it.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>Type</td>
        <td>raw | strip | phone</td>
        <td><p>The type of pre-processing to apply to this transform</p><p>Raw: produces one component $1</p><p>Strip: removes dots, dashes, spaces and produces one component $1</p><p>Phone: An international phone number produces two components $1 county code and $2 number</p></td>
    </tr>
</table>


+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + filter (string, optional) - Enter a filter to retrieve only those dial transforms that match the string.


+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <dialTransforms total="1">
              <dialTransform id="60b675c9-80b0-4c77-aaf5-b3f0b4266a28">
                <type>strip</type>
              </dialTransform>
            </dialTransforms>

## Setting up and modifying dial transforms [POST]
* Creating: POST method to the `/dialTransforms` node
* Modifying: PUT to `/dialTransforms/<dialTransform id>`

#### match
If provided, the regular expression describing whether this rule will be applied. An empty string means “match all”.

This is a logically AND'd combination of regular expressions, each applied to a component of the pre-processed expression. The format is:

`($<componentnum_1>/<regex_1>/)($<componentnum_2>/<regex_2>/) ($<componentnum_3>/<regex_3>/)...`

For example:
* `($2/abc/)` Component2 must contain 'abc'
* `($1/^0/)($1/9$/)` Component1 must start with a 0 and end with a 9
* `($1/^44$/)($2/^7/)` Component1 must be '44' and component2 must start with a 7


#### transform
The replacement transform to be applied. This allows references to the pre-processed components, as well as one or more regular expression substitutions encased in curly braces with the following special strings replaced as described.

`$<componentnum>` Replace with component

`$<componentnum>{}` Replace with component

`$<componentnum>{/<matchregex1>/<replaceregex1/} {/<matchregex2>/<replaceregex2/}{/<matchregex3>/<replaceregex3/}...`

Replace with component, with all instances of matchregex1 replaced by replaceregex1, and subsequently matchregex2 replaced by replaceregex2, etc. Capture groups are supported.

Examples are:
* `abc` Replace everything with 'abc'
* `$1$2@t.com` Component1 followed by component2 followed by "@t.com"
* `$1{}123@t.com` Component1 followed by "123@t.com"
* `$1{/999/123/}@t.com` Component1 with all instances of '999' replaced by '123', followed by "@t.com"
* `$1{/\D//}{/^9//}@example.com` Component1 with all non-digits removed and leading 9 removed, followed by "@example.com"


+ Attributes (dialTransform)

+ Response 200
    + Headers

            Location: /api/v1/dialTransforms/20dc6ac9-ff83-47b7-b153-c0e7efc3df3a

## Retrieving detailed information about an individual dial transform [GET /dialTransform/{dialTransformId}]
GET method performed on a `/dialTransform/<dialTransform id>` node. If the call branding profile id ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

#### Examples

<table>
  <tr>
    <th>Example</th>
    <th>Type</th>
    <th>Match</th>
    <th>Transform</th>
  </tr>
  <tr>
    <td>For US numbers, use 'vcs1' directly</td>
    <td>Phone</td>
    <td>($1/01/)</td>
    <td>$2@vcs1</td>
  </tr>
  <tr>
    <td>For UK numbers, add a prefix and use 'vcs2'</td>
    <td>Phone</td>
    <td>($1/44/)</td>
    <td>90044$2@vcs2</td>
  </tr>
  <tr>
    <td>For UK numbers starting with a 7, add '90044' as a prefix, add '123@mobilevcs' as a suffix</td>
    <td>Phone</td>
    <td>($1/44/)($2/^7/)</td>
    <td>90044$2{}123@mobilevcs</td>
  </tr>
  <tr>
    <td>For unrecognized all-digit strings, use '@vcs3' as a suffix</td>
    <td>Strip</td>
    <td>($1/(\d){6,}/)</td>
    <td>$1@vcs3</td>
  </tr>
  <tr>
    <td>Replace + with 00</td>
    <td>Strip</td>
    <td>($1/\+(\d)+/)</td>
    <td>$1{/\+/00/}</td>
  </tr>
  <tr>
    <td>Replace an alphanumeric regex e.g. (.*)@example.com and replace with \1.endpoint@vc.example.com</td>
    <td>Raw</td>
    <td>($1/ (.*)@example.com/)</td>
    <td>$1{/@example.com$/.endpoint@vc.example.com/}</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <dialTransform id="60b675c9-80b0-4c77-aaf5-b3f0b4266a28">
              <type>strip</type>
              <match>($1/^9\+?[^+]+$/)</match>
              <transform>9$1{/^9//}{/\+/00/}</transform>
              <priority>0</priority>
              <action>accept</action>
            </dialTransform>

# Group Setting Individual Features for a Call Leg

You can set, modify and retrieve on a per active call leg basis, these settings include whether a presentation should be restricted to single screen mode (i.e. one combined main and presentation video stream), or allowed to use separate video streams if this is supported by the receiving party.

---
**Note:** Setting individual parameters for a call leg overrides the values of the call leg profile.

---


# Group Layout template related Methods

## Layout Templates [/layoutTemplates/{?offset,limit,filter}]
From version 2.8, Meeting Server introduces customizable layouts. This allows Administrators more flexibility to create and apply custom layouts that suit their specific needs. This feature can work on single and dual screen endpoints.
The layout template methods allow you to implement customized JSON layout template files. For more information on customizable layouts, see Cisco Meeting Server 2.8 Administrator Guide to Screen Layouts and Pane Placement .
Customizable layouts are not supported on 3 screen endpoints.

## Retrieving (Enumerate) of Layout Templates [GET]
GET method on the `/layoutTemplates` node.

Response is structured as a top-level <layoutTemplates total="N"> tag with potentially multiple <lay-outTemplate> elements within it. Each <layoutTemplate> tag may include the following elements:
<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td>The human-readable name associated with this layout template</td>
    </tr>
    <tr>
        <td>templateSize</td>
        <td>numeric</td>
        <td>Size (in bytes) of the template</td>
    </tr>
</table>


+ Parameters

    + offset (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list
    + limit (number, optional)
        An "offset" and "limit" can be supplied to retrieve coSpaces other than the first "page" in the notional list.
    + filter (string)
        supply filter=<string> to return just those layout templates that match the filter.

+ Request
    + Headers

            Authorization: Basic Ym9iOmJ1aWxkZXI=


+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <layoutTemplates="something">
                </layoutTemplates id="xyz">
            </layoutTemplates>


## Adding and Modifying Layout Templates [POST]
* POST method performed on `/layoutTemplates` node
* PUT method to a `/layoutTemplates/<layout template id>` node.

+ Attributes (layouttemplate)

+ Response 200
    + Headers

            Location: /api/v1/Layout template/05ac65fc-416d-4e59-90ca-1e034a4c0249




# Group Call Branding Profile Methods
Call branding profiles control the in- call experience for SIP (including Lync) calls, and the ability to customize text within invitations.

---
**Note:** From version 2.4, the use of `callBrandingProfiles` no longer requires a branding license.

---



## Call Branding Profiles [/callBrandingProfiles{?offset,limit,usageFilter}]

## Retrieving Call Branding Profiles [GET]
Response is structured as a top-level `<callBrandingProfiles total="N">` tag with potentially multiple `<callBrandingProfiles>` elements within it.

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + usageFilter (enum, optional) - Using unreferenced retrieves only those call branding profiles that are not referenced by global settings or any other object. This is a useful check before deleting a call branding profile
        + referenced
        + unreferenced

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBrandingProfiles total="1">
              <callBrandingProfile id="28495b43-d3ff-46d5-aca3-954b601139dc">
                <resourceLocation>https://someserver.ciscolabs.com/callbranding</resourceLocation>
              </callBrandingProfile>
            </callBrandingProfiles>

## Setting up and modifying call branding profiles [POST]
* Creating: POST method to the `/callBrandingProfiles` node
* Modifying: PUT to `/callBrandingProfiles/<call branding profile id>`

+ Attributes (callBrandingProfile)
+ Response 200
    + Headers

            Location: /api/v1/callBrandingProfiles/28495b43-d3ff-46d5-aca3-954b601139dc

## Retrieving detailed information about an individual call branding profile [GET /callBrandingProfiles/{callBrandingProfileId}]
GET method performed on a `/callBrandingProfiles/<call branding profile id>` node. If the call branding profile ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBrandingProfile id="28495b43-d3ff-46d5-aca3-954b601139dc">
              <resourceLocation>https://someserver.ciscolabs.com/callbranding</resourceLocation>
            </callBrandingProfile>


# Group DTMF Profile Methods
dtmfProfiles can be used to define a number of DTMF sequences that can be used to control audio – as explained in this section. The dtmfProfile does not define the ability to perform the actions, it defines the DTMF string that will invoke action. The definition for who has the authority to invoke that action within the coSpace is defined at the callLegProfile level.

If you are using the Meeting Server alongside third party solutions, or to replace an existing solution, then set the values to match the values that solution uses e.g. Lync conferencing uses *6 for both mute and unmute, so set toggleMuteSelfAudio to *6.

## DTMF Profiles [/dtmfProfiles{?offset,limit,usageFilter}]

## Retrieving DTMF Profiles [GET]
Response is structured as a top-level `<dtmfProfiles total="N">` tag with potentially multiple `<dtmfProfile>` elements within it.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>muteSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to mute the audio being contributed to their call</td>
    </tr>
    <tr>
        <td>unmuteSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to unmute their audio</td>
    </tr>
    <tr>
        <td>toggleMuteSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to toggle between mute and unmute audio from themselves</td>
    </tr>
    <tr>
        <td>muteAllExceptSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to mute all other participants in the call</td>
    </tr>
    <tr>
        <td>unmuteAllExceptSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to unmute all other participants in the call.</td>
    </tr>
    <tr>
        <td>startRecording</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to start recording the active call. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>stopRecording</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to stop recording the active call. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>muteAllNewAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to mute all new participants. Sets joinAudioMuteOverride Call object to true. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>unmuteAllNewAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to unmute all new participants. . Sets joinAu- dioMuteOverride Call object to false. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>defaultMuteAllNewAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to use the audio mute value from the call leg profile for new participants. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>muteAllNewAndAllExceptSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to mute all new participants and all other participants in the call. Sets joinAudioMuteOverride in the call object to `true` and mutes all call legs except for the issuer. This requires ‘muteOthersAllowed’ to be ‘true’ in the call leg profile of the issuer. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>unmuteAllNewAndAllExceptSelfAudio</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to unmute all new participants and all other participants in the call. Sets joinAudioMuteOverride in the call object to `false` and unmutes all call legs except for the issuer. This requires ‘muteOthersAllowed’ to be ‘true’ in the call leg profile of the issuer. Present from version 1.9 onwards</td>
    </tr>
    <tr>
        <td>getTotalParticipantCount</td>
        <td>String</td>
        <td>DTMF sequence to be used by a participant to trigger an audio prompt announcing the number of participants in the call</td>
    </tr>
</table>

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + usageFilter (eunm, optional)  - This is a useful check before deleting the profile
        + referenced - retrieves just those DTMF profiles which are referenced in at least one place
        + unreferenced - retrieves only those DTMF profiles that are not referenced by global settings or any other object.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <dtmfProfiles total="1">
              <dtmfProfile id="978d9877-b8a3-4b48-97f5-8d00f8721a1e"/>
            </dtmfProfiles>

## Setting up and modifying DTMF Profiles [POST]
* Creating: POST method to the `/dtmfProfiles` node
* Modifying: PUT to `/dtmfProfiles/<dtmfProfileId>`

+ Attributes (dtmfProfile)
+ Response 200
    + Headers

            Location: /api/v1/dtmfProfiles/b298029f-d03d-4162-8a6e-300bf9a50029

## Retrieving detailed information about an individual dtmfProfile [GET /dtmfProfiles/{dtmfProfileId}]
GET method performed on a `/dtmfProfiles/<dtmfProfileId>` node. If the dtmfProfile ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <dtmfProfile id="978d9877-b8a3-4b48-97f5-8d00f8721a1e">
              <muteSelfAudio/>
              <unmuteSelfAudio/>
              <toggleMuteSelfAudio/>
              <lockCall>*9</lockCall>
              <unlockCall>*7</unlockCall>
              <muteAllExceptSelfAudio>#6</muteAllExceptSelfAudio>
              <unmuteAllExceptSelfAudio>#4</unmuteAllExceptSelfAudio>
              <endCall>*0</endCall>
              <nextLayout>#3</nextLayout>
              <previousLayout>#1</previousLayout>
              <startRecording>*3</startRecording>
              <stopRecording>*1</stopRecording>
              <startStreaming>*6</startStreaming>
              <stopStreaming>*4</stopStreaming>
              <allowAllMuteSelf/>
              <cancelAllowAllMuteSelf/>
              <allowAllPresentationContribution/>
              <cancelAllowAllPresentationContribution/>
              <muteAllNewAudio>#9</muteAllNewAudio>
              <unmuteAllNewAudio>#7</unmuteAllNewAudio>
              <defaultMuteAllNewAudio/>
              <muteAllNewAndAllExceptSelfAudio/>
              <unmuteAllNewAndAllExceptSelfAudio/>
              <getTotalParticipantCount/>
            </dtmfProfile>


# Group IVR Related Methods

## IVR Methods [/ivrs{?filter,offset,limit,tenantFilter}]

## Retrieving IVRs [GET]
Response is structured as a top-level `<ivrs total="N">` tag with potentially mutiple `<ivr>` elements within it.

Each `<ivr>` tag may include the following elements:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>uri</td>
        <td>URI user part</td>
        <td>The URI to be used for this IVR</td>
    </tr>
</table>

+ Parameters
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those IVRs that match the filter
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + tenantFilter (ID, optional) - Supply tenantFilter to return only those IVRs associated with the specified tenant

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ivrs total="1">
              <ivr id="ef49f372-4888-4290-ba27-d8cd7c5af96b">
                <uri>411</uri>
              </ivr>
            </ivrs>

## Setting up and modifying IVRs [POST]
* Creating: POST method to the `/ivrs` node
* Modifying: PUT to `/ivrs/<ivrId>`

+ Attributes (ivr)
+ Response 200
    + Headers

            Location: /api/v1/ivrs/ef49f372-4888-4290-ba27-d8cd7c5af96b

## Retrieving detailed information about an individual IVR [GET /ivrs/{ivrId}]
GET method performed on a `/ivrs/<ivr id>` node. If the IVR ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ivr id="ef49f372-4888-4290-ba27-d8cd7c5af96b">
              <uri>411</uri>
              <resolveCoSpaceCallIds>true</resolveCoSpaceCallIds>
              <resolveLyncConferenceIds>false</resolveLyncConferenceIds>
            </ivr>

## IVR Branding Profile Methods [/ivrBrandingProfiles{?offset,limit,usageFilter}]
IVR branding profiles were introduced in R1.6. They can define the experience when dialing into an IVR.

## Retrieving IVR branding profiles [GET]
Response is structured as a top-level `<ivrBrandingProfiles total="N">` tag with potentially multiple `<ivrBrandingProfile>` elements within it.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>resourceLocation</td>
        <td>URL</td>
        <td>The HTTP or HTTPS URL that the IVR branding files will be retrieved from. This should be the "directory" in which the individual audio and graphic files reside. Details of these files are in the Meeting Server Customization Guide</td>
    </tr>
</table>

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + usageFilter (enum, optional) - This is a useful check before deleting an ivr branding profile
        + referenced
        + unreferenced - retrieves only those ivr branding profiles that are not referenced by global settings or any other object

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ivrBrandingProfiles total="1">
              <ivrBrandingProfile id="82415bf1-a8fc-4895-9a46-6b031df10aaf">
                <resourceLocation>http://someserver.ciscolabs.com/ivrbranding</resourceLocation>
              </ivrBrandingProfile>
            </ivrBrandingProfiles>

## Setting up and modifying an IVR branding profile [POST]
* Creating: POST method to the `/ivrBrandingProfiles` node
* Modifying: PUT to `/ivrBrandingProfiles/<ivr branding profile id>`

+ Attributes (ivrBrandingProfile)
+ Response 200
    + Headers

            Location: /api/v1/ivrBrandingProfiles/82415bf1-a8fc-4895-9a46-6b031df10aaf

## Retrieving detailed information about an individual IVR branding profile [GET /ivrBrandingProfiles/{ivrBrandingProfileId}]
GET method performed on a `/ivrBrandingProfiles/<ivr branding profile id>` node. If the IVR branding profile ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ivrBrandingProfile id="82415bf1-a8fc-4895-9a46-6b031df10aaf">
              <resourceLocation>http://someserver.ciscolabs.com/ivrbranding</resourceLocation>
            </ivrBrandingProfile>


# Group Participant Related Methods
Release 1.6 introduced the new object type or concept of a "participant" alongside the existing "callLeg" objects. The two should not be confused: for example, a "participant" can be a user's Lync session in which there might be separate call legs for audio and video, application sharing and IM.

Each Call Bridge involved in a distributed call has an overall picture of the "participant" list for that call, including participants hosted on other Call Bridges. For participants hosted on the Call Bridge being queried, you can enumerate the constituent call legs but for participants hosted on another Call Bridge, querying those participants yields the ID of the Call Bridge on which they are hosted. (You can then query the "owning" Call Bridge using the same participant ID in order to retrieve call leg-level detail.)

---
**Note:** Also see the section on `/call/callLegId/participants`

---

## Limiting a call’s participants
You can set a limit on the number of participants that are permitted to be in a call. You can set:
* A per-tenant participantLimit value, which imposes a limit on the total number of participants that are allowed to be active for that tenant.
* A `participantLimit` value within a `callProfile` object; this means that calls (e.g. coSpace instantiations) for whom that `callProfile` is in force will have the limit enforced

The callProfiles can be attached at the system, tenant or coSpace level, with the most specific taking effect

Therefore a call’s participantLimit depends on a number of factors.

If a call's `participantLimit` has been reached:
* No new participants can be added to it
* However:
    * A participant on a Cisco Meeting App can use any combination of chat, use video, audio and show/receive a presentation. These elements comprise one callLeg, and count as one participant. Using a slaved endpoint does not increase the participant count.
    * A participant in a meeting on a SIP endpoint can use video, audio and receive a presentation. These elements comprise one callLeg, and count as one participant
    * A participant on a Lync client can use any combination of chat, use video, audio and send a presentation. Any combination of these elements counts as one participant but each element is a separate callLeg. (A received presentation is displayed in the main video stream.)
    * New call legs for existing participants can still be added; for example, a Lync presentation call leg to go with a Lync audio/video call leg

If creation of a call leg or participant via an API method fails because a limit has been reached, you see the appropriate `failureReason`. If an incoming connection attempt is unsuccessful because a limit has been reached, you also see an error message (with a separate callLegEnd reason for whether the call's own limit has been reached or that of its owning tenant).

## Participant Methods [/participants{?filter,offset,limit,tenantFilter,callBridgeFilter}]

## Retrieving participants [GET]
Response is structured as a top-level `<participants total=”N”>` tag with potentially multiple `<participant>` elements within it.

`<participant>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>The human-readable display name associated with this participant</td>
    </tr>
        <tr>
        <td>call</td>
        <td>ID</td>
        <td>The call that this participant is part of</td>
    </tr>
        <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>If present, the id of the tenant that this participant is associated with</td>
    </tr>
    <tr>
        <td>callBridge</td>
        <td>ID</td>
        <td>If present, the remote clustered Call Bridge that this participant is connected to</td>
    </tr>
    <tr>
        <td>uri</td>
        <td>String</td>
        <td>The URI associated with this participant</td>
    </tr>
    <tr>
        <td>originalUri</td>
        <td>String</td>
        <td>The remote address first used by or signaled to the Call Bridge. (From version 2.3)</td>
    </tr>
    <tr>
        <td>numCallLegs</td>
        <td>Number</td>
        <td>The current number of active call legs associated with this participant. This value will only be present for those participants local to the Call Bridge to which the request is made</td>
    </tr>
     <tr>
        <td>numCallLegs</td>
        <td>Number</td>
        <td>The current number of active call legs associated with this participant. This value will only be present for those participants local to the Call Bridge to which the request is made</td>
    </tr>
    <tr>
    <td>userJid</td>
    <td>String</td>
    <td>The userJid associated with this participant</td>
    </tr>
    <tr>
    <td>isActivator</td>
    <td>true|false</td>
    <td>Whether this participant is considered to be an "activator"
        <ul>
        <li>true - this participant is an activator - it is itself "activated" and that it will cause any currently-connected "de-activated" participants to become activated</li>
        <li>false - this participant is not an activator - it needs to wait for one or more "activator" participants to be present before it is fully "activated"</li>
        </ul>
        </td>
    </tr>
    <tr>
    <td>canMove</td>
    <td>true|false</td>
    <td>Whether this participant can be moved to a different conference using the movedParticipant parameter on object /calls/<call id>/participants. (From version 2.6)</td>
    </tr>
    <tr>
    <td>movedParticipant</td>
    <td>ID</td>
    <td>If this participant was created by moving a participant (by POSTing the movedParticipant parameter to object /calls/<call id>/participants), then the ID indicates the original participant that this participant was moved from.(From version 2.6)</td>
    </tr>
    <tr>
    <td>movedParticipantCallBridge</td>
    <td>ID</td>
    <td>If this participant was created by moving a participant, then the ID indicates the Call Bridge that homed the original participant that this participant was moved from. (From version 2.6)</td>
    </tr>
</table>

#### status (from version 2.2)
<table>
<tr>
<td>Name</td>
<td>Type</td>
<td>Description</td>
</tr>
<tr>
<td>state</td>
<td>initial|ringing|connected|onHold</td>
<td>The call state of this participant.</td>
</tr>
</table>


#### configuration (from version 2.2)
<table>
<tr>
<td>Name</td>
<td>Type</td>
<td>Description</td>
</tr>
<tr>
<td>importance</td>
<td>Number</td>
<td>The importance of this participant.</td>
</tr>
</table>

+ Parameters
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those active participants that match the filter
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + tenantFilter (ID, optional) - Supply the tenantFilter to return only those participants belonging to that tenant
    + callBridgeFilter (ID, optional) - Supply the callBridgeFilter to return only those participants located on that Call Bridge

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <participants total="1">
              <participant id="dbe60866-061d-49b3-8399-e95d6248bc2d">
                <name>Ken Thompson</name>
                <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              </participant>
            </participants>

## Changing settings for a participant already in a conference [PUT /participants/{participantId}]
* Modifying: PUT to `/participants/<participantId>`

+ Parameters
    + participantId (ID)

+ Attributes (important)

+ Response 200

## Retrieving detailed information on an individual participant [GET /participants/{participantId}]
GET method performed on a `/participants/<participantId>` node

If the participant ID supplied is valid, a “200 OK” response is received, with XML content of the form:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>The human-readable display name associated with this participant</td>
    </tr>
        <tr>
        <td>call</td>
        <td>ID</td>
        <td>The call that this participant is part of</td>
    </tr>
        <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>If present, the id of the tenant that this participant is associated with</td>
    </tr>
        <tr>
        <td>callBridge</td>
        <td>ID</td>
        <td>If present, the remote, clustered, Call Bridge that this participant is connected to</td>
    </tr>
    </tr>
        <tr>
        <td>uri</td>
        <td>String</td>
        <td>The URI associated with this participant</td>
    </tr>
    <tr>
        <td>originalUri</td>
        <td>String</td>
        <td>The remote address first used by or signalled to the Call Bridge. (From version 2.3)</td>
    </tr>
    </tr>
        <tr>
        <td>numCallLegs</td>
        <td>Number</td>
        <td>The current number of active call legs associated with this participant. This value will only be present for those participants local to the Call Bridge to which the request is made</td>
    </tr>
    </tr>
        <tr>
        <td>userJid</td>
        <td>String</td>
        <td>The userJid associated with this participant</td>
    </tr>
    </tr>
    <tr>
        <td>isActivator</td>
        <td>boolean</td>
        <td>Whether this participant is considered to be an "activator". true - this participant is an activator - it is itself "activated" and that it will cause any currently-connected "de-activated" participants to become activated. false - this participant is not an activator - it needs to wait for one or more "activator" participants to be present before it is fully "activated"</td>
    </tr>
    <tr>
    <td>canMove</td>
    <td>true|false</td>
    <td>Whether this participant can be moved to a different conference using the movedParticipant parameter on object /calls/<call id>/participants. (From version 2.6)</td>
    </tr>
    <tr>
    <td>movedParticipant</td>
    <td>ID</td>
    <td>If this participant was created by moving a participant (by POSTing the movedParticipant parameter to object /calls/<call id>/participants), then the ID indicates the original participant that this participant was moved from.(From version 2.6)</td>
    </tr>
    <tr>
    <td>movedParticipantCallBridge</td>
    <td>ID</td>
    <td>If this participant was created by moving a participant, then the ID indicates the Call Bridge that homed the original participant that this participant was moved from. (From version 2.6)</td>
    </tr>
</table>
#### status (from version 2.2)
<table>
<tr>
<td>Name</td>
<td>Type</td>
<td>Description</td>
</tr>
<tr>
<td>state</td>
<td>initial<br>|ringing<br>|connected<br>|onHold<br></td>
<td>The call state of this participant.</td>
</tr>
<tr>
<td>cameraControlAvailable</td>
<td>true/false<br></td>
<td>Whether this participant has advertised the ability for its camera to be con-trolled remotely (from ver-sion 2.8). If true, camera control for this participant is possible. If false, camera control for this participant is not possible.</td>
</tr>
</table>


#### configuration (from version 2.2)
<table>
<tr>
<td>Name</td>
<td>Type</td>
<td>Description</td>
</tr>
<tr>
<td>importance</td>
<td>Number</td>
<td>The importance of this participant.</td>
</tr>
<tr>
<td>nameLabelOverride</td>
<td>String</td>
<td>The overridden name of this participant (from version 2.4)</td>
</tr>

<tr>
<td>defaultLayout</td>
<td>allEqual|speakerOnly|telepresence|stacked|allEqualQuarters|allEqualNinths|allEqualSixteenths|allEqualTwentyFifths|onePlusFive|onePlusSeven|onePlusNine|automatic|onePlusN</td>
<td>If set, the default layout returned is that of this participant as obtained from the resultant call leg profile (
from version 2.8)</td>
</tr>

<tr>
<td>layoutTemplate</td>
<td>ID</td>
<td>If set, the layout tem-plate ID is returned that is associated with this participant as obtained from the resultant call leg profile (from version 2.8)</td>
</tr>

</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <participant id="dbe60866-061d-49b3-8399-e95d6248bc2d">
              <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              <numCallLegs>1</numCallLegs>
              <name>Ken Thompson</name>
              <uri>ken@ciscolabs.com</uri>
              <originalUri>ken@ciscolabs.com</originalUri>
              <userJid>ken@ciscolabs.com</userJid>
              <isActivator>true</isActivator>
              <canMove>false</canMove>
              <configuration/>
              <status>
                <state>connected</state>
              </status>
            </participant>

## Retrieving a participant’s call legs [GET /participant/{participantId}/callLegs]
GET method performed on a `/participant/<participant ID>/callLegs` node retrieves the participant’s active call legs. If successful, the parameters described above for call legs are returned.

---
**Note:** that if this call leg is part of a distributed meeting (one hosted by more than one Call Bridge) then these details are only returned for local participants. If the participant’s call legs are hosted by another call Bridge the id of that Call Bridge is returned.

---
+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callLegs total="1">
              <callLeg id="dbe60866-061d-49b3-8399-e95d6248bc2d">
                <name>Ken Thompson</name>
                <remoteParty>ken@ciscolabs.com</remoteParty>
                <originalRemoteParty>ken@ciscolabs.com</originalRemoteParty>
                <call>b393d2cb-60ec-418c-9991-6ef4e72fa47b</call>
              </callLeg>
            </callLegs>

# Group User Related Methods
Users are created by synchronizing against LDAP servers (as discussed later); however, there are a number of methods for retrieving user information. This section covers:
* retrieving information on users
* retrieving detailed information on an individual user
* configuring user profiles

## User Methods [/users{?filter,offset,limit,tenantFilter,emailFilter,cdrTagFilter}]

## Retrieving Users [GET]
GET method performed on the `/users` node.

Response is structured as a top-level `<users total=”N”>` tag with potentially multiple `<user>` elements within it.

`<user>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>user id</td>
        <td>ID</td>
        <td></td>
    </tr>
        <tr>
        <td>userJid</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>The id of the tenant with which this user is associated, if applicable</td>
    </tr>
</table>

+ Parameters
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those users that match the filter
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + tenantFilter (ID, optional) - Supply tenantFilter to return only those users associated with the specified tenant
    + emailFilter (String) - Supply emailFilter to restrict results returned to those users whose email value exactly matches the specified email address (from version 2.1).
    + cdrTagFilter (String) - Supply cdrTagFilter to restrict results returned to those users whose cdrTag value exactly matches the specified cdrTag (from version 2.1).

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <users total="3">
              <user id="43dfe9c0-834f-42bd-aa1c-bbf5017706ba">
                <userJid>ken@ciscolabs.com</userJid>
              </user>
              <user id="3c2b4c49-9e60-4c97-835d-d22038d812cc">
                <userJid>bjarne@ciscolabs.com</userJid>
              </user>
              <user id="e19961e3-e468-41ca-b29d-c6d72fdfdb52">
                <userJid>dennis@ciscolabs</userJid>
              </user>
            </users>

## Retrieving Detailed Information on an Individual User [GET /users/{userId}]
GET method performed on a `/users/<userId>` node

If the user ID supplied is valid, a “200 OK” response is received, with XML content of the form:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>user id</td>
        <td>ID</td>
        <td></td>
    </tr>
    <tr>
        <td>userJid</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>tenant</td>
        <td>ID</td>
        <td>The id of the tenant with which this user is associated, if applicable</td>
    </tr>
    <tr>
        <td>name</td>
        <td>String</td>
        <td>User's display name</td>
    </tr>
    <tr>
        <td>email</td>
        <td>String</td>
        <td>e.g. first.last@mail.example.com</td>
    </tr>
    <tr>
        <td>authenticationId</td>
        <td>String</td>
        <td>The id used for authentication; this value is checked against values from the certificate that the user presents during certificate-based authentication. Present from version 1.8 onwards</td>
    </tr>
    <tr>
        <td>userProfile</td>
        <td>ID</td>
        <td>If present, this is the ID of the user profile associated with this user. (From version 2.0 onwards)</td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <user id="43dfe9c0-834f-42bd-aa1c-bbf5017706ba">
              <userJid>ken@ciscolabs.com</userJid>
              <name>Ken Thompson</name>
              <email/>
            </user>

## Retrieving a User’s coSpace Associations [GET /users/{userId}/usercoSpaces]
GET method performed on a `/users/<userId>/usercoSpaces` node retrieves the coSpaces that the user is a member of. (Also see the note on coSpace member permissions for auto-generated members.)

Response is structured as a top-level `<usercoSpaces total=”N”>` tag with potentially multiple `<usercoSpace>` elements within it.

`<usercoSpace>` elements follow the general form on the left.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>coSpace</td>
        <td>ID</td>
        <td></td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <userCoSpaces total="1">
              <userCoSpace id="b449de90-9dc5-4bed-9c65-a09a321d2bd9">
                <coSpaceId>b449de90-9dc5-4bed-9c65-a09a321d2bd9</coSpaceId>
              </userCoSpace>
            </userCoSpaces>



## Applying coSpace templates to users [POST /users/{userId}/userCospaceTemplates]

From 2.9, you can assign the coSpaceTemplate to a user with the API:

POST method to `/users/<userId>/userCospaceTemplates'

+ Attributes (cospacetemplate)

+ Response 200
    + Headers

            Location: /api/v1/userCospaceTemplates/528e21af-7ba4-4071-a584-235a2eb8c256


## Retrieving users coSpace template information [GET /users/userId/userCospaceTemplates/{?offset,limit,usercoSpacetemplateID}]

GET on `/users/<userID>/userCoSpaceTemplates/<usercoSpacetemplateID>` will give the following response parameters:

Enumerate GET on `/users/<user ID>/userCoSpaceTemplates` supporting the standard URI parameters "limit" and "offset". The response is structured as a top-level <userCoSpaceTemplates total="N"> tag with potentially multiple <userCoSpaceTemplate> elements underneath. Each <userCoSpaceTemplate> tag includes the request and response parameters (`coSpaceTemplate` and `autoGenerated`).

<table>
<tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
</tr>
<tr>
    <td>coSpaceTemplate</td>
    <td>ID</td>
    <td>The id of a coSpace template that the user is allowed to use to instan-tiate a coSpace. (from version 2.9)</td>
</tr>
<tr>
    <td>autoGenerated</td>
    <td>one of true | false</td>
    <td>Whether this coSpace template has been added automatically or manually (from version 2.9):
        <ul>
            <li>true - this template has been added automatically as part of an LDAP sync operation, therefore it is not possible to remove it except by modifying the parameters of the sync operation</li>
            <li>false - this template has been added via an API method. It can be modified or removed via the API.</li>
        </ul>
    </td>
</tr>

</table>

+ Parameters
    + offset - an offset can be supplied to retrieve access methods other than those in the first page of the notional list (from version 2.9)
    + limit - a limit can be supplied to retrieve access methods other than those in the first page of the notional list (from version 2.9)

+ Response 200


## Applying userCoSpaceTemplates with LDAP [POST /ldapUserCoSpaceTemplateSources]

From 2.9, the API object `/ldapUserCoSpaceTemplateSources` is introduced to allow users to create spaces using LDAP methods. This allows the template to be included directly in the source object.


The API object `/ldapUserCoSpaceTemplateSources` supports the following operations:
* POST to `/ldapUserCoSpaceTemplateSources`
* PUT to `/ldapUserCoSpaceTemplateSources`

+ Attributes (ldapusercospacetemplatesource)

+ Response 200
    + Headers

            Location: /api/v1/ldapUserCoSpaceTemplateSources/528e21af-7ba4-4071-a584-235a2eb8c256




## User Profile Methods [/userProfiles{?offset,limit,usageFilter}]
User profiles control the facilities provided to the users in the profile, for instance whether they can create new coSpaces, create new calls, make phone calls, slave SIP endpoints, allowed to send and receive chat messages when in a point to point call with another user. For more information see also Section 14.

## Retrieving user profiles [GET]
GET method performed on the `/userProfiles` node.

Response is structured as a top-level `<userProfiles total="N">` tag with potentially multiple `<userProfile>` elements within it.
<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>canCreateCoSpaces</td>
    <td>true|false</td>
    <td>Whether a user associated with this user profile is permitted to create new coSpaces</td>
  </tr>
  <tr>
    <td>canCreateCalls</td>
    <td>true|false</td>
    <td>Whether a user associated with this user profile is permitted to create new calls</td>
  </tr>
  <tr>
    <td>canUseExternalDevices</td>
    <td>true|false</td>
    <td>Whether a user associated with this user profile is permitted to use slave SIP devices</td>
  </tr>
  <tr>
    <td>canMakePhoneCalls</td>
    <td>true|false</td>
    <td>Whether a user associated with this user profile will be displayed the option to make phone calls in the client</td>
  </tr>
  <tr>
    <td>userToUserMessagingAllowed</td>
    <td>true|false</td>
    <td>Whether a user associated with this user profile will be allowed to send and receive messages when in a point to point call with another user</td>
  </tr>
  <tr>
    <td>audioParticipationAllowed</td>
    <td>true|false</td>
    <td>Whether or not a user associated with this user profile and using the Cisco Meeting App will be allowed to send or receive live audio when in a call. This restriction does not apply to dialing directly into the call via SIP, or slaving to a SIP endpoint. (From version 2.0)</td>
  </tr>
  <tr>
    <td>videoParticipationAllowed</td>
    <td>true|false</td>
    <td>Whether or not a user associated with this user profile will be allowed to send or receive live video when in a call. This restriction does not apply to dialing directly into the call via SIP, or slaving to a SIP endpoint. (From version 2.0)</td>
  </tr>
  <tr>
    <td>presentationParticipationAllowed</td>
    <td>true|false</td>
    <td>Whether or not a user associated with this user profile will be allowed to send or receive presentation media when in a call. This restriction does not apply to dialing directly into the call via SIP, or slaving to a SIP endpoint. (From version 2.0) onwards.</td>
  </tr>
  <tr>
    <td>hasLicense</td>
    <td>true|false</td>
    <td>Whether or not a user associated with this user profile has a Cisco user license. (From version 2.0)</td>
  </tr>
  <tr>
    <td>canReceiveCalls</td>
    <td>true|false</td>
    <td>Determines whether or not a user associated with this user profile can receive incoming calls using the Cisco Meeting App. (From version 2.0)</td>
  </tr>
  <tr>
    <td>canSendEmailInvite</td>
    <td>true|false</td>
    <td>Determines whether or not a Cisco Meeting App user associated with this user profile can email invitations to a meeting space. (From version 2.0)</td>
  </tr>
</table>


+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + usageFilter (enum, optional) - This is a useful check before deleting a user profile
        + referenced - to retrieve just those user profiles which are referenced in at least one place
        + unreferenced - retrieves only those user profiles that are not referenced by global settings or any other object

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <userProfiles total="1">
              <userProfile id="49cede52-7ae8-4729-910c-57056f32ef44"/>
            </userProfiles>

## Setting up and modifying user profiles [POST]
* Creating: POST method to the `/userProfiles` node
* Modifying: PUT to `/userProfiles/<user profile id>`

+ Attributes (userProfile)
+ Response 200
    + Headers

            Location: /api/v1/userProfiles/528e21af-7ba4-4071-a584-235a2eb8c256

## Retrieving detailed information about an individual user profile [GET /userProfiles/{userProfileId}]
GET method performed on a `/userProfiles/<user profile id >` node. If the user profile ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <userProfile id="49cede52-7ae8-4729-910c-57056f32ef44">
              <canReceiveCalls>true</canReceiveCalls>
            </userProfile>

# Group System Related Methods
This chapter details the API methods related to management of the system. The chapter covers:
* retrieving system status
* retrieving system alarm status
* retrieving system database status
* retrieving and setting the URI of the CDR receivers
* retrieving and setting the global profile
* retrieving licensing information
* configuring the TURN server
* configuring the Web Bridge
* configuring the Call Bridge
* configuring Call Bridge groups
* configuring the XMPP server
* configuring Call Bridge clustering
* configuring the Recorder
* configuring the Streamer
* configuring the SIP Endpoint Registrar
* system load
* system diagnostics

## System Methods [/system]

## Retrieving System Status [GET /system/status]
GET method performed on the `/system/status` node.

Returns the elements on the left within a `<status>` element

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>softwareVersion</td>
        <td>String</td>
        <td>The software version currently running on the Call Bridge</td>
    </tr>
    <tr>
        <td>uptimeSeconds</td>
        <td>Number</td>
        <td>The length of time that the unit has been running</td>
    </tr>
    <tr>
        <td>activated</td>
        <td>boolean</td>
        <td>(Deprecated in 3.0) Whether the Call Bridge is currently activated (licensed); if not, it will have a reduced call capacity. Currently always true for a Meeting Server.</td>
    </tr>
    <tr>
        <td>clusterEnabled</td>
        <td>boolean</td>
        <td>If set to true then the Call Bridge is currently running with clustering enabled. This parameter is present from version 2.0 onwards</td>
    </tr>
    <tr>
        <td>cdrTime</td>
        <td>Number</td>
        <td>The current timestamp as would be written to a CDR generated at the time the request is received. This will be in the same format as the "time" field in CDRs themselves (see RFC 3339, for instance "2014-02-11T12:10:47Z").</td>
    </tr>
    <tr>
        <td>callLegsActive</td>
        <td>Number</td>
        <td>The number of active call legs at the time of the request</td>
    </tr>
    <tr>
        <td>callLegsMaxActive</td>
        <td>Number</td>
        <td>The highest number of call legs simultaneously active on this Meeting Server</td>
    </tr>
    <tr>
        <td>callLegsCompleted</td>
        <td>Number</td>
        <td>The total number of call legs that have been active but are no longer connected / present</td>
    </tr>
    <tr>
        <td>audioBitRateOutgoing</td>
        <td>Number</td>
        <td>The current total bit rate (in bits per second) summed over all outgoing audio streams (audio media sent from the Meeting Server to a remote party)</td>
    </tr>
    <tr>
        <td>audioBitRateIncoming</td>
        <td>Number</td>
        <td>The current total bit rate for incoming audio streams</td>
    </tr>
    <tr>
        <td>videoBitRateOutgoing</td>
        <td>Number</td>
        <td>The current total bit rate for outgoing video streams</td>
    </tr>
    <tr>
        <td>videoBitRateIncoming</td>
        <td>Number</td>
        <td>The current total bit rate for incoming video streams</td>
    </tr>
    <tr>
        <td>cdrCorrelatorIndex</td>
        <td>Number</td>
        <td>The correlator index of the next CDR record that will be sent. When no CDR records have been sent, this will have the value of 0. (From version 2.2).</td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <status>
              <hostId>8b6dc06e-6a0b-4983-aa9c-bf49826f7756</hostId>
              <softwareVersion>2.6.1</softwareVersion>
              <uptimeSeconds>90730</uptimeSeconds>
              <cdrTime>2019-05-16T18:42:02Z</cdrTime>
              <activated>true</activated>
              <clusterEnabled>false</clusterEnabled>
              <cdrCorrelatorIndex>7</cdrCorrelatorIndex>
              <callLegsActive>1</callLegsActive>
              <callLegsMaxActive>2</callLegsMaxActive>
              <callLegsCompleted>2</callLegsCompleted>
              <audioBitRateOutgoing>67932</audioBitRateOutgoing>
              <audioBitRateIncoming>40380</audioBitRateIncoming>
              <videoBitRateOutgoing>839</videoBitRateOutgoing>
              <videoBitRateIncoming>2416854</videoBitRateIncoming>
            </status>

## Retrieving System Alarm Status [GET /system/alarms]
GET method performed on the `/system/alarms` node. An offset and limit can be supplied to retrieve alarm conditions other than those in the first page of the notional list. This method returns a table detailing the currently active system-wide alarm conditions.

Returns a list of individual `<alarm>` elements. If there are no currently active alarm conditions, this list will be empty. Each active alarm condition will have an “alarm” tag, which contains:

#### type
* callBrandingResourceInvalid - the supplied resource has an invalid format; the call branding profile is specified by the accompanying "callBrandingProfiles" GUID parameter and the problematic file is specified by the accompanying "fileName" text parameter
* callBridgeConnectionFailure - the CallBridge has failed to establish a connection to one of its peer clustered Call Bridges which specified by the accompanying "callBridge" GUID parameter
* callDistributionFailure - the CallBridge has failed to establish a distributed link for one of its active calls; the Call Bridge that the link should have been to is identified by the accompanying "callBridgeName" text parameter, and the call is present as the "call" GUID parameter
* cdrConnectionFailure - the Meeting Server has failed to establish a connection to its configured CDR receiver, and therefore may be unable to push out new call detail records
* databaseClusternodeOutofSync - a node in the database cluster is out of sync and is not syncing
* databaseConnectionError - the Meeting Server has failed to establish a connection to its database
* guestAccountConnectionFailure - the Meeting Server has been unable to establish a connection to the configured Web Bridge in order to allow guest logins
* ivrBrandingResourceInvalid - the supplied resource has an invalid format; the IVR branding profile is specified by the accompanying "ivrBrandingProfile" GUID parameter and the problematic file is specified by the accompanying "fileName" text parameter
* recorderLowDiskSpace (1.9 onwards) - a recorder has limited disk space; the recorder is specified by the accompanying "recorder" GUID parameter
* recorderUnavailable (1.9 onwards) - the callbridge has not managed to successfully contact a configured recorder; the recorder is specified by the accompanying "recorder" GUID parameter
* turnServerUnavailable - the CallBridge has not managed to contact a configured TURN server; this TURN server is specified by the accompanying "turnServer" GUID parameter
* webBridgeArchivePushFailure - the CallBridge has not been able to push a required customization archive to a Web Bridge
* webBridgeArchiveRetrievalFailure - the CallBridge has not been able to retrieve a required Web Bridge customization archive
* webBridgeBackgroundImagePushFailure - the CallBridge has not been able to push a required customized background image file to a Web Bridge
* webBridgeBackgroundImageRetrievalFailure - the CallBridge has not been able to retrieve a required customized background image file
* webBridgeLoginLogoImagePushFailure — the CallBridge has not been able to push a required customized login logo image to a Web Bridge
* webBridgeLoginLogoImageRetrievalFailure - theCallBridge has not been able to retrieve a required customized login logo image file
* xmppAuthenticationRegistrationFailure - the Meeting Server has not been able to register successfully with the named XMPP authentication component
* xmppRegistrationFailure - the Meeting Server has not been able to register successfully with its configured XMPP server

#### failureReason
* authenticationFailure
* connectFailure - a failure to connect to a remote destination;for example, a TCP or TLS connection was not able to be established
* dataFormatInvalid - the CallBridge is configured to use a particular data set (for example, a remotely-hosted resource file) that it then found was not in a useable format
* destinationReadOnly - a critical resource, for example the database, was found by the Call Bridge to be read only when write access was needed
* dnsFailure - a failure to resolve the hostname of a remote destination; for example, as part of the process of establishing a connection to a remote system
* error
* fileNotFound - the alarm condition was raised because the call bridge failed to load a required file; for instance, if the resourceArchive needed for a web bridge was not able to be retrieved from a remote server
* fileSizeLimitExceeded - the CallBridge is configured to use a resource, for example, a remotely-hosted resource file, that was not able to be retrieved because it exceeded an internal file size limit
* internalServerError - the CallBridge was not able to perform an operation, for example the upload or download of a resource file, because the remote party returned "internal server error" when the operation was attempted
* serviceUnavailable

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>Id</td>
        <td>ID</td>
        <td>A unique ID for this instance of this fault condition</td>
    </tr>
    <tr>
        <td>activeTimeSeconds</td>
        <td>Number</td>
        <td>The amount of time that this alarm condition has been active.</td>
    </tr>
    <tr>
        <td>type</td>
        <td>String</td>
        <td>see type</td>
    </tr>
    <tr>
        <td>failureReason</td>
        <td>String</td>
        <td>For some of the alarm types, additional information is provided about the cause of that particular failure: see failureReason</td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <alarms total="1">
              <alarm id="a79174b7-15f1-413c-8d44-ff779cbb5e6d">
                <type>cdrConnectionFailure</type>
                <activeTimeSeconds>3919</activeTimeSeconds>
              </alarm>
            </alarms>

## Retrieving System Database Status [GET /system/database]
GET method performed on the `/system/database` node.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>clustered</td>
        <td>enabled | disabled</td>
        <td>Whether database clustering is enabled.</td>
    </tr>
    <tr>
        <td>Cluster</td>
        <td></td>
        <td>If clustering is enabled then the "cluster" element includes the elements on the left</td>
    </tr>
    <tr>
        <td>Error</td>
        <td>String</td>
        <td>Error description</td>
    </tr>
    <tr>
        <td>totalNodes</td>
        <td>Number</td>
        <td>Number of database nodes in the cluster</td>
    </tr>
    <tr>
        <td>nodeInUse</td>
        <td>String</td>
        <td>Which database node is currently in use (the master)</td>
    </tr>
    <tr>
        <td>node</td>
        <td></td>
        <td>
            <table>
                <tr>
                    <th>Attribue</th>
                    <th>Description</th>
                <tr>
                <tr>
                    <td>hostname</td>
                    <td>the hostname or IP address of the node</td>
                <tr>
                <tr>
                    <td>up</td>
                    <td>if the node is visible from this CallBridge (true|false)</td>
                <tr>
                <tr>
                    <td>syncBehind</td>
                    <td>approximate number of bytes that this node is behind the current state of the master. 0 means in sync, and -1 means the calculation is unavailable</td>
                <tr>
                <tr>
                    <td>master</td>
                    <td>whether this node is the master database (true|false), if set to false it is a host standby (slave)</td>
                <tr>
            </table>
        </td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <database clustered="disabled"/>

## CDR Receiver URI Methods [/system/cdrReceivers{?offset,limit}]
You can find the URIs of the CDR receivers through the API (as well as the Web Admin Interface). Issue a GET on the `/system/cdrReceivers` node to retrieve the URIs that are the full URLs of the configured CDR receivers.

---
**Note:** To support multiple CDR receivers in R1.8, `/system/cdrReceiver` is deprecated, use the new `/system/cdrReceivers`

---

This method accesses the URIs of the CDR receivers using the Web Admin Interface **Configuration > CDR settings** page.

## Retrieving the CDR Receivers URI [GET]
GET method performed on the `/system/cdrReceivers` node.

Response is structured as a top-level `<cdrReceivers total="N">` tag with potentially multiple `<cdrReceiver>` elements within it.

Each `<cdrReceiver>` tag may include the following element:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>uri</td>
        <td>String</td>
        <td>Full URL of the configured CDR receiver address</td>
    </tr>
</table>

---
**Note:** GET of `/system/cdrReceivers/<cdr receiver id>` allows you to retrieve the configuration for a single specified CDR receiver.

---

+ Parameters
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cdrReceivers total="2" maximum="4">
              <cdrReceiver id="7f9e3493-c971-47ce-9312-da050e0b752b">
                <uri>https://cmm.ciscolabs.com/meetings/cdr/1/?token=93ec22bf4f140e32be9a38d736048ffd1324e725</uri>
              </cdrReceiver>
              <cdrReceiver id="16d94896-4b4a-4a5e-b206-cad3441590cd">
                <uri>http://reciever.ciscolabs.com:8444/cdr</uri>
              </cdrReceiver>
            </cdrReceivers>

## Setting the CDR Receivers URI [POST]
Set the CDR receiver URI through the API (as well as the Web Admin Interface). You can issue a PUT or a POST on the `/system/cdrReceivers node`

Use POST and specify a "url" value to create and configure the CDR receiver in one operation, or use PUT to initially create the CDR receiver but configure the “url” separately later.

If the creation is successful, you should receive a “200 OK” response and a `Location: /api/v1/system/cdrReceivers/<cdr receiver id>` object reference; if too many CDR receivers are already configured, you will receive a "tooManyCdrReceivers" error (in a "failureDetails" section).

---
**Note:** To support multiple CDR receivers in R1.8, `/system/cdrReceiver` is deprecated, use the new `/system/cdrReceivers`

**Note:** If you perform a PUT with an empty "url" to the legacy `/system/cdrReceiver` node, any GUID associated with that CDR receiver is removed, and effectively that CDR receiver is no longer present. If you later PUT a non-empty "url" value to the same (legacy) node, a new GUID will be generated for that CDR receiver.

If you perform a PUT with an empty "url" to a non-legacy CDR receiver `/system/cdrReceivers/<cdr receiver id>` then that CDR receiver remains with the same GUID, but no "url" value. It will continue to show up in GET operations. This is because there is an explicit "DELETE" method for the new CDR receiver objects, whereas for the legacy CDR receiver the only deconfiguration method is to set its location to the empty value.

---

To set or update the URIs of the CDR receivers via the Web Admin Interface use the **Configuration > CDR settings** page.

+ Attributes (cdrReceiver)

+ Response 200
    + Headers

            Location: /api/v1/system/cdrReceivers/71b60e89-c718-4c38-b7bc-336a08038db8

## Global Profile Methods [/system/profiles]

## Retrieving the Global Profile [GET]
GET to `/system/profiles` returns the values described in the following section.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>callLegProfile</td>
        <td>ID</td>
        <td>Sets the top level call leg profile to the one with the specified ID</td>
    </tr>
    <tr>
        <td>callProfile</td>
        <td>ID</td>
        <td>Sets the top level call profile to the one specified</td>
    </tr>
    <tr>
        <td>dtmfProfile</td>
        <td>ID</td>
        <td>Sets the top level DTMF profile to the one specified</td>
    </tr>
    <tr>
        <td>userProfile</td>
        <td>ID</td>
        <td>Sets the top level user profile to the one specified</td>
    </tr>
    <tr>
        <td>ivrBrandingProfile</td>
        <td>ID</td>
        <td>Sets the top level IVR branding profile to the one specified</td>
    </tr>
    <tr>
        <td>callBrandingProfile</td>
        <td>ID</td>
        <td>Sets the top level call branding profile to the one specified</td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <profiles>
              <callLegProfile>06b654b1-1d1f-4f7e-ac07-b7aed2fa4ed6</callLegProfile>
              <callProfile>59f5a62e-18e5-4fd7-b841-d9d9b8d57b92</callProfile>
              <dtmfProfile>978d9877-b8a3-4b48-97f5-8d00f8721a1e</dtmfProfile>
              <userProfile>49cede52-7ae8-4729-910c-57056f32ef44</userProfile>
            </profiles>

## Setting the Global Profile [POST]
You can set (or unset) the callLegProfile ID value under `/system/profiles` to impose (or remove) a top-level profile.

PUT or POST to `/system/profiles`. Supplying an empty value unsets the top-level profile.

+ Attributes (systemProfile)
+ Response 200


## Licensing Methods [/system/licensing]

## Retrieving information on licensing [GET]

GET methods performed on the `/system/licensing` node.

---
**Note**: From version 2.4, a license is not required to apply single or multiple branding.

---

<table>
  <tr>
    <th>Response elements</th>
    <th></th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>features</td>
    <td> </td>
    <td> </td>
    <td>If licensing is enabled then the &lt;features&gt; element includes the elements on the left</td>
  </tr>
  <tr>
    <td rowspan=2> callBridge</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td>
    <ul>
        <li>No license applied to the Call Bridge</li>
        <li>License applied and Call Bridge activated</li>
        <li>License expired, now in grace period for license renewal</li>
        <li>License expired for Call Bridge</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry </td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

   <tr>
    <td rowspan=2> callBridgeNoEncryption (from version 2.4)</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td>
    <ul>
        <li>No license applied to the Call Bridge</li>
        <li>License applied and Call Bridge activated</li>
        <li>License expired, now in grace period for license renewal</li>
        <li>License expired for Call Bridge</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry </td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
    <td rowspan=2>webBridge</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td>
    <ul>
        <li>No license applied to the Web Bridge</li>
        <li>License applied and Web Bridge activated</li>
        <li>License expired, now in grace period for license renewal</li>
        <li>License expired for Web Bridge</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
    </tr>

  <tr>
    <td rowspan=2>turn</td>
      <td>status</td>
     <td><ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul></td>
     <td>
        <ul>
            <li>No license applied to the TURN server</li>
            <li>License applied and TURN server activated
            <li>License expired, now in grace period for license renewal</li>
            <li>License expired for TURN server</li>
        </ul>
    </td>
  </tr>

  <tr>
      <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
    <td rowspan=2>ldap</td>
    <td>status</td>
    <td>
        <ul>
            <li>noLicense|</li>
            <li>activated|</li>
            <li>grace|</li>
            <li>expired</li>
        </ul>
    </td>
    <td>
        <ul>
            <li>No license applied to the LDAP server</li>
            <li>License applied and LDAP server activated</li>
            <li>License expired, now in grace period for license renewal</li>
            <li>License expired for LDAP server</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>string</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
    <td rowspan=2>branding</td>
    <td>status <br><strong>Note</strong>: From version 2.4, this is no longer relevant as a branding license is not required)<br> </td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td>
    <ul>
        <li>No license applied for branding</li>
        <li>License applied and branding activated</li>
        <li>License expired, now in grace period for license renewal</li>
        <li>License expired for branding</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
    <td rowspan=3>recording</td>
    <td>status</td>
    <td><ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul></td>
    <td>
    <ul>
    <li>No license applied to the Recorder</li>
    <li>License applied and Recorder activated</li>
    <li>License expired, now in grace period for license renewal</li>
    <li>License expired for Recorder</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>

    <td>limit</td>
    <td>Number</td>
    <td> </td>
  </tr>

  <tr>
    <td rowspan=3>streaming</td>
    <td>status</td>
    <td><ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>expired</li>
    </ul></td>
    <td>No license applied to the StreamerLicense applied and Streamer activatedLicense expired for Streamder</td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
  <td>limit</td>
    <td>Number</td>
    <td> </td>
  </tr>

  <tr>
    <td rowspan=3>personal</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td>
    <ul>
    <li>No Personal Multiparty license applied</li>
    <li>Personal Multiparty license activated</li>
    <li>License expired, now in grace period for license renewal</li>
    <li>Personal Multiparty license expired</li>
    </ul>
    </td>
  </tr>

  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>

  <tr>
    <td>limit</td>
    <td>Number</td>
    <td> </td>
  </tr>

  <tr>
    <td rowspan=3>shared</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
    <td><ul>
        <li>No Shared Multiparty license applied</li>
        <li>Shared Multiparty license activated</li>
        <li>License expired, now in grace period for license renewal</li>
        <li>Shared Multiparty license expired</li>
        </ul>
        </td>
  </tr>
  <tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
  </tr>
<tr>
    <td>limit</td>
    <td>Number</td>
    <td> </td>
 </tr>
 <tr>
    <td rowspan=3>capacityUnits</td>
    <td>status</td>
    <td>
    <ul>
        <li>noLicense|</li>
        <li>activated|</li>
        <li>grace|</li>
        <li>expired</li>
    </ul>
    </td>
<td>
    <ul>
    <li>No license for Capacity Units applied</li>
    <li>License for Capacity Units activated</li>
    <li>License expired, now in grace period for license renewal</li>
    <li>License for Capacity Units expired</li>
    </ul>
</td>
</tr>
<tr>
    <td>expiry</td>
    <td>String</td>
    <td>Date of expiry</td>
</tr>
<tr>
    <td>limit</td>
    <td>Number</td>
    <td> </td>
</tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <licensing>
              <features>
                <callBridge>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                </callBridge>
                <callBridgeNoEncryption>
                  <status>noLicense</status>
                </callBridgeNoEncryption>
                <webBridge>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                </webBridge>
                <turn>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                </turn>
                <branding>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                  <level>multipleBrands</level>
                </branding>
                <recording>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                  <limit>20</limit>
                </recording>
                <streaming>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                  <limit>20</limit>
                </streaming>
                <personal>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                  <limit>100</limit>
                </personal>
                <shared>
                  <status>activated</status>
                  <expiry>2022-Aug-08</expiry>
                  <limit>100</limit>
                </shared>
                <capacityUnits>
                  <status>noLicense</status>
                </capacityUnits>
              </features>
            </licensing>

# Multiparty licensing [/system/multipartyLicensing/]

## Retrieving information on multiparty licensing [GET /system/multipartyLicensing{?offset,limit}]

GET method performed on the `/system/multipartyLicensing` node.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>timestamp</td>
    <td>string</td>
    <td>UTC time at which the report was generated</td>
  </tr>
  <tr>
    <td>personalLicenseLimit</td>
    <td>Number</td>
    <td>(Deprecated in 3.0)Number of available personal licenses</td>
  </tr>
  <tr>
    <td>sharedLicenseLimit</td>
    <td>Number</td>
    <td>(Deprecated in 3.0)Number of available shared licenses</td>
  </tr>
  <tr>
    <td>capacityUnitLimit</td>
    <td>Number</td>
    <td>(Deprecated in 3.0)Number of available capacity units</td>
  </tr>
  <tr>
    <td>users</td>
    <td>Number</td>
    <td>Number of non-guest users on the system</td>
  </tr>
  <tr>
    <td>personalLicenses</td>
    <td>Number</td>
    <td>Number of personal licenses assigned to users</td>
  </tr>
  <tr>
    <td>participantsActive</td>
    <td>Number</td>
    <td>Number of active participants</td>
  </tr>
  <tr>
    <td>callsActive</td>
    <td>Number</td>
    <td>Number of active calls</td>
  </tr>
  <tr>
    <td>weightedCallsActive</td>
    <td>Number</td>
    <td>Number of weighted active calls (see note below).</td>
  </tr>
  <tr>
    <td>capacityUnitUsage</td>
    <td>Number</td>
    <td>Number of capacity units in use</td>
  </tr>
  <tr>
    <td>callsWithoutPersonalLicense</td>
    <td>Number</td>
    <td>Number of calls without a personal license</td>
  </tr>
  <tr>
    <td>weightedCallsWithoutPersonalLicense</td>
    <td>Number</td>
    <td>Number of weighted calls without a personal license (see note below).</td>
  </tr>
  <tr>
    <td>capacityUnitUsageWithoutPersonalLicense</td>
    <td>Number</td>
    <td>Number of capacity units in use in calls without a personal license</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <multipartyLicensing>
              <timestamp>2019-05-16T14:44:52Z</timestamp>
              <personalLicenseLimit>100</personalLicenseLimit>
              <sharedLicenseLimit>100</sharedLicenseLimit>
              <capacityUnitLimit>0</capacityUnitLimit>
              <users>3</users>
              <personalLicenses>0</personalLicenses>
              <participantsActive>1</participantsActive>
              <callsActive>1</callsActive>
              <weightedCallsActive>1.000</weightedCallsActive>
              <callsWithoutPersonalLicense>1</callsWithoutPersonalLicense>
              <weightedCallsWithoutPersonalLicense>1.000</weightedCallsWithoutPersonalLicense>
              <capacityUnitUsage>0.025</capacityUnitUsage>
              <capacityUnitUsageWithoutPersonalLicense>0.025</capacityUnitUsageWithoutPersonalLicense>
            </multipartyLicensing>

## Retrieve information on Active Personal Licenses [GET /system/multipartyLicensing/activePersonalLicenses{?offset,limit}]

GET method performed on `/system/multipartyLicensing/activePersonalLicenses`.


<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>callsActive</td>
    <td>Number</td>
    <td>Number of active calls that use the license of this use</td>
  </tr>
  <tr>
    <td>weightedCallsActive</td>
    <td>Number</td>
    <td>Number of weighted active calls that use the license of this user (seenote above).</td>
  </tr>
</table>

+ Parameters
    + offset(number) - An "offset" can be supplied to retrieve active personal license entries other than those in the first "page" of the notional list
    + limit(number) - An "limit" can be supplied to retrieve active personal license entries other than those in the first "page" of the notional list

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <activePersonalLicenses total="0"/>

# License usage snapshots [/system/MPLicenseUsage]

## Retrieve information on Multi Party Licenses [GET /system/MPLicenseUsage{?offset,limit,startTime,endTime,hostId}]

GET method performed on `/system/MPLicenseUsage` node.

<table>
<thead>
  <tr>
    <th>event</th>
    <th>Name</th>
    <th>Type/Value</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td rowspan="9"></td>
    <td>time</td>
    <td>String</td>
    <td>UTC time at which the license usage event was generated</td>
  </tr>
  <tr>
    <td colspan="3">Response values</td>
  </tr>
  <tr>
    <td>pmp</td>
    <td>Number</td>
    <td>Number of personal licenses in use (each license normalized over the number of Call Bridges that the call spans)</td>
  </tr>
  <tr>
    <td>pmpAssigned</td>
    <td>Number</td>
    <td>Number of personal licenses assigned to users in the cluster (3.0 onwards)</td>
  </tr>
  <tr>
    <td>smpAud</td>
    <td>Number</td>
    <td>Number of shared license audio-only calls (each license nor-malized over the number of Call Bridges that the call spans)</td>
  </tr>
  <tr>
    <td>smpPtP</td>
    <td>Number</td>
    <td>Number of shared license point-to-point calls, which aren't audio-only (each license normalized over the number of Call Bridges that the call spans)</td>
  </tr>
  <tr>
    <td>smpFull</td>
    <td>Number</td>
    <td>Number of shared licenses in use, which aren't audio-only or point-to-point (each license normalized over the number of Call Bridges that the call spans)</td>
  </tr>
  <tr>
    <td>rec</td>
    <td>Number</td>
    <td>Number of calls being recorded</td>
  </tr>
  <tr>
    <td>str</td>
    <td>Number</td>
    <td>Number of calls being streamed</td>
  </tr>
</tbody>
</table>

+ Parameters
    + offset(number) - An "offset" can be supplied to retrieve active personal license entries other than those in the first "page" of the notional list
    + limit(number) - An "limit" can be supplied to retrieve active personal license entries other than those in the first "page" of the notional list
    + startTime (string) - UTC time (formated as per RFC 3339) specifying the earliest date-time from which license usage snapshots should be fetched (inclusive)
    + endTime (String) - UTC time (formated as per RFC 3339) specifying the latest date-time from which license usage snapshots should be fetched (inclusive)
    + hostId (ID) - I.D. of the host (as returned by system/status.hostId) for which you want to retrieve license usage snapshots

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <MPLicenseUsage total="333">
              <entry time="2019-05-16T18:44:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:39:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:34:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:29:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:24:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:19:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:14:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:09:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T18:04:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:59:52Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:54:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:49:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:44:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:39:51Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-16T17:34:51Z"/>
              <entry time="2019-05-16T17:29:51Z"/>
              <entry time="2019-05-15T15:41:47Z">
                <smpAud>1.00</smpAud>
              </entry>
              <entry time="2019-05-15T15:36:47Z"/>
              <entry time="2019-05-15T15:31:47Z"/>
              <entry time="2019-05-15T15:26:47Z"/>
            </MPLicenseUsage>

## Retrieve information on Multi Party Known hosts [GET /system/MPLicenseUsage/knownHosts/{?offset,limit}]

GET method performed on the `/system/MPLicenseUsage/knownHosts` node (from version 2.6).

Response elements:
host (id) - Unique host id of a Call Bridge whose license utilization information can be accessed from the system/MPLicenseUsage API node

+ Parameters
    + offset(number) - An "offset" can be supplied to retrieve host ids other than those in the first "page" of the notional list
    + limit(number) - An "limit" can be supplied to retrieve host ids other than those in the first "page" of the notional list

+ Response 200 (text/xml)
    + Body

            <knownHosts total="1">
                <host id="8b6dc06e-6a0b-4983-aa9c-bf49826f7756"/>
            </knownHosts>


# TURN Server Methods [/turnServers{?filter,offset,limit}]

The TURN Server is not available on the Cisco Meeting Server 2000. It is more suited to the lower capacity Cisco Meeting Server 1000 and specification-based VM servers.

## Retrieving Information on TURN Servers [GET /turnServers{?filter,offset,limit}]

GET method performed on the `/turnServers` node.
Response is structured as a top-level `<turnServers total="N">` tag with potentially multiple `<turnServer>` elements within it.
Each `<turnServer>` tag may include the following elements.

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>serverAddress</td>
        <td>String</td>
        <td>The address for the Call Bridge to use to reach this TURN server</td>
    </tr>
    <tr>
        <td>clientAddress</td>
        <td>String</td>
        <td>The address that Cisco Meeitng Apps should use to reach this TURN server</td>
    </tr>
</table>

+ Parameters
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those TURN servers that match the filter
    + offset (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <turnServers total="1">
              <turnServer id="1e6698a8-07b0-4fdf-b9ae-70675fa4566e">
                <serverAddress>1.1.1.1</serverAddress>
                <clientAddress>1.1.1.1</clientAddress>
              </turnServer>
            </turnServers>

## Setting up and modifying TURN servers [POST]
* Creating: POST method to the `/turnServers` node
* Modifying: PUT to `/turnServers/<turn server id>`

+ Attributes (turnServer)

+ Response 200
    + Headers

            Location: /api/v1/turnServers/1e6698a8-07b0-4fdf-b9ae-70675fa4566e

## Retrieving detailed information about an individual TURN server [GET /turnServers/{turnServerId}]
GET method performed on a `/turnServers/<turnServerId>` node. If the turn server ID supplied is valid, a “200 OK” response is received, with XML content:

<table>
    <tr>
        <th>Response elements</th>
        <th>Type/Value</th>
        <th>Description/Notes</th>
    </tr>
    <tr>
        <td>address</td>
        <td>String</td>
        <td></td>
    </tr>
    <tr>
        <td>portNumber</td>
        <td>Number</td>
        <td></td>
    </tr>
    <tr>
        <td>reachable</td>
        <td>boolean</td>
        <td>true if this TURN server is currently reachable, false if it is not</td>
    </tr>
    <tr>
        <td>roundTripTimeMs</td>
        <td>Number</td>
        <td>If this TURN server is reachable, the round trip time (in milliseconds) of the Call Bridge's path to it.</td>
    </tr>
    <tr>
        <td>mappedAddress</td>
        <td>String</td>
        <td>if populated, indicates the source IP and source port that the TURN server saw the STUN binding request coming from when the Call Bridge performed TURN server reachability checks. This can be different to the IP address of the Call Bridge in deployments where there is a NAT between the Call Bridge and the TURN server</td>
    </tr>
    <tr>
        <td>mappedPortNumber</td>
        <td>Number</td>
        <td></td>
    </tr>
    <tr>
        <td>numAllocations</td>
        <td>Number</td>
        <td>Number of active TURN allocations on the TURN server</td>
    </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <turnServer id="1e6698a8-07b0-4fdf-b9ae-70675fa4566e">
              <serverAddress>1.1.1.1</serverAddress>
              <clientAddress>1.1.1.1</clientAddress>
              <numRegistrations>0</numRegistrations>
              <type>standard</type>
            </turnServer>

# Web Bridge Methods [/webBridges{?filter,offset,limit,tenantFilter}]

## Retrieving Information on Web Bridges [GET]

Response is structured as a top-level <webBridges total="N"> tag with potentially multiple <webBridge> elements within it. Each <webBridge> tag may include the following elements.

+ Parameters
    + filter (string, optional) - Supply filter=`<string`> in the URI to return just those Web Bridges that match the filter
    + offset (number, optional) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number, optional) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list
    + tenantFilter (ID, optional) - Supply tenantFilter to return only those Web Bridges associated with the specified tenant

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <webBridges total="1">
              <webBridge id="0e86b926-c4b9-459d-8ec6-bc547abbb2d1">
                <url>https://cms.ciscolabs.com</url>
              </webBridge>
            </webBridges>

## Setting Up and Modifying a Web Bridge [POST]

* Creating: POST method to the `/webBridges` node
* Modifying: PUT to `/webBridges/<web bridge id>`

+ Attributes (WebBridge)

+ Response 200
    + Headers

            Location: /api/v1/webBridges/9191271d-7deb-412e-b26a-f04ec738eacf

## Retrieving detailed information about an individual Web Bridge [GET /webBridges/{webbridgeId}]

GET method performed on a `/webBridges/<webbridgeId>` node. If the web bridge ID supplied is valid, a “200 OK” response is received, with XML content described in the previous section.

+ Parameters

    + webbridgeId (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <webBridge id="0e86b926-c4b9-459d-8ec6-bc547abbb2d1">
              <url>https://cms.ciscolabs.com</url>
              <resolveCoSpaceCallIds>true</resolveCoSpaceCallIds>
              <resolveLyncConferenceIds>false</resolveLyncConferenceIds>
              <idEntryMode>secure</idEntryMode>
              <allowWeblinkAccess>true</allowWeblinkAccess>
              <showSignIn>true</showSignIn>
            </webBridge>

## Updating the Web Bridge customization [POST /webBridges/<webbridgeId>/updateCustomization]
A POST to `/webBridges/<webbridgeId>/updateCustomization` node causes any configured customization archive for the specified Web Bridge to be re-retrieved and pushed to that Web Bridge. For example, this allows the contents of a customization archive to be changed, and for those changes to take effect without needing to restart either the Call Bridge or the Web Bridge.

+ Response 200

## Retrieving diagnostics on a Web Bridge - from version 2.2 [GET /webBridges/{webbridgeId}/status]

GET method performed on a `/webBridges/<webbridgeId>/status` node. If the web bridge ID supplied is valid, a “200 OK” response is received, with XML content matching the table below.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>status</td>
    <td>unused|</td>
    <td>The Web Bridge is not used by the queried Call Bridge</td>
  </tr>
  <tr>
    <td> </td>
    <td>success|</td>
    <td>The Web Bridge is connected to the queried Call Bridge</td>
  </tr>
  <tr>
    <td> </td>
    <td>connectionFailure</td>
    <td>The Web Bridge could not connect to the queried Call Bridge</td>
  </tr>
</table>


+ Response 200


# Call Bridge Methods [/callBridges{?offset,limit}]

## Retrieving Information on Call Bridges [GET]

GET method performed on the `/callBridges` node.

Response is structured as a top-level <callBridges total="N"> tag with potentially multiple <callBridge> elements within it. Each <callBridge> tag may include the following elements:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>name</td>
    <td>String</td>
    <td>The unique name for this configured clustered Call Bridge</td>
  </tr>
</table>

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBridges total="0"/>

## Setting Up and Modifying a Call Bridge [POST]

* Creating: POST method to the `/callBridges` node
* Modifying: PUT to `/callBridges/<callbridgeId>`

+ Attributes (call bridge)

+ Response 200
    + Headers

            Location: /ap1/v1/callBridges/1f0e0bae-2ade-407a-9d79-c649a30b03d0

## Retrieving detailed information about an individual Call Bridge [GET /callBridges/{callbridgeId}]

GET method performed on a “/callBridges/<call bridge id>” node. If the call bridge ID supplied is valid, a “200 OK” response is received, with XML content described in the previous section.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBridge id="0e86b926-c4b9-459d-8ec6-bc547abbb2d1">
              <name>na-cb-1</name>
              <address>https://1.1.1.1:8443</address>
            </callBridge>

# Call Bridge Group Methods [/callBridgeGroups{?offset,limit}]

## Retrieving Information on Call Bridge Groups [GET]

GET method performed on the `/callBridgeGroups` node. Response is structured as a top-level <callBridges total="N"> tag with potentially multiple <callBridgeGroup> elements within it.
Each <callBridgeGroup> tag may include the following elements:

name (string) - Name of Call Bridge group.

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list
    + limit (number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBridgeGroups total="1">
              <callBridgeGroup id="15802ee9-954c-4ca6-98a2-2ae5ee7fd923">
                <name>na-1</name>
              </callBridgeGroup>
            </callBridgeGroups>

## Setting Up and Modifying a Call Bridge Group[POST]

* Creating: POST method to the `/callBridgeGroups` node
* Modifying: PUT to `/callBridgeGroups/<call bridge groupId>`


+ Attributes (call bridge group)

+ Response 200
    + Headers

            Location: /api/v1/callBridgeGroups/15802ee9-954c-4ca6-98a2-2ae5ee7fd923

## Retrieving detailed information about an individual Call Bridge Group [GET /callBridgeGroups/{call bridge groupId}]

GET method performed on a `/callBridgeGroups/<call bridge groupId>` node. If the Call Bridge group ID supplied is valid, a “200 OK” response is received, with XML content described in the previous section.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <callBridgeGroup id="15802ee9-954c-4ca6-98a2-2ae5ee7fd923">
              <name>na-1</name>
              <loadBalancingEnabled>false</loadBalancingEnabled>
              <loadBalanceLyncCalls>false</loadBalanceLyncCalls>
              <loadBalanceOutgoingCalls>false</loadBalanceOutgoingCalls>
              <loadBalanceUserCalls>true</loadBalanceUserCalls>
              <loadBalanceIndirectCalls>false</loadBalanceIndirectCalls>
            </callBridgeGroup>

# XMPP Methods [/system/configuration/xmpp]

## Retrieving the XMPP server details [GET]

Issue a GET on the new `/system/configuration/xmpp` node syto retrieve the information below.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>uniqueName</td>
    <td>String</td>
    <td>The name by which this Call Bridge is known by the XMPP server</td>
  </tr>
  <tr>
    <td>domain</td>
    <td>String</td>
    <td>The domain that the Call Bridge is using for XMPP</td>
  </tr>
  <tr>
    <td>sharedSecret</td>
    <td>String</td>
    <td>The password value set by the XMPP server for this Call Bridge when it was configured</td>
  </tr>
  <tr>
    <td>serverAddressOverride</td>
    <td>String</td>
    <td>If supplied, the Call Bridge is connecting to an XMPP server at the specified address rather than using the "domain" to discover it (via DNS).</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <xmpp>
              <uniqueName>ciscolabs-local</uniqueName>
              <domain>ciscolabs.com</domain>
              <serverAddressOverride>localhost</serverAddressOverride>
            </xmpp>

## Setting Up and Modifying an XMPP server [POST]

Issue a PUT or a POST on the new `/system/configuration/xmpp` node

+ Attributes (xmpp)

+ Response 200
    + Headers

            Location: /api/v1/callBridgeGroups/15802ee9-954c-4ca6-98a2-2ae5ee7fd923

# Call Bridge Cluster Methods [/system/configuration/cluster]

## Retrieving the Call Bridge Cluster details [GET]

Issue a GET on the `/system/configuration/cluster` node to retrieve the information below.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>uniqueName</td>
    <td>String</td>
    <td>The name by which this call bridge is known within the call bridge cluster; this should match the "name" value for its entry in the /callBridges table</td>
  </tr>
  <tr>
    <td>peerLinkBitRate</td>
    <td>Number</td>
    <td>The maximum media bit rate specified to use for call distribution connections between call bridges</td>
  </tr>
  <tr>
    <td>participantLimit</td>
    <td>Number</td>
    <td>If supplied, the maximum number of participants allowed to be active on this Call Bridge; when this limit is reached, new incoming SIP calls will be rejected</td>
  </tr>
  <tr>
    <td>loadLimit</td>
    <td>Number</td>
    <td>If supplied, the maximum number of load units to be used on this Call Bridge (from version 2.1)</td>
  </tr>
  <tr>
    <td>newConferenceLoadLimitBasisPoints</td>
    <td>Number</td>
    <td>Basis points (1 in 10,000) of the load limit at which incoming calls to non-active conferences will be disfavored, ranges from 0 to 10000, defaults to 5000 (50% load). Value is scaled relative to load limit. (From version 2.1)</td>
  </tr>
  <tr>
    <td>existingConferenceLoadLimitBasisPoints</td>
    <td>Number</td>
    <td>Basis points of load limit at which incoming calls to this Call Bridge will be rejected, ranges from 0 to 10000, defaults to 8000 (from version 2.1)</td>
  </tr>
   <tr>
    <td>maxPeerVideoStreams</td>
    <td>Number</td>
    <td>The maximum number of streams sent over a call distribution connection between Call Bridges, defaults to 4 if not supplied. (from version 2.3.3)</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <cluster>
              <uniqueName/>
              <maxPeerVideoStreams/>
              <participantLimit/>
              <loadLimit/>
              <newConferenceLoadLimitBasisPoints>5000</newConferenceLoadLimitBasisPoints>
              <existingConferenceLoadLimitBasisPoints>8000</existingConferenceLoadLimitBasisPoints>
            </cluster>

## Setting Up and Modifying the Call Bridge Cluster [PUT]

Issue a PUT or a POST on the '/system/configuration/cluster node`

+ Attributes (call bridge cluster)

+ Response 200

# Recorder Methods [/recorders/{?offset,limit}]

---
**Note**: The Recorder is not available on the Cisco Meeting Server 2000. It is more suited to the lower capacity Cisco Meeting Server 1000 and specification-based VM servers.

---

---
**Note**: At the end of recording a meeting, the recording is automatically converted to MP4. The converted file is suitable for placing within a document storage/distribution system, for example, in a network file system (NFS) they are stored in the NFS folder `spaces/<space Id>`; tenant spaces are stored in `tenants/<tenant ID>/spaces/<space Id>`.

---


## Retrieving recorder operations [GET]

GET method performed on the `/recorders` node.

Response is structured as a top-level <recorders total="N"> tag with potentially multiple <recorder> elements within it. Each <recorder> tag may include these elements:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>url</td>
    <td>URL</td>
    <td>The address that the Call Bridge uses to reach this recorder</td>
  </tr>
  <tr>
    <td>callBridge</td>
    <td>ID</td>
    <td>The ID of the Call Bridge associated with this recorder (from version 2.1)</td>
  </tr>
  <tr>
    <td>callBridgeGroup</td>
    <td>ID</td>
    <td>The ID of the Call Bridge group associated with this recorder (from version 2.1)</td>
  </tr>
</table>

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve recorders other than those in the first "page" of the notional list.
    + limit (number) - A "limit" can be supplied to retrieve recorders other than those in the first "page" of the notional list.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <recorders total="1">
              <recorder id="b647717f-3ffb-4dd6-af9f-9896bfb76d9e">
                <url>https://rec1.ciscolabs.com:8444</url>
              </recorder>
            </recorders>

## Setting up and modifying recording operations [POST]

* Creating: POST method to the /recorders " node
* Modifying: PUT to "/recorders/<recorder id>"

+ Attributes (recorder)

+ Response 200
    + Headers

            Location: /api/v1/recorders/b647717f-3ffb-4dd6-af9f-9896bfb76d9e



## Retrieving detailed information about an individual recording node[GET /recorders/{recorderId}]

GET method performed on a `/recorders/<recorderId>` node. If the recorder ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Parameters
    + recorderId (ID) -

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <recorder id="b647717f-3ffb-4dd6-af9f-9896bfb76d9e">
              <url>https://rec1.ciscolabs.com:8444</url>
            </recorder>

## Retrieving diagnostics on a Recorder[GET /recorders/{recorder Id}/status]

GET method performed on a `/recorders/<recorderId>/status` node. If the recorder ID supplied is valid, a “200 OK” response is received, with XML content matching the table below.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>status</td>
    <td>unused|</td>
    <td>The Recorder is not used by the queried Call Bridge</td>
  </tr>
  <tr>
    <td> </td>
    <td>success|</td>
    <td>The Recorder is connected to the queried Call Bridge</td>
  </tr>
  <tr>
    <td> </td>
    <td>invalidAddress|</td>
    <td>The configured Recorder URL is invalid</td>
  </tr>
  <tr>
    <td> </td>
    <td>dnsFailure|</td>
    <td>The configured Recorder URL could not be resolved</td>
  </tr>
  <tr>
    <td> </td>
    <td>connectionFailure|</td>
    <td>The Recorder could not connect to the queried Call Bridge</td>
  </tr>
  <tr>
    <td> </td>
    <td>remoteFailure|</td>
    <td>A connection was established with the Recorder but received a failure response</td>
  </tr>
  <tr>
    <td> </td>
    <td>unknownFailure|</td>
    <td>An unknown failure occurred</td>
  </tr>
  <tr>
    <td> </td>
    <td>lowDiskSpace</td>
    <td>The Recorder has limited disk space available</td>
  </tr>
  <tr>
    <td>activeRecordings</td>
    <td>Number</td>
    <td>Total number of active recordings on this Recorder</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <recorder id="b647717f-3ffb-4dd6-af9f-9896bfb76d9e">
              <status>success</status>
              <activeRecordings>0</activeRecordings>
            </recorder>

# Streamer methods [/streamers/{?offset,limit}]

---
**Note:**The Streamer is not available on the Cisco Meeting Server 2000. It is more suited to the lower capacity Cisco Meeting Server 1000 and specification-based VM servers.

---

## Retrieving streamer operations [GET]

GET method performed on the `/streamers` node.

Response is structured as a top-level <streamers total="N"> tag with potentially multiple <streamer> elements within it. Each <streamer> tag may include these elements:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>url</td>
    <td>URL</td>
    <td>The address that theCall Bridge uses to reach this streamer</td>
  </tr>
  <tr>
    <td>callBridge</td>
    <td>ID</td>
    <td>The ID of the Call Bridge associated with this streamer</td>
  </tr>
  <tr>
    <td>callBridgeGroup</td>
    <td>ID</td>
    <td>The ID of the Call Bridge group associated with this streamer</td>
  </tr>
</table>

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve recorders other than those in the first "page" of the notional list.
    + limit (number) - A "limit" can be supplied to retrieve recorders other than those in the first "page" of the notional list.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <streamers total="1">
              <streamer id="edb2d091-5987-467a-81b6-d1542e3d6775">
                <url>https://stream1.ciscolabs.com/app/ingest10:8443</url>
              </streamer>
            </streamers>


## Setting up and modifying streaming operations [POST]

* Creating: POST method to the `/streamers` node
* Modifying: PUT to `/streamers/<streamerId>`

+ Attributes (streamer)

+ Response 200
    + Headers

            Location: /api/v1/edb2d091-5987-467a-81b6-d1542e3d6775

## Retrieving detailed information about an individual streaming node [GET /streamers/{streamerId}]

GET method performed on a `/streamers/<streamerId>` node. If the streamer ID supplied is valid, a “200 OK” response is received, with XML content matching the section above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <streamer id="edb2d091-5987-467a-81b6-d1542e3d6775">
              <status>success</status>
              <activeStreams>0</activeStreams>
            </streamer>

# System Load Method [/system/load]

## System Load Method [GET]

GET method performed on the `/system/load` node.

### Response elements
mediaProcessingLoad(Number) - Current media processing load on the Call Bridge.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <load>
              <mediaProcessingLoad>25</mediaProcessingLoad>
            </load>

# Compatibility Profile Methods [/compatibilityProfiles/{?offset,limit,usageFilter}]

## Retrieving compatibility profile operations[GET]

GET method performed on the `/compatibilityProfiles` node.

### Response elements

usageFilter (unreferenced/referenced) - Indicates whether the compatibility profile is referenced by another object.

Response is structured as a top-level <compatibilityProfiles total="N"> tag with potentially multiple <compatibilityProfile> elements within it. Each <compatibilityProfile> tag may include these elements:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
    <tr>
    <td>sipUdt</td>
    <td>true|<br>false</td>
    <td>Indicates whether use of UDT is allowed within SIP calls. (From<br>version 2.1)</td>
  </tr>
  <tr>
    <td>sipMultistream</td>
    <td>true|<br>false</td>
    <td>Indicates whether use of Cisco multistream protocols is<br>allowed within SIP calls. (From version 2.2)</td>
  </tr>
  <tr>
    <td>sipMediaPayloadTypeMode</td>
    <td>auto|<br>broadsoft</td>
    <td>Indicates whether the default codec media payload types are<br>used, or a special variant. (From version 2.2)</td>
  </tr>
  <tr>
    <td>chromeWebRtcVideoCodec</td>
    <td>auto|<br>avoidH264</td>
    <td>Indicates which codec Chrome will use for WebRTC calls.<br>(From version 2.3)</td>
  </tr>
  <tr>
    <td>h264CHPMode</td>
    <td>`auto`|<br>basic</td>
    <td>Indicates which parts of the H.264 Constrained High Profile (CHP) are used.<br>(from version 2.4)</td>
  </tr>
</table>

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve compatibility profiles other than those in the first "page" of the notional list.
    + limit (number) - A "limit" can be supplied to retrieve compatibility profiles other than those in the first "page" of the notional list.
    + usageFilter (unreferenced/referenced) - Supply "usageFilter=unreferenced" in the request to retrieve only those compatibility profiles that are not referenced by another object. This is a useful check before deleting the profile. To retrieve just those compatibility profiles which are referenced in at least one place, you can supply "usageFilter=referenced".

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <compatibilityProfiles total="1">
              <compatibilityProfile id="3e1afe72-2aa8-4076-9b80-0112b00fbdf5"/>
            </compatibilityProfiles>

## Setting up and modifying compatibility profile operations [POST]

* Creating: POST method to the `/compatibilityProfiles` node
* Modifying: PUT to `/compatibilityProfiles/<compatibility profile id>`

+ Attributes (compatibility)

+ Response 200
    + Headers

            Location: /api/v1/compatibilityProfiles/3e1afe72-2aa8-4076-9b80-0112b00fbdf5

# System Diagnostics Methods [/system/diagnostics{?offset,limit,coSpaceFilter,callCorrelatorFilter}]

## Retrieving system diagnostics [GET]

Issue a GET on the new '/system/diagnostics' node to retrieve the information below.

label (string) - Text description associated with the specified diagnostics log.

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list.
    + limit (number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list.
    + coSpaceFilter (ID) - If supplied, this filter restricts results returned to those diagnostics that correspond to the specified coSpace
    + callCorrelatorFilter (ID) - If supplied, this filter restricts results returned to those diagnostics that correspond to the specified callCorrelator

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <diagnostics total="1">
              <diagnostics id="e8dbb8af-ec7e-4db5-b51b-47e6c1a1a768">
                <label>Ken Thompson Space</label>
              </diagnostics>
            </diagnostics>

## Retrieving an individual system diagnostic [GET /system/diagnostics/{diagnosticsId}]

Issue a GET on the /system/diagnostics/<diagnosticsId> node.

+ Parameters
    + diagnosticsId (ID)-

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <diagnostics id="e8dbb8af-ec7e-4db5-b51b-47e6c1a1a768">
              <label>Ken Thompson Space</label>
              <coSpace>e647231e-e1db-435b-b96f-9c7a83d488a2</coSpace>
              <callCorrelator>9fea4ad1-953a-4801-b4cd-b9382c43b077</callCorrelator>
              <timestamp>2019-05-16T17:40:26Z</timestamp>
              <contentsSize>16440</contentsSize>
            </diagnostics>

## Retrieving the content of an individual system diagnostic [GET /system/diagnostics/{diagnosticsId}/contents]

Issue a GET method on the `/system/diagnostics/<diagnosticsId>/contents` node to retrieve the data stored in the system diagnostic.

+ Response 200 (text/plain)
    + Body

            Diagnostics e8dbb8af-ec7e-4db5-b51b-47e6c1a1a768:

            "Ken Thompson Space" (e0ace4c5-8c7f-44e4-9e94-37067d3f2be7)
              coSpace: e647231e-e1db-435b-b96f-9c7a83d488a2
              correlator: 9fea4ad1-953a-4801-b4cd-b9382c43b077

            Recent log messages:
            13:39:08.561 Info    1.1.1.1: API user "api" created new call b393d2cb-60ec-418c-9991-6ef4e72fa47b
            13:39:08.554 Info    call create found coSpace -- re-retrieve from database
            13:38:49.494 Warning API provider: invalid call parameters for create
            13:38:25.360 Info    destroying guest account with user ID "guest624070829@ciscolabs.com"
            13:38:16.887 Info    1.1.1.1: API user "api" modified call b393d2cb-60ec-418c-9991-6ef4e72fa47b
            13:37:26.784 Info    web session 1 for user "": deactivating due to time out
            13:37:26.784 Info    web log in timed out
            13:36:55.592 Info    call 1: media framework reporting rx video RTP frequency 0 - fixed up to 90000
            13:36:55.579 Info    participant "ken@ciscolabs.com" (dbe60866-061d-49b3-8399-e95d6248bc2d) joined conference e0ace4c5-8c7f-44e4-9e94-37067d3f2be7 via XMPP
            13:36:55.579 Info    participant "ken@ciscolabs.com" joined space e647231e-e1db-435b-b96f-9c7a83d488a2 (Ken Thompson Space)
            13:36:55.558 Info    call 1: completed DTLS combined media negotiation
            13:36:55.518 Info    successfully connected to CDR receiver 1
            13:36:55.454 Info    call 1: starting DTLS combined media negotiation (as initiator)
            13:36:55.453 Info    call 1: setting up combined RTP session for DTLS (combined media and control)
            13:36:55.452 Info    call 1: configured - API call leg dbe60866-061d-49b3-8399-e95d6248bc2d
            13:36:55.452 Info    call 1: allocated for ken@ciscolabs.com "Web client" conference participation
            13:36:55.369 Warning streaming device 1: no stream url configured
            13:36:55.363 Info    new session created for user "ken@ciscolabs.com"
            13:36:55.362 Info    unable to connect to CDR receiver 2 (1.1.1.1:8444)
            13:36:55.360 Info    created guest account with user ID "guest624070829@ciscolabs.com"
            13:36:55.359 Info    conference e0ace4c5-8c7f-44e4-9e94-37067d3f2be7 named "Ken Thompson Space"
            13:36:55.359 Info    conference e0ace4c5-8c7f-44e4-9e94-37067d3f2be7 has control/media GUID: 92b6fb02-1471-470e-945e-775e3fa678ef
            13:36:55.359 Info    API call leg dbe60866-061d-49b3-8399-e95d6248bc2d in call e0ace4c5-8c7f-44e4-9e94-37067d3f2be7 (API call b393d2cb-60ec-418c-9991-6ef4e72fa47b)
            13:36:55.359 Info    starting automatic streaming (space 'Ken Thompson Space')
            13:36:45.922 Info    .../invitation_template.txt no local resource file
            13:36:45.485 Info    cospace view query 1 complete success:1
            13:36:45.476 Info    cospace view query 1 started (1 requests, max seen 1)
            13:36:45.476 Info    adding cospace view request user_guid:3c2b4c49-9e60-4c97-835d-d22038d812cc, cospace_guid:b449de90-9dc5-4bed-9c65-a09a321d2bd9, index:11 (1 queued request(s), operation_in_progress:0)
            13:36:41.326 Info    API "Johnny Appleseed Space" Space GUID: b449de90-9dc5-4bed-9c65-a09a321d2bd9 <--> Call Correlator GUID: 8d467826-8a80-45fe-b4b8-e847bfa898f5 <--> Internal GUID: 9cc0e585-3c2b-4be9-b273-39fa3a7e50ba
            13:36:41.326 Info    API "Ken Thompson Space" Space GUID: e647231e-e1db-435b-b96f-9c7a83d488a2 <--> Call Correlator GUID: 9fea4ad1-953a-4801-b4cd-b9382c43b077 <--> Internal GUID: e0ace4c5-8c7f-44e4-9e94-37067d3f2be7
            13:36:41.326 Info    instantiating user "ken@ciscolabs.com"
            13:36:40.673 Info    successful login request from ken@ciscolabs.com
            13:30:20.758 Info    media module status 1 (1/1) 1/1 (full media capacity)
            13:15:20.557 Info    media module status 1 (1/1) 1/1 (full media capacity)
            13:00:20.357 Info    media module status 1 (1/1) 1/1 (full media capacity)
            12:45:20.160 Info    media module status 1 (1/1) 1/1 (full media capacity)
            12:30:19.968 Info    media module status 1 (1/1) 1/1 (full media capacity)
            12:15:19.770 Info    media module status 1 (1/1) 1/1 (full media capacity)
            12:00:19.576 Info    media module status 1 (1/1) 1/1 (full media capacity)
            11:48:53.465 Info    TURN responder; unable to respond to data (size 135) from 10.0.104.92:52781
            11:48:53.461 Info    TURN responder; unable to respond to data (size 130) from 10.0.104.89:40324
            11:45:19.378 Info    media module status 1 (1/1) 1/1 (full media capacity)
            11:30:19.182 Info    media module status 1 (1/1) 1/1 (full media capacity)
            11:15:18.985 Info    media module status 1 (1/1) 1/1 (full media capacity)
            11:00:18.785 Info    media module status 1 (1/1) 1/1 (full media capacity)
            10:45:18.588 Info    media module status 1 (1/1) 1/1 (full media capacity)
            10:30:18.391 Info    media module status 1 (1/1) 1/1 (full media capacity)
            10:15:18.195 Info    media module status 1 (1/1) 1/1 (full media capacity)
            10:05:04.672 Info    mf BEEF0100: buffer stats [0] txd 122908/0 txc 2/0 rx 4947 buf 0 max 2311
            10:00:17.997 Info    media module status 1 (1/1) 1/1 (full media capacity)
            50 most recent (of 320) shown

            Call legs: 1

            ControlCmgr outgoing call 1, GUID 5852ad84-4a9a-4f6f-b096-a8145f2f9101
            "ken@ciscolabs.com" resource 0:
              conference participation for "Ken Thompson Space"
              connections sourced / sinked = 0 / 0
               resource GUID: dbe60866-061d-49b3-8399-e95d6248bc2d
                  media GUID: e52777e3-ce7e-4096-acc7-252b8d1c8236
                       audio: ccec83ab-9a7b-4bb0-bc6d-40aecb28d691
                       video: 1713ee1c-85c3-4ef6-a4a1-a7893113dcc9
                  main video: 00000000-0000-0000-0000-000000000000
              extended video: 00000000-0000-0000-0000-000000000000
            resource user 0; "Web client" / cc4ce9dd0a8da116
            resource user 0; have stream advertisement (V2) from far end (streams=2):
              main audio: 907c4f44-a0bc-451d-a61a-d47f97885010
              main video: 104ce7e2-2dd7-4b16-969d-93e911fb1ee1
            resource user 0; num stream selection requests sent = 1
              callGuid = dbe60866-061d-49b3-8399-e95d6248bc2d, numStreams = 2
                907c4f44-a0bc-451d-a61a-d47f97885010, audioMux 00000064
                104ce7e2-2dd7-4b16-969d-93e911fb1ee1, videoMux 000000C8
            resource user 0; stream advertisement (V2) to far end, 1 sent, pending=0:
              main audio: 5f10a89b-f679-41fd-8222-1f4db224ee9c
              media address 2.2.2.2
              RTP/RTCP mux = 1, audio/video mux = 1
              audio, video, extended video RTP sessions = 0,0,0
              audio, video, content, udt port numbers = 43322/43322, 43322/43322, 43322/43322, 0/0
                local audio ICE candidates (1+1):
                  media 0: 2.2.2.2:43322 (host)
                  control 0: 2.2.2.2:43322 (host)
                local video ICE candidates (1+1):
                  media 0: 2.2.2.2:43322 (host)
                  control 0: 2.2.2.2:43322 (host)
                local content ICE candidates (1+1):
                  media 0: 2.2.2.2:43322 (host)
                  control 0: 2.2.2.2:43322 (host)
                audio completion:
                  media: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
                  control: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
                video completion:
                  media: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
                  control: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
                content completion:
                  media: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
                  control: local=2.2.2.2:43322 (p 2130706431), remote=1.1.1.1:59337 (p 2122260223)
              rx audio pt 111, codec "opus", clockRate 48000, bitRate 0
              rx audio pt 9, codec "g722", clockRate 8000, bitRate 0
              rx audio pt 0, codec "g711u", clockRate 8000, bitRate 0
              rx audio pt 8, codec "g711a", clockRate 8000, bitRate 0
              rx audio pt 13, codec "cn", clockRate 8000, bitRate 0
              rx audio pt 105, codec "cn", clockRate 16000, bitRate 0
              rx audio pt 126, codec "rfc2833", clockRate 8000, bitRate 0
              rx video main pt 127, codec "h264"
              rx video main pt 102, codec "h264"
              rx video main pt 96, codec "webm"
              tx video extended active / valid = 0 / 0
              never show main / presentation = 0 / 0
              BFCP active = 0 (client 0, floor status 0/0/0, owner 0/0)
                server status: 0 / 0 / 0 / 0 / 0 / 0
                client status: 0 / 0 / 0 / 0 / 0 / 0 / 0 / 0
              m_num_rx_video_main=1, floor 1 (conference 7F3828031910, m_num_rx_video_main=1)
              m_conference_main_video_consumer=1 (conference 7F3828031910, num_main_video_consumers=1)
              rx bandwidth = 2000000, tx bandwidth = 2000000 / 8000000 / 0
              keyframe requests sent / received via control channel = 0 / 0
              focussed participant info: call 00000000-0000-0000-0000-000000000000, video stream 00000000
              calls with this one as their focussed participant: 0
              m_num_rx_video_main=1, floor 1 (conference 7F3828031910, m_num_rx_video_main=1)
              m_conference_main_video_consumer=1 (conference 7F3828031910, num_main_video_consumers=1)
              rx bandwidth = 2000000, tx bandwidth = 2000000 / 8000000 / 0
              audio, video, content, udt port numbers = 43322/43322, 43322/43322, 43322/43322, 0/0
              local audio ICE candidates, 1 media + 1 control
              local video ICE candidates, 1 media + 1 control
              local content ICE candidates, 1 media + 1 control
              ICE completion mask 0007
            MediaCall 1, media bandwidth 2000000, last activity 60ms ago
              displayName "Ken Thompson", groupId 1, composePaneUid 0x5A41A2C3
              network webrtc bandwidth estimates: tx=0, rx=3242422
              rxAudioMute=0, rxVideoMute=0, txAudioMute=0, txVideoMute=0
              selfView=0, audioPromptMode=0, audioMuteDetected=0
              defaultVideoMode=blank
              layout; numVideoStreams=0, source/type=0/0
              speaker entries; combined: on conference list, local only: on conference list
              TIP: tx / rx video refresh bytes = 0 / 0, tx / rx audio activity metric = 0 / 0
              active position: 0 (changes: 0)
              audio forwarding source: centre: users=1, left: absent, right: absent, aux: absent
              rx audio 0, decoder 10004 (placements:1), SSRC filter 91E933A5, muxIdFilter 00000064
                rxFilter: rtp: SSRC==0x91E933A5
                rtpSession: rtcpIndex 0, numPossibilities = 7, RFC 6464 id = 1
                most recent packets received / dropped = 151 / 0
                total packets received / dropped = 10457 / 0, highest sequence 14722
                burst: 0.00% for 0.000s, gap: 0.00% for 208.859s
                max jitter reorder delay = 46
                received SSRC 91E933A5 (ROC 00003982), PT 111 ("opus")
                placement cost: 1
                LipSync skew ms = 0 (previous = 0, 0, last ms = 0)
                RtpTimestampFrequency = 48000, RtpTimestampArrivalTimeNow = 9A9BF337
                DTMF detection / suppression = 0 / 0
                decoder output 0: connected to mixer 7F38381F01B0:4, type "normal"
                  mixer rfifo = "B=0 v 31.9 f 33.8 SR 48->48 tsa 18 18 c 10505 rst 3 SR H 30->30->45 m/a/m 20->22->40 th 10->25->40 C 0.000 (10510 82 30 24 14 0/0/0/0) Gd 20.0 jt 1.4 lng 23.4 up 0/28 dn 0/30 fl 0/0 efl 0/24 uf 0/0 uls 0/0 lw 220/5146 aj 135 LS 0 0 E 2000->-2000 r 47852 or 48044 Mix 10093440/0/0 0 OR=48000 sw 1/0 NF 0"
              tx audio 0, encoder 10008
                m_conference_audio_active=1, m_streamer_audio_active=0 (prompt_mode=0), m_override_audio_active=0
                configured / connected audio mixer index = 1 / 4, type "normal"
                rtpSession: rtcpIndex 0, SSRC 9792B47E (fixed), muxId 00000001 (ROC 0000BF09)
                codec "opus", PT 111, bit rate 64000 (codec/br changes=1/0)
                placement cost: 4
                packet size 20ms (1 frames x 20 ms; desired 20ms)
                m_max_bit_rate_in_force=64000/1 (provisional=64000/1)
                SSRC 9792B47E, seq/ts=48905/1196502810, packets/octets=10463/1778710
                min / max encoder energy = -44.0 / -44.0, lastNoisy=210672ms ago
                receiverReport: numReceived=41, time=5074ms ago, roundTripTime 1 ms (lowest 1)
                receiverReport: fraction/cumulative loss = 0/0, jitter 183 (freq 48000)
                remote destination 1.1.1.1:59337 (txFastPath 1)
                  channel "opus", PT 111, bit rate 64000
                  channel "g722", PT 9, bit rate 64000
                  channel "g711u", PT 0, bit rate 64000
                  channel "g711a", PT 8, bit rate 64000
                  RFC2833 enabled, PT 126
              rx video 0 (main), replicated decoders: 10007 (primary, outputs: 0), placements 1, SSRC filter 48053A72, muxIdFilter 000000C8, avg/max latency = 0/0
                rxFilter: rtp: SSRC==0x48053A72
                rtpSession: rtcpIndex 4, isContent=0, isInactive=0
                rtcp: sendRtcpSizePreference=0, sendRtcpMediaControl=0
                numKeyframeRequestsSent=0, numRequestedByDecoder=0, numIFrames=0, RTP loss mask enabled
                most recent packets received / dropped = 242 / 0 (largest 1126 bytes)
                most recent frames decoded / unique = 0 / 0
                total packets received / dropped = 49259 / 0 (largest 1187 bytes, highest sequence 55902)
                total frames decoded / unique = 0 / 0, sharpness hint = 255
                packets dropped no output / decryption failed / overflow = 242 / 0 / 0
                burst: 0.00% for 0.000s, gap: 0.00% for 209.233s
                received SSRC 48053A72 (ROC 0000DA5E), PT 127 ("h264", pli/fir/tmmbr/nack/vsr/x-pli=1/1/0/0/0/0, refresh=0)
                actual bit rate decoder / overall = 1995064 / 2014424
                decoderReportNum=143, intervalMs=981, last report 430ms ago, decoded frames reported 430ms ago
                decoderPeerReportNum=142, peers=0
                video contributor active / suppressed = 1 / 0
                video contributor UIDs: UID 5A41A2C3, extended UID 5A41A2C3 (DEF)
                max signalled width / height = 0 / 0 (never)
                largest area in use: 0 x 0
                RtpTimestampFrequency = 90000, RtpTimestampArrivalTimeNow = 49CF842F
              tx video: suspended=0, vsrSuspend=0, mainVsrSupported=0
              tx video 0, encoder 10003 (cost 37), mode "Normal", avg/max latency = 1131839/39310292
                rtpSession: rtcpIndex 4, SSRC 0BF19280 (fixed), muxId 1:00000000(4) (ROC 00000E58)
                codec "h264", PT 102, packetization mode 1, bandwidth 1936000
                bandwidths; configured 2000000, max_bit_rate_in_force 1936000, downspeeding=1936000, tmmbr=0 (num_received=0), lyncVsr=0
                downspeeding: st 1 m/m 48000/2000000 RTT st/lt/roof 1 1 2000000 br 1936000
                SSRC 0BF19280, seq/ts=3672/2927742130, packets/octets=1047/22083 (largest 419)
                frameRate=4.9, actualBitRate=677, requestedKeyframes=0, sentKeyframes=1
                keyframe triggers: fir=0 pli=0
                num frames sent / in / dropped = 1047 / 1047 / 0 (most recent 10 / 10 / 0)
                maxPacketSize 1420 (numChanges=2, default=1400)
                MTU determination; awaited=0, completed=1, result=1500 (object 0)
                packetPacingBitRate 1936000 (changes=3)
                receiverReport: numReceived=207, time=1058ms ago, roundTripTime 1 ms (lowest 1, downspeeding 1)
                receiverReport: fraction/cumulative loss = 0/0, jitter 429 (freq 90000)
                passthrough failure: "[0x40],NoID"
                SfMediaControlFeatures: "SPR L,HLLO L,RPS L,RPR -,CABC L,DSCF L,FEC L,FRAG L,RETR L,LAYI L,USGE L,PART L,PANE L,PDAT L,"
                mediaSource 563A2B39FC40, mediaSink 563A2BA084F0
                remote destination 1.1.1.1:59337 (txFastPath 0)
              video composition, compose 10002, avg/max latency=764144/0
                video: 128 x 128 (changes=1), PAR 1:1, frameRate 5.1, sharpnessMode=0 (0/0/0%)
                encoder frame rate 0.0, encoderActive=1
                framePeriod=14000, throttle=0, lateness=2
                layout numCells=1, participantsShown=0 (numSources=1, override=0, composeInputs=1)
                H.264 mode; maxMbps=108000 (static 0), maxFrameSize=3600
                maxFps=30, displayAspectRatio=allowAll, fixedFrameRate=0 (0)
                largest tx size width x height = 10 x 10, bit rate 1936000
                size hint 10x10, aspect ratio 10:10, flags 0
                resolution selection hint; aspectRatio: 10 x 10, display: 10 x 10, maxFps: 30
                matchSourceSize=1/0, matchSizeHints=1/0, autoCropMode=1 (1/0/1), freeformLayoutMode=0 (0/0)
                pane UIDs enabled/override/advanced=1/0/0
                cell 0: 1x1 at 0,0 in 1x1, group 0, spacing 0/0, speaker/content/unimportant/focus=0/0/0/0
              audio+video+extended video RTP session: control destination 1.1.1.1:59337, transmitter 7F393001AE30 (handle 00010005)
                numUsers=3, streamUsageCount=4, dontFragment=0
                media+control port packets received / unhandled = 61878 / 0
                media+control port packet send successes / failures = 870 / 0
                RTCP numPacketsReceived: 1702
                Tx media crypto: SRTP_AES_128_CM_SHA1_80, vu65ZlQW...vGc9JRgI
                Tx control crypto: SRTP_AES_128_CM_SHA1_80, vu65ZlQW...vGc9JRgI
                Rx media crypto: SRTP_AES_128_CM_SHA1_80, b41rku5G...roARcn/7
                Rx control crypto: SRTP_AES_128_CM_SHA1_80, b41rku5G...roARcn/7
                num local / remote encryption changes = 0 / 0
                DTLS media / control activation = 1 / 0, eager=0
                ICE: local candidates known = 1, media/control destination known = 1 / 1
                ICE remote peak bandwidth: 0:0
                nominated candidates:
                  id 1: 2.2.2.2:43322 (type 0:0) -> 1.1.1.1:59337 (type 0:0)
                remote ICE candidates:
                  media 0: 1.1.1.1:59337 (host) - priority 2122260223
                  media 1: 3.3.3.3:52341 (host) - priority 2122194687
                    chosen: 1.1.1.1:59337



# Group LDAP Methods

Objects in the hierarchy that reside in the `/ldapMappings`, `/ldapServers` and `/ldapSources` nodes in the object tree relate to the Meeting Server’s interaction with one or more LDAP servers (for instance, Active Directory) which are used to import user accounts to the Meeting Server.

- One or more LDAP server  should be configured, with each one having associated username and password information for the Meeting Server to use to connect to it for the purpose of retrieving user account information from it
- One or more LDAP mappings are also required, which define the form of the user account names which will be added to the system when users are imported from configured LDAP servers
- A set of LDAP sources then need to be configured, which tie together configured LDAP servers and LDAP mappings, along with parameters of its own, which correspond to the actual import of a set of users.

An LDAP source takes an LDAP server / LDAP mapping combination and imports a filtered set of users from that LDAP server. This filter is determined by the LDAP source's "baseDn" (the node of the LDAP server's tree under which the users can be found) and a filter to ensure that user accounts are only created for LDAP objects that match a specific pattern

The API LDAP methods allow multiple additional sets of “Active Directory Configuration” as per the Web Admin Interface Configuration > Active Directory page. On this page, the Active Directory Server Settings section corresponds to an API-configured LDAP server, the Import Settings to an LDAP source, and the Field Mapping Expressions to an LDAP mapping.

---
**Note**: The LDAP server credentials are used to read the following fields (for security reasons you
may want to restrict the fields and permissions available using those credentials):

- mail
- objectGUID
- entryUUID
- nsuniqueid
- telephoneNumber
- mobile
- sn
- givenName

---


# LDAP Server Methods  [/ldapServers/{?filter,offset,limit}]

## Retrieving Information on LDAP Servers [GET]

GET method performed on the `/ldapServers` node.

Response is structured as a top-level <ldapServers total=”N”> tag with potentially multiple `<ldapServer>` elements within it. `<ldapServer>` elements returned follow the general form on the left.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>ldapServer id</td>
    <td>ID</td>
    <td> </td>
  </tr>
  <tr>
    <td>address</td>
    <td>String</td>
    <td> </td>
  </tr>
  <tr>
    <td>portNumber</td>
    <td>Number</td>
    <td> </td>
  </tr>
  <tr>
    <td>secure</td>
    <td>true|false</td>
    <td> </td>
  </tr>
</table>

+ Parameters
    + filter(string) - Supply filter=<string> in the URI to return just those LDAP servers that match the filter
    + offset(number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + limit(number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapServers total="1">
              <ldapServer id="fe87db5e-fd2a-40e8-a59a-731effbcddb7">
                <address>ldap.ciscolabs.com</address>
                <username/>
                <portNumber>389</portNumber>
                <secure>false</secure>
              </ldapServer>
            </ldapServers>

## Adding and modifying an LDAP Server [POST]

* Create: POST method performed on the `/ldapServers` node. If the LDAP server is configured on the system successfully, its ID is returned in the “Location” field of the response header
* Modifying an LDAP server is a PUT method on a `/ldapServers/<ldapServer Id>` node

+ Attributes (ldap server)

+ Response 200
    + Headers

            Location: /api/v1/ldapServers/fe87db5e-fd2a-40e8-a59a-731effbcddb7



# LDAP Mapping Methods [/ldapMappings/{?offset,limit,filter}]

## Adding and modifying an LDAP Mapping [POST]

* Creating: POST method to the `/ldapMappings` If the LDAP mapping is configured on the system successfully, its ID is returned in the “Location” field of the response header
* Modifying: PUT method on a `/ldapMappings/<ldapMapping Id>` node.

+ Attributes (ldap mapping)

+ Response 200
    + Headers

            Location: /api/v1/ldapMappings/f3964db9-ae77-43cc-a0d8-ee005edd5e56

## Retrieving information on LDAP Mappings [GET]

---
**Note** Secondary LDAP Mapping parameter

Per LDAP mapping, there is a new optional `coSpaceSecondaryUriMapping` parameter so that the coSpaces that are created automatically have a secondary URI.

* When creating an LDAP mapping (see the previous section) or modifying the configuration of an existing LDAP mapping you can supply a `coSpaceSecondaryUriMapping` parameter
* When retrieving information on an individual LDAP mapping (a GET method on a `/ldapMappings/<LDAPmapping Id>` node) the `coSpaceSecondaryUriMapping` value will be returned if it is defined for that LDAP mapping

---

GET method performed on the `/ldapMappings` node.

Response is structured as a top-level <ldapMappings total=”N”> tag with potentially multiple “<ldapMapping>” elements within it. “<ldapMapping>” elements returned follow the general form on the left.

+ Parameters
    + filter (string) - Supply filter=<string> in the URI to return just those LDAP mappings that match the filter.
    + offset (number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + limit (number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapMappings total="1">
              <ldapMapping id="f3964db9-ae77-43cc-a0d8-ee005edd5e56">
                <jidMapping/>
                <nameMapping/>
              </ldapMapping>
            </ldapMappings>

## Retrieving detailed Information about an individual LDAP Mapping [GET /ldapMappings/{ldapMapping Id}]

GET method performed on a `/ldapMappings/<ldapMapping Id>` node. If the ldapMapping ID supplied is valid, a “200 OK” response is received, with XML content described in the creating

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapMapping id="f3964db9-ae77-43cc-a0d8-ee005edd5e56">
              <jidMapping/>
              <nameMapping/>
              <cdrTagMapping/>
              <coSpaceNameMapping/>
              <coSpaceUriMapping/>
              <coSpaceSecondaryUriMapping/>
              <coSpaceCallIdMapping/>
              <authenticationIdMapping/>
            </ldapMapping>

# LDAP Source Methods [/ldapSources/{?filter,offset,limit,tenantFilter}]

## Retrieving Information on LDAP Sources [GET]

GET method performed on the `/ldapSources` node.

Response is structured as a top-level < ldapSources total=”N”> tag with potentially multiple “<ldapSource>” elements within it.

“<ldapSource>” elements returned follow the general form on the left.

All as per LDAP source creation described below:

* ldapSource id (ID)

* server (ID)

* mapping (ID)

* baseDn (string)

* filter (string)

* tenant (ID)

+ Parameters
    + filter (string) - Supply filter=<string> in the URI to return just those LDAP sources that match the filter.
    + offset - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + limit (number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + tenantFilter(ID) - Supply tenantFilter to return only those LDAP sources associated with the specified tenant. (ID)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapSources total="1">
              <ldapSource id="5432188a-3e8f-4e80-ab74-3f7a2b21b715">
                <server>fe87db5e-fd2a-40e8-a59a-731effbcddb7</server>
                <mapping>f3964db9-ae77-43cc-a0d8-ee005edd5e56</mapping>
                <baseDn>ou=Users,dc=ciscolabs,dc=com</baseDn>
                <filter/>
                <nonMemberAccess>true</nonMemberAccess>
              </ldapSource>
            </ldapSources>

## Adding and modifying an LDAP Source [POST]

* Creating: POST method to the `/ldapSources` node. If the LDAP source is configured on the system successfully, its ID is returned in the “Location” field of the response header
* Modifying: PUT method on a `/ldapSources/<ldapSource id>` node


+ Attributes (ldap source)

+ Response 200
    + Headers

            Location: /api/v1/ldapSources/5432188a-3e8f-4e80-ab74-3f7a2b21b715


## Retrieving detailed information on a LDAP Source [GET /ldapSources/{ldapSource ID}]

GET method performed on a `/ldapSources/<ldapSource ID>` node. If the ldapSource ID supplied is valid, a “200 OK” response is received, with XML content as per LDAP source creation described above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapSource id="5432188a-3e8f-4e80-ab74-3f7a2b21b715">
              <server>fe87db5e-fd2a-40e8-a59a-731effbcddb7</server>
              <mapping>f3964db9-ae77-43cc-a0d8-ee005edd5e56</mapping>
              <baseDn>ou=Users,dc=ciscolabs,dc=com</baseDn>
              <filter/>
              <nonMemberAccess>true</nonMemberAccess>
            </ldapSource>

# LDAP Sync Methods [/ldapSyncs/{?offset,limit}]

API support for LDAP synchronization comprises the ability to:

* Trigger a new sync via the API
* Monitor pending and in-progress LDAP syncs

There is a top-level `/ldapSyncs` node in the object tree, and associated GET, DELETE, POST methods to use on objects underneath it.

## Retrieving scheduled LDAP sync methods [GET]

GET method on the `/ldapSyncs` node. Returns results in the form "<ldapSyncs total=N> ...</ldapSyncs>", with N being the total number of pending and in-progress LDAP sync methods.
Within the encompassing "<ldapSyncs>" are one or more "<ldapSync id=ID>" nodes; each of the form on the left,
where: state is either: "inProgress" (happening now), "pending" (yet to be started), completed or failed.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>ldapSyncid</td>
    <td>ID</td>
    <td> </td>
  </tr>
  <tr>
    <td>state</td>
    <td>inProgress|pending|complete|failed</td>
    <td>The current status of this LDAP sync operation:<br>inProgress - this LDAP sync operation is happening now <br>pending - this LDAP sync operation has yet to start <br>complete - this LDAP sync operation has completed successfully <br>failed - this LDAP sync operation has failed</td>
  </tr>
  <tr>
    <td>failureReason</td>
    <td>tenantDoesNotExist| ldapSourceDoes NotExist| clashOccurred| ldapError</td>
    <td> </td>
  </tr>
  <tr>
    <td>numUsersImported</td>
    <td>Number</td>
    <td>The number of users imported so far for an in-progress LDAP sync</td>
  </tr>
  <tr>
    <td>numLdapSourcesComplete</td>
    <td>Number</td>
    <td>The number of LDAP sources for which the sync method has been completed for an in-progress LDAP sync of multiple LDAP sources. However if the first LDAP source synchronization is still in progress so that numLdapSourcesComplete=0, then the parameter is omitted</td>
  </tr>
</table>

+ Parameters
    + offset (number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list.
    + limit (number) -  A "limit" can be supplied to retrieve elements other than the first "page" in the notional list.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapSyncs total="1">
              <ldapSync id="72538360-c238-47ab-b501-8c41e3a22111">
                <state>failed</state>
                <failureReason>ldapError</failureReason>
              </ldapSync>
            </ldapSyncs>

## Initiating a new LDAP sync [POST]

POST method on the `/ldapSyncs` node. If neither parameter in the following table is included, the sync is equivalent to the Sync now button on the Web Admin Interface Configuration > Active Directory page.

+ Attributes (ldap sync)

+ Response 200
    + Headers

            Location: /api/v1/ldapSyncs/3bcb49a4-0f75-48e8-a2dd-1d3c4251bee3

## Cancelling a scheduled LDAP sync [DELETE]

DELETE method on a `/ldapSyncs/<LDAP sync Id>` node. This method cancels a scheduled LDAP sync. This method will fail if the sync method has already started (or started and completed).
+ Response 200

## Retrieving information on a single LDAP sync method [GET /ldapSyncs/{LDAPsyncID}]

GET method on an `/ldapSyncs/<LDAP sync ID>` node.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <ldapSync id="72538360-c238-47ab-b501-8c41e3a22111">
              <state>failed</state>
              <failureReason>ldapError</failureReason>
            </ldapSync>


# External Directory Search Locations [/directorySearchLocations/{?offset,limit,tenantFilter}]

Via the API you can add to the Call Bridge, additional directory search locations to be consulted when users of Cisco Meeting Apps perform searches. External directory search locations can be added on a per-tenant level. Results from these locations will be added to the "normal" results (e.g. those from our LDAP-sourced user lists) and presented in the Cisco Meeting App.

## Retrieving Information on external directory search locations [GET]

GET method performed on the `directorySearchLocations` node.

* <directorySearchLocations total="N"> tag with potentially multiple
* <directorySearchLocation> elements within it. .
* <directorySearchLocation> elements returned follow the general form on the left.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>ldapServer</td>
    <td>ID</td>
    <td>All as per external directory search location creation described below</td>
  </tr>
  <tr>
    <td>tenant</td>
    <td>ID</td>
    <td></td>
  </tr>
  <tr>
    <td>baseDn</td>
    <td>String</td>
    <td></td>
  </tr>
  <tr>
    <td>filterFormat</td>
    <td>String</td>
    <td></td>
  </tr>
  <tr>
    <td>label</td>
    <td>String</td>
    <td></td>
  </tr>
  <tr>
    <td>priority</td>
    <td>Number</td>
    <td></td>
  </tr>
</table>


+ Parameters
    + offset(Number) - An "offset" can be supplied to retrieve elements other than the first "page" in the notional list.
    + limit(Number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list.
    + tenantFilter(ID) - Supply tenantFilter to return only those external directory search locations associated with the specified tenant.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <directorySearchLocations total="1">
              <directorySearchLocation id="5d684c79-2e9f-4d72-bb07-eceb4673567c">
                <ldapServer>fe87db5e-fd2a-40e8-a59a-731effbcddb7</ldapServer>
                <baseDn/>
                <filterFormat/>
                <priority>0</priority>
                <label/>
              </directorySearchLocation>
            </directorySearchLocations>

## Adding and modifying external directory search locations [POST]

* Creating: POST method to the `/directorySearchLocations` node. If the LDAP source is configured on the system successfully, its ID is returned in the “Location” field of the response header.
* Modifying: PUT method on a `/directorySearchLocations/<directory search location id>` node.

+ Attributes (directory)

+ Response 200
    + Headers

            Location: /api/v1/directorySearchLocations/5d684c79-2e9f-4d72-bb07-eceb4673567c

## Retrieving detailed information on external directory search locations [GET /directorySearchLocations/{directory search location id}]

GET method performed on a '/directorySearchLocations/<directory search location id>' node. If the directory search location ID supplied is valid, a “200 OK” response is received, with XML content as per directory search location creation described above.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <directorySearchLocation id="5d684c79-2e9f-4d72-bb07-eceb4673567c">
              <ldapServer>fe87db5e-fd2a-40e8-a59a-731effbcddb7</ldapServer>
              <baseDn/>
              <filterFormat/>
              <priority>0</priority>
              <label/>
              <firstName/>
              <lastName/>
              <displayName/>
              <phone/>
              <mobile/>
              <email/>
              <sip/>
              <organisation/>
            </directorySearchLocation>

# Group Multi-tenancy

# Tenants [/tenants/{?filter,offset,limit,callLegProfileFillter}]

## Retrieving Tenants [GET]

GET method performed on a '/tenants' node.

Response is structured as a top-level <tenants total=”N”> tag with potentially multiple <tenant> elements within it. <tenant> elements follow the general form on the left.

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>tenant id</td>
    <td>ID</td>
    <td></td>
  </tr>
  <tr>
    <td>name</td>
    <td>Text</td>
    <td></td>
  </tr>
  <tr>
    <td>tenantGroup</td>
    <td>ID</td>
    <td>If specified, associate this tenant with the supplied tenant group; the IDs of coSpaces in tenants within the same tenant group must be unique.</td>
  </tr>
</table>

+ Parameters
    + filter (Text) - Supply filter=<tenant> in the URI to return just those tenants that match the filter
    + offset (number) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + limit (number) - An "offset" and "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + callLegProfileFillter (ID) - Supply callLegProfileFilter=<call leg profile id> to return just those coSpaces using that call leg profile

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <tenants total="1">
              <tenant id="634b068e-2c97-4495-a94e-42f03c76b5e5">
                <name>Engineering</name>
              </tenant>
            </tenants>

## Creating and Modifying a Tenant [POST]

* Creating: POST method to the `/tenants` node. If the tenant is created successfully, an ID for the new tenant is returned in the “Location” field of the response header
* Modifying: PUT method performed on a `/tenants/<tenant id>` node

+ Attributes (tenant)

+ Response 200
    + Headers

            Location: /api/v1/tenants/634b068e-2c97-4495-a94e-42f03c76b5e5

# Tenant group operations [/tenantGroups/{?offset,limit,tenantGroups,tenantGroupId}]

## Retrieving Tenant Groups [GET]

GET method performed on a `/tenantGroups` node.
Response is structured as a top-level <tenantGroups total=”N”> tag with potentially multiple <tenantGroup> elements within it.

+ Parameters
    + offset(Number) - An "offset"can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + limit(Number) - A "limit" can be supplied to retrieve elements other than the first "page" in the notional list (see above).
    + tenantGroups(Number) - Number of tenant groups
    + tenantGroupId(ID) - ID for each tenant group

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <tenantGroups total="1">
              <tenantGroup id="605a6b11-66bf-4d13-bee9-cbf291508e49"/>
            </tenantGroups>

## Creating and Modifying a Tenant Group [POST]

* Creating: POST method to the `/tenantGroups` node. If the tenant group is created successfully, an ID for the new tenant group is returned in the “Location” field of the response header
* Modifying: PUT method performed on a `/tenantGroups/<tenantGroupId>` node

+ Response 200
    + Headers

            Location: /api/v1/tenantGroups/605a6b11-66bf-4d13-bee9-cbf291508e49

## Retrieving Detailed Information about an Individual Tenant Group [GET /tenantGroups/{tenantGroupId}]
GET method performed on a `/tenantGroups/<tenant group id>` node. If the tenant ID supplied is valid, a “200 OK” response is received.

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <tenantGroup id="605a6b11-66bf-4d13-bee9-cbf291508e49"/>

# Group Query Methods

# accessQuery Method [/accessQuery/{?uri,callId,tenant}]

## accessQuery Method [POST]

The accessQuery method finds details of how a given URI or call ID (for example, one that could be associated with a coSpace) might be reached. One use is an external system discovering that a coSpace with URI "sales.meeting" would be reached via the SIP URI "sales.meeting@example.com".

Response format: The response includes one or more of the elements on the left within an "<accessQuery>" tag

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>uri</td>
    <td>String</td>
    <td>The full URI corresponding to the  uri supplied in the request</td>
  </tr>
  <tr>
    <td>webAddress</td>
    <td>String</td>
    <td>An HTTPS URI for web access to the callId supplied in the request</td>
  </tr>
  <tr>
    <td>ivr</td>
    <td>String</td>
    <td>A telephone number to reach an IVR that can be supplied with the callId  supplied in the request</td>
  </tr>
</table>


POST performed on the `/api/v1/accessQuery` node.

+ Attributes (accessQuery)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <accessQuery>
              <uri>ken@ciscolabs.com</uri>
              <webAddress>https://cms.ciscolabs.com/invited.sf?url=ken.space%40iridiumlabs.net</webAddress>
            </accessQuery>

# conversationIdQuery Method [/conversationIdQuery]

## conversationIdQuery Method [GET]

GET performed on the /api/v1/conversationIdQuery node.

The conversationIdQuery method finds whether a conversation with a specified ID has been found. Response format is follows:

<table>
  <tr>
    <th>Response elements</th>
    <th>Type/Value</th>
    <th>Description/Notes</th>
  </tr>
  <tr>
    <td>conversationId</td>
    <td>String</td>
    <td>The conversation id searched for</td>
  </tr>
  <tr>
    <td>found</td>
    <td>true|false</td>
    <td>Whether or not a conversation with the specified id has been found.</td>
  </tr>
</table>

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <conversationIdQuery>
              <conversationId>d9a0d47c-7c2f-4662-b828-416f45ad3573</conversationId>
              <found>false</found>
            </conversationIdQuery>

# uriUsageQuery Method [/uriUsageQuery]

## uriUsageQuery Method [POST]

The uriUsageQuery method finds the coSpace, user and/or IVR using the specified URI within the specified tenant.

POST performed on the `/api/v1/uriUsageQuery` node.

+ Attributes (uriusagequery)

+ Response 200 (text/xml)
    + Body

            <?xml version="1.0"?>
            <uriUsageQuery>
              <userId>43dfe9c0-834f-42bd-aa1c-bbf5017706ba</userId>
            </uriUsageQuery>

# Data Structures

## URI user part (string)
## URL (string)
## ID (string)

## coSpace
+ name: `PLACEHOLDER` (string) - The human-readable name that will be shown on clients’ UI for this coSpace
+ uri: `PLACEHOLDER` (URI user part) - The URI that a SIP system would use to dial in to this coSpace
+ secondaryUri (URI user part, optional)- The secondary URI for this coSpace – this provide the same functionality as the “uri” parameter, but allows more than one URI to be configured for a coSpace
+ callId (ID, optional) - The numeric ID that a user would enter at the IVR (or via a web client) to connect to this coSpace
+ cdrTag (string, optional) - Up to 100 characters of free form text to identify this coSpace in a CDR; when a "callStart" CDR is generated for a call associated with this coSpace, this tag will be written (as "cdrTag") to the callStart CDR. See the Meeting Server CDR Reference for details. The cdrTag can be modified in a PUT method
+ passcode (string, optional) - The security code for this coSpace
+ tenant (ID, optional) - If provided, associates the specified tenant with this coSpace
+ callLegProfile (ID, optional) - If provided, associates the specified call leg profile with this coSpace
+ callProfile (ID, optional) - If provided, associates the specified call profile with this coSpace
+ callBrandingProfile (ID, optional) - If provided, associates the specified call branding profile with this coSpace
+ requireCallId: `true` (boolean) - If this value is supplied as true, and no callId is currently specified for the coSpace, a new auto-generated call Id will be assigned
+ secret (string, optional) - If provided, sets the security string for this coSpace. If absent, a security string is chosen automatically if the coSpace has a callId value. This is the security value associated with the coSpace that needs to be supplied with the callId for guest access to the coSpace. Present from R1.7 onwards
+ regenerateSecret: `false` (boolean) - If provided as true - a new security value is generated for this coSpace and the former value is no longer valid (for instance, any hyperlinks including it will cease to work) If provided as false - do not generate a new secret value for this coSpace; this has no effect. This parameter is only valid for the modify (PUT) case. Present from R1.7 onwards
+ defaultLayout (defaultLayout) - The default layout to be used for new call legs in this coSpace. See Default layout options for the difference in naming between the API and the Web Admin interface
+ nonMemberAccess: `true` (boolean) - Controls whether non-members of the coSpace are able to have access to the coSpace. If not provided, behaviour defaults to true. (From version 2.0).
+ ownerJid (string) - Indicates the coSpace is owned by the user with the specified JID. (From version 2.0).
+ streamUrl (URL) - Indicates where the coSpace is streamed to, if streaming is initiated. (From version 2.1).
+ ownerAdGuid (ID) - If provided, the coSpace will be owned by the user with the given AD GUID. (From version 2.1).
+ meetingScheduler (string) - Name of person (not necessarily a user) who scheduled the creation of this coSpace, which if set is propagated to any call objects as the “ownerName” field. (From version 2.2).
+ panePlacementHighestImportance (number) - If panePlacementHighestImportance is provided, pane placement will be activated for this coSpace - the active range of importance values will be from "highest importance" down to 1(inclusive). (From version 2.4)

## defaultLayout (enum)
+ allEqual
+ speakerOnly
+ telepresence
+ stacked
+ allEqualQuarters - present from R1.7 onwards
+ allEqualNinths - present from R1.7 onwards
+ allEqualSixteenths - present from R1.7 onwards
+ allEqualTwentyFifths - present from R1.7 onwards
+ onePlusFive - present from R1.8 onwards
+ onePlusSeven - present from R1.8 onwards
+ onePlusNine - present from R1.8 onwards
+ automatic - From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic"

## coSpaceMember
+ userJid (ID) - JID of the user to be added as a member
+ callLegProfile (ID) - If provided, associates the specified call leg profile with this coSpace user
+ canDestroy: `false` (boolean) - Whether this user is allowed to delete the coSpace
+ canAddRemoveMember: `false` (boolean) - Whether this user is allowed to add or remove other members of the coSpace
+ canChangeName: `false` (boolean) - Whether this user is allowed to change the name of the coSpace
+ canChangeUri: `false` (boolean) - Whether this user is allowed to change the URI of the coSpace
+ canChangeCallId: `false` (boolean) - Whether this user is allowed to change the Call ID of the coSpace
+ canChangePasscode: `false` (boolean) - Whether this user is allowed to change the passcode of the coSpace
+ canPostMessage: `false` (boolean) - Whether this user is allowed to write messages in the coSpace
+ canRemoveSelf: `false` (boolean) - Whether this user is allowed to remove himself from the coSpace
+ canDeleteAllMessages: `false` (boolean) - Whether this user is allowed to delete all messages from the coSpace message board
+ canChangeNonMemberAccessAllowed `true` (boolean) - Whether this user is allowed to change the “nonmember access allowed setting” of the coSpace. From version 2.3.

## cospaceBulkParameterSets1
+ startIndex (number) - Index that coSpace mappings start from (inclusive)
+ endIndex (number) - Index that coSpace mappings end at (inclusive)
+ cospaceBulkParameterSet (ID) - Parameter set GUID that is going to be synchronised.
+ status - Status of the sync operation:
    + pending - the sync operation is in a queue waiting to execute
    + running - the sync operation is currently running
    + complete - the sync operation has successfully completed
    + failedCoSpaceUriConflict - the sync failed because it would involve creating a URI that conflicts with one that already exists
    + failedCallIdConflict - the sync failed because it would involve creating a call ID that conflicts with one that already exists
    + failedIndexRangeInvalid - the sync failed because the "startIndex" was greater than the "endIndex"
    + failedIndexRangeTooGreat - the sync failed because the difference between "endIndex" and "startIndex" was too large
    + failedNoSuchParameterSet - the "cospaceBulkParameterSet" refered to in the sync command did not exist
    + failed - the sync operation failed
+ removeAll (boolean) - If supplied, determines whether the sync will remove all entries that were created using the parameter set. Used only if you need to remove all spaces that were created previously. If set to true then no spaces will be created. If set to false, or omitted, then all spaces previously created using this parameter set will be removed and new spaces based on the new mappings will be created. If this parameter is not supplied in a create (POST) operation, it defaults to "false".

## cospaceBulkParameterSets
+ startIndex (number) - Index that coSpace mappings start from (inclusive)
+ endIndex (number) - Index that coSpace mappings end at (inclusive)
+ cospaceBulkParameterSet (ID) - Parameter set GUID that is going to be synchronised.
+ removeAll (boolean) - If supplied, determines whether the sync will remove all entries that were created using the parameter set. Used only if you need to remove all spaces that were created previously. If set to true then no spaces will be created. If set to false, or omitted, then all spaces previously created using this parameter set will be removed and new spaces based on the new mappings will be created. If this parameter is not supplied in a create (POST) operation, it defaults to "false".

## message
+ message (required) - The message string to be posted to the message board
+ from - A “from” name to be shown to message board viewers as the originator of the message

## accessMethod
+ uri (URI user part) - The URI to be used for dialing in via this access method
+ callID (ID) - The "call ID" to be used for connecting via this access method (using the IVR or Web Bridge login)
+ passcode - A passcode required for this access method
+ callLegProfile (ID) - The ID of a call leg profile to apply to calls in via this access method
+ secret - If provided, sets the security string for this coSpace access method. If absent, a security string is chosen automatically if the coSpace access method has a callId value. This is the security value associated with the coSpace access method that needs to be supplied with the callId for guest access to the coSpace via this access method.
This parameter is present from R1.7 onwards
+ regenerateSecret (boolean) - If provided as true - a new security value is generated for this coSpace access method and the former value is no longer valid (for instance, any hyperlinks including it will cease to work)
If provided as false - do not generate a new secret value for this coSpace access method; this has no effect. This parameter is only valid for the modify (PUT) case. This parameter is present from R1.7 onwards
+ scope (enum) - The visibility of this coSpace access method to users of Cisco Meeting App who are members of the coSpace
    + public - details of this coSpace access method can be made available to members of the coSpace
    + private - details of this coSpace access method will not be made available to members of the coSpace
+ importance (number) - The importance value assigned to all participants joining via this access method. Maximum value is 2,147,483,647. (From version 2.4)

## outboundDialPlanRule
+ domain - The domain to match in order to apply the dial plan rule; either a complete value (e.g. "example.com") or a “wildcarded” one (e.g. "*.com")
+ priority (number) - A numeric value which determines the order in which dial plan rules (including rules with wildcarded domains) will be applied. Rules with higher priority values are applied first
+ localContactDomain (string) - Used when forming an explicit contact domain to be used: if you leave this field blank then the localContactDomain is derived from the local IP address (as in previous releases)
+ localFromDomain (string) - Used when forming the calling party for outgoing calls using this dial plan rule
+ sipProxy (string) - The address (IP address or hostname) of the proxy device through which to make the call
+ trunkType (enum) - Used to set up rules to route calls out to third party SIP control devices such as CiscoExpressway, Avaya Manager or Lync servers. If set to lync or avaya then outgoing calls established that use this rule will be made as Lync or Avaya calls with some specialized behavior. SIP means that calls using this rule will be standard SIP calls
    + sip
    + lync
    + avaya
+ failureAction (enum) - Whether or not to try the next outbound dial plan rule if the current one did not result in a connected call
    + stop
    + continue
+ sipControlEncryption (enum) - Whether to enforce use of encrypted control traffic on calls made via this rule
    + auto - attempt to use encrypted control connections first, but allow fall back to unencrypted control traffic in the event of failure
    + encrypted - allow only encrypted SIP control traffic (TLS connections)
    + unencrypted - use only unencrypted traffic (TCP or UDP)
+ scope (enum) - The entities for which this outbound dial plan rule is valid
    + global - all Call Bridges are able to use this outbound dial plan rule to reach a matching domain
    + callBridge - this outbound dial plan rule is only valid for a single nominated Call Bridge
+ callBridge (ID) - If the rule has a scope of callBridge, this is the id of the Call Bridge for which the rule is valid
+ tenant (ID) - If a tenant is specified, this rule will only be used to make outbound call legs from calls associated with that tenant; otherwise, this rule may be used from any call. This parameter is present from R1.8 onwards
+ callRouting (enum) - (beta feature) This is the media routing that should be used for SIP calls originating from this rule
    + default - calls using this rule will use normal, direct, media routing
    + traversal - media for calls using this rule will flow via a TURN server

## inboundDialPlanRule
+ domain - The domain to match in order to apply the dial plan rule. Must be a complete value (e.g. "example.com")
+ priority (number) - inbound dial plan rules' configured domain values are always exactly matched against incoming calls. For the purposes of generating full URIs to advertise for incoming calls (especially cases where multiple rules are applicable) you can also set a numeric priority value - higher values will be preferred
+ resolveToUsers (boolean) - If set to true, calls to this domain will be matched against user JIDs (if a match is then found, that incoming call leg causes a "point to point" call to that user's client
+ resolveTocoSpaces (boolean) - If set to true, calls to this domain will be matched against coSpace URIs (if a match is then found, the incoming call leg becomes a participant in the coSpace)
+ resolveToIvrs (boolean) - If set to true, calls to this domain will be matched against configured IVR URIs (if a match is then found, the incoming call leg connects to that IVR)
+ resolveToLyncConferences (boolean) - If set to true, calls to this domain will be resolved to a Lync conference URI; if the resolution is successful, the incoming call leg becomes a participant in the Lync conference. If this parameter is not supplied in a create (POST) operation, it defaults to "false".
+ tenant (ID) - If specified, calls to this inbound domain will only be matched against user JIDs and coSpace URIs for the specified tenant

## forwardingDialPlanRule
+ matchPattern - The domain to match in order to apply the dial plan rule. Must be a complete domain name (e.g. "example.com") or a “wildcarded” one (e.g. *.com)
+ destinationDomain - Calls that are forwarded with this rule will have their destination domain rewritten to be this value
+ action (enum)
    + forward - If set to "forward" causes matching call legs to become point-to- point calls with a new destination
    + reject - "reject" causes the incoming call leg to be rejected
+ callerIdMode (enum) - When forwarding an incoming call to a new destination address, whether to preserve the original calling party's ID or to generate a new one. If this parameter is not supplied in a create (POST) operation, it defaults to "regenerate"
    + regenerate - default
    + preserve
+ priority (number) - Numeric value used when determining the order in which to apply forwarding dial plan rules; higher values will be applied first
+ tenant (ID) - If a tenant is specified, calls using this rule will be associated with the specified tenant. This parameter is present from R1.8 onwards

## call
+ coSpace (ID) - Specifies the coSpace for which the call is being instantiated
+ name (string) - The name of the new call
+ locked (boolean) - Allows the locking/unlocking of a meeting lobby in order to control the process of activating participants. Par- ticipants requiring activation are typically guests to a coSpace that have not yet been ‘activated’. Members of a coSpace are not affected, and can join the coSpace at any time. When a meeting is locked, the guests requiring activ- ation wait in the meeting lobby until the host unlocks the coSpace, at which point they are activated and join the coSpace. Participants that are already activated are NOT deactivated when the conference goes from the unlocked state to the locked state.
If set to true, new participants that need activation are not activated even if there are activators in the call. This parameter is present from version 1.8 onwards
+ recording (boolean) - If true, this call is currently being recorded. Present from version 1.9 onwards.
+ streaming (boolean) - If true, this call is currently being streamed. (From version 2.1).
+ allowAllMuteSelf (boolean) - If true, participants have the permission to mute and unmute themselves. Present from version 1.9 onwards
+ allowAllPresentationContribution: `false`(boolean) - If true, participants have the permission to present. If false, this permission is dependent on present- ationContributionAllowed in the call leg profile. Default is false. Present from version 1.9 onwards
+ joinAudioMuteOverride (boolean) - If true, new participants will be muted when joining the call. Present from version 1.9 onwards.
+ messageText (string) - Text to display to every participant in the call (only displayed if configured `messageDuration` is non zero). (From version 2.1)
+ messagePosition  - Position to display configured messageText on screen (for SIP endpoints).(From version 2.1)
    + top
    + middle
    + bottom
+ messageDuration - Time in seconds to display configured messageText on screen . Typing the string “permanent” will result in the string being permanently shown until it is reconfigured. (From version 2.1)
    + Number
    + permanent
+ activeWhenEmpty (boolean) - If true, this call is considered “active for load balancing” when no participants are present,. This means that the first call to the empty conference is preferentially load balanced. You can prevent the load balancing preferentially using the empty conferences by setting this parameter to false. If this parameter is not supplied in a create (POST) operation, it defaults to “true”. (From version 2.2)

## callProfile
+ participantLimit (number) - Sets the maximum number of participants for calls (coSpace instantiations or ad hoc calls) using this call profile that can be active simultaneously; new participants beyond this limit are not permitted
+ messageBoardEnabled (boolean) - If specified, sets whether a message board (chat) is allowed for this coSpace or ad hoc call
+ locked (boolean)
+ recordingMode (enum) - Controls how this coSpace or ad hoc call can be recorded. If this parameter is not supplied in a create (POST) operation, it defaults to "manual". Present from version 1.9 onwards
    + disabled - call is not recorded
    + manual - users can start/stop recording
    + automatic - call is automatically recorded and users cannot start/stop recording
+ lockMode (enum) - Defines the behavior of locking a call (From version 2.9)
    + all - when the call is locked any new participants won't be admitted into the meeting and will be in the lobby, this includes participants that don't need activation.
    + needsActivation - when the call is locked new participants that don't need activation will go into the call however new participants that need activation will go into the lobby. Participants that are memebers of the cospace will bypass the lock and enter the call even if they require activation as long as there is an activator already in the call.
+ sipRecorderUri (string) - The SIP recorder dial out URI. (From version 2.9)
+ sipStreamerUri (string) - The SIP streamer dial out URI. (From version 3.0)
+ streamingMode (enum) - Controls how this coSpace or ad hoc call can be streamed. If this parameter is not supplied in a create (POST) operation, it defaults to "manual".(From version 2.1)
    + disabled - call is not streamed
    + manual - users can start/stop streaming
    + automatic - call is automatically streamed and users cannot start/stop streaming
+ passcodeMode - Determines the behavior for passcode entry when a mixture of blank and set passcodes can be used to access a coSpace via the same URI/call Id.
    + required - requires passcode to be entered, with blank passcode needing to be explicitly entered
    + timeout - after an amount of time has elapsed with no passcode being entered, interpret this as a blank passcode. Amount of timeout is determined by value of "passcodeTimeout"
+ passcodeTimeout (number) - If specified, this is the amount of time, in seconds, that the Call Bridge will wait before before interpreting passcode as a blank passcode (if "passcodeMode" is set to "timeout"). Timeout time is measured from the end of the passcode prompt.
+ gatewayAudioCallOptimization (boolean) - If set to true, outgoing gateway call legs will be audio-only if the incoming call leg was audio-only. (From version 2.3)
+ lyncConferenceMode - Defines the behavior of the Call Bridge when connecting participants to Lync conferences.
    + dualHomeCluster - all the Call Bridges will share the same conference
    + dualHomeCallBridge - each Call Bridge will host their own conference and each will connect to the AVMCU
    + gateway - each participant will have dedicated connection to the Lync AVMCU server(From version 2.3).

## Layouts (enum)
+ allEqual
+ speakerOnly
+ telepresence
+ stacked
+ allEqualQuarters
+ allEqualNinths
+ allEqualSixteenths
+ allEqualTwentyFifths
+ onePlusFive
+ onePlusSeven
+ onePlusNine
+ automatic
+ onePlusN

## CreateParticipantforspecifiedcall
+ remoteParty (string) - For POST only, specifies the call leg’s address; this could be a SIP URI, a phone number, or a user JID to invite that user to the call
+ bandwidth (number) - For POST only, if supplied, sets the bandwidth for the call leg, in bits per second (e.g. 2000000 for 2Mbit/s). If not supplied, the Call Bridge configured value will be used
+ confirmation (boolean) - For POST only, if supplied, this overrides the automatic choice of whether to require a confirmation from the remote party to join the call. true - always require a confirmation from the remote party; typically this takes the form of a voice prompt requiring them to hit a key to join. false - never require a confirmation from the remote party; the remote party will be joined into the coSpace when they accept the incoming call
+ ownerId (ID) - If supplied must be an ID for the Meeting Server to associate with this call leg. This will be returned by the Meeting Server when the call leg is later queried and therefore should be a value that has meaning to the requestor
+ chosenLayout (Layouts) - This parameter overrides the prevailing default layout for this call leg. This parameter is present from version 1.8 onwards. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic"
+ callLegProfile (ID) - If provided, associates the specified call leg profile with this call leg. You can also supply individual values for all parameters that can be part of a call leg profile to override this call leg profiles’ value. See below
+ needsActivation
+ defaultLayout (Layouts) - If provided changes the call leg to use the specified video stream layout. Setting this parameter will only have an effect on those call legs for which the user does not already have layout control: that is, SIP calls (including Lync). (The layout for call legs that correspond to Cisco Meeting App connections will always be chosen by the user of that Meeting App.) Note: that the callLegProfile "defaultLayout" parameter replaces an equivalent "layout" parameter. If both are supplied, defaultLayout takes precedence. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic".
+ participantLabels
+ presentationDisplayMode
+ presentationContributionAllowed (boolean)
+ presentationViewingAllowed (boolean)
+ endCallAllowed (boolean)
+ muteOthersAllowed: `false` (boolean)
+ videoMuteOthersAllowed: `false` (boolean)
+ muteSelfAllowed: `true` (boolean)
+ videoMuteSelfAllowed: `true` (boolean)
+ changeLayoutAllowed: `true` (boolean)
+ joinToneParticipantThreshold (number)
+ leaveToneParticipantThreshold
+ videoMode
+ rxAudioMute
+ txAudioMute
+ rxVideoMute
+ txVideoMute
+ sipMediaEncryption
+ audioPacketSizeMs
+ deactiviationMode
+ deactivationModeTime
+ telepresenceCallsAllowed
+ sipPresentationChannelEnabled (boolean)
+ bfcpMode (boolean)
+ layout (Layouts) - This parameter is provided for backward compatibility with early versions of Meeting Server - it has the equivalent functionality to changing "defaultLayout", and if both are supplied then "defaultLayout" will take precedence
+ disconnectOthersAllowed (boolean)
+ addParticipantAllowed (boolean) - (From version 2.3)
+ qualityMain - Restricts the maximum negotiated main video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and framerate. Note that call legs may operate at lower resolutions or framerates due to endpoint limitations or overall Call Bridge load.
    + 'unrestricted' - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or frame rate
    + max1080p30 - restricts the bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources, for example 1280x720 screen size at 60 frames per second
    + max720p30 - restricts (string)- A sequence of DTMF key press commands to send to the far end either when the participant is initially created or during the call. The DTMF sequence is played out from the Call Bridge where the call for this participant is placed. In the supplied sequence, you can use the digits 0 to 9, * and #, as well as one or more comma characters (",") which add a pause between digits. (From version 2.4) the bridge to negotiating at most 1280x720 screen size at 30 frames per second or equivalent transcoding resources
    + max480p30 - restricts the bridge to negotiating at most 868x480 screen size at 30 frames per second or equivalent transcoding resources.(From version 2.2)
+ qualityPresentation - Restrict the maximum negotiated presentation video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and frame rate. This only affects legs which use a separate presentation stream.
    + unrestricted - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or framerate
    + max1080p30 - restricts the Call Bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources
    + max720p5 - restricts the Call Bridge to negotiating at most 1280x720 screen size at 5 frames per second or equivalent transcoding resources. (From version 2.2)
+ participantCounter - Controls the behavior of the on-screen participant counter.(from version 2.2)
    + never - never show an on-screen participant count value
    + auto - show the on-screen participant count value when appropriate; typically this will be to indicate that there are additional participants present that you cannot currently see
    + always - always show the on-screen participant count value
+ callBridge (ID) - If supplied, attempt to add the participant from the specified Call Bridge (from version 2.2).
+ callBridgeGroup (ID) - If supplied, attempt to add the participant from the specified Call Bridge Group (from version 2.2).
+ importance (number) - The importance value of the participant to be created. (From version 2.2)
+ nameLabelOverride (string) - (From version 2.4) maximum of 50 bytes of UTF-8. If supplied, overrides the name for this participant. Setting an empty string clears the value and restores the original name. Overriding the name of a participant and its associated call leg(s) is interchangeable and affects both; the latest change takes precedence. It changes the name of the participant in the following: on-screen name label viewed by other conference participants, ActiveControl roster list,  any place that the Meeting App sees the, name of the participant in a call, CDR records, where the name appears in the web interface.
+ dtmfSequence (string)-  (From version 2.4) A sequence of DTMF key press commands to send to the far end either when the participant is initially created or during the call. The DTMF sequence is played out from the Call Bridge where the call for this participant is placed. In the supplied sequence, you can use the digits 0 to 9, * and #, as well as one or more comma characters (",") which add a pause between digits.
+ controlRemoteCameraAllowed (boolean) - Allows the participant to use Far End Camera Control (FECC).(From version 2.8)
+ layoutTemplate (ID) - If specified, associates the layout template for the participant.(From version 2.8)
+ audioGainMode (string) - Set to agc to enable Automatic Gain Control for the participant.(From version 2.8). Note: AGC will be applied to any endpoint (physical endpoints or soft clients) connected directly to the Meeting Server. It will not be applied to TIP calls or AVMCU (because this is a mixed audio stream). Skype participants connected to AVMCU will not be subject to any AGC as the AVMCU controls the audio. AGC is not applied to distribution links between Meeting Servers because this is a mixed audio stream.
+ deactivated (boolean) - Activates participant (put them straight into the call, bypassing the lobby). (From version 2.9)

## callLeg
+ remoteParty* (string) - For POST only, specifies the call leg’s address; this could be a SIP URI, a phone number, or a user JID to invite that user to the call
+ bandwidth (number) - For POST only, if supplied, sets the bandwidth for the call leg, in bits per second (e.g. 2000000 for 2Mbit/s). If not supplied, the Call Bridge configured value will be used
+ confirmation (boolean) - For POST only, if supplied, this overrides the automatic choice of whether to require a confirmation from the remote party to join the call. true - always require a confirmation from the remote party; typically this takes the form of a voice prompt requiring them to hit a key to join. false - never require a confirmation from the remote party; the remote party will be joined into the coSpace when they accept the incoming call
+ ownerId (ID) - If supplied must be an ID for the Meeting Server to associate with this call leg. This will be returned by the Meeting Server when the call leg is later queried and therefore should be a value that has meaning to the requestor
+ chosenLayout (Layouts) - This parameter overrides the prevailing default layout for this call leg. This parameter is present from version 1.8 onwards. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic"
+ dtmfSequence - A sequence of DTMF key press commands to send to the far end either when the call leg initially connects, or during the call. In the supplied sequence, you can use the digits 0 to 9, * and #, as well as one or more comma characters (",") which add a pause between digits. this parameter is present from ver- sion 1.9 onwards
+ callLegProfile (ID) - If provided, associates the specified call leg profile with this call leg. You can also supply individual values for all parameters that can be part of a call leg profile to override this call leg profiles’ value. See below
+ needsActivation
+ defaultLayout (Layouts) - If provided changes the call leg to use the specified video stream layout. Setting this parameter will only have an effect on those call legs for which the user does not already have layout control: that is, SIP calls (including Lync). (The layout for call legs that correspond to Cisco Meeting App connections will always be chosen by the user of that client.) Note: that the callLegProfile "defaultLayout" parameter replaces an equivalent "layout" parameter in early (pre- 1.2) releases. If both are supplied, defaultLayout takes precedence. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic".
+ participantLabels
+ presentationDisplayMode
+ presentationContributionAllowed (boolean)
+ presentationViewingAllowed (boolean)
+ endCallAllowed (boolean)
+ muteOthersAllowed: `false` (boolean)
+ videoMuteOthersAllowed: `false` (boolean)
+ muteSelfAllowed: `true` (boolean)
+ videoMuteSelfAllowed: `true` (boolean)
+ changeLayoutAllowed: `true` (boolean)
+ joinToneParticipantThreshold (number)
+ leaveToneParticipantThreshold
+ videoMode
+ rxAudioMute
+ txAudioMute
+ rxVideoMute
+ txVideoMute
+ sipMediaEncryption
+ audioPacketSizeMs
+ deactiviationMode
+ deactivationModeTime
+ telepresenceCallsAllowed (boolean)
+ sipPresentationChannelEnabled (boolean)
+ bfcpMode (boolean)
+ layout (Layouts) - This parameter is provided for backward compatibility with versions prior to 1.2 - it has the equivalent functionality to changing "defaultLayout", and if both are supplied then "defaultLayout" will take precedence
+ disconnectOthersAllowed (boolean)
+ addParticipantAllowed (boolean) - From version 2.3 and later
+ qualityMain - Restricts the maximum negotiated main video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and framerate. Note that call legs may operate at lower resolutions or framerates due to endpoint limitations or overall Call Bridge load.
    + `unrestricted` - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or frame rate
    + max1080p30 - restricts the bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources, for example 1280x720 screen size at 60 frames per second
    + max720p30 - restricts the bridge to negotiating at most 1280x720 screen size at 30 frames per second or equivalent transcoding resources
    + max480p30 - restricts the bridge to negotiating at most 868x480 screen size at 30 frames per second or equivalent transcoding resources.(From version 2.2)
+ qualityPresentation - Restrict the maximum negotiated presentation video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and frame rate. This only affects legs which use a separate presentation stream.
    + `unrestricted` - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or framerate
    + max1080p30 - restricts the Call Bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources
    + max720p5 - restricts the Call Bridge to negotiating at most 1280x720 screen size at 5 frames per second or equivalent transcoding resources. (From version 2.2)
+ participantCounter - Controls the behavior of the onscreen participant counter. (From version 2.2)
    + never - never show an onscreen participant count value
    + auto - show the onscreen participant count value when appropriate. Typically this will be to indicate that there are additional participants present that you cannot currently see.
    + always - always show the onscreen participant count value
+ nameLabelOverride (string) -  (maximum of 50 bytes of UTF-8)(From version 2.4) If supplied, overrides the name for this call leg. Setting an empty string clears the value and restores the original name. Overriding the name of a participant and its associated call leg(s) is interchangeable and affects both; the latest change takes precedence. It changes the name of the participant in the following: on-screen name label viewed by other conference participants, ActiveControl roster list, any place that the Meeting App sees the name of the participant in a call,  CDR records, where the name appears in the web interface.
+ controlRemoteCameraAllowed (boolean) - Determines if call legs are allowed to control a remote participant's camera (using FECC). (From version 2.8)
+ layoutTemplate (ID) - If specified, associates the layout template with this call leg. (From version 2.8)
+ audioGainMode (string) - If agc is selected, automatic gain control (AGC) will be applied to this call leg. (From version 2.8). Note: AGC will be applied to any endpoint (physical endpoints or soft clients) connected directly to the Meeting Server. It will not be applied to TIP calls or AVMCU (because this is a mixed audio stream). Skype participants connected to AVMCU will not be subject to any AGC as the AVMCU controls the audio. AGC is not applied to distribution links between Meeting Servers because this is a mixed audio stream.

## ParticipantProperties
+ rxAudioMute (boolean) - If true, mute the receiving of audio from all endpoints.
+ txAudioMute (boolean) - If true, mute the transmission of audio from all endpoints.
+ rxVideoMute (boolean) - If true, mute (block) the receiving of video from all endpoints.
+ txVideoMute (boolean) - If true, mute (block)the transmission of video from all endpoints.
+ layout (Layouts)
+ importance (number) - Set importance of all participants.
+ filterIds - Optional comma-separated list of up to 20 participant ids to be either included or excluded from this operation (depending on value of 'mode' parameter. operation See More information on using bulk operation on participants. (From version 2.4)
+ mode - (From version 2.4) If this parameter is not supplied in a create (POST) operation, it defaults to "exclude."
    + `exclude` - the participant ids in filterIds are excluded from the operation
    + selected - only the participant ids in filterIds are included in the operation See More information on using bulk operation on participants below.


## callLegProfile
+ needsActivation: `false` (boolean) - If set to "true", the participant is unable to receive or contribute audio and video until one or more “full/activator” participants join.
+ defaultLayout (Layouts) - The default layout to be used for call legs using this call leg profile. Note: From R1.9, the "allEqual" layout reverts to the pre-1.7 arrangement where the layout expands from a 4 person view up to a 25 person view, with all participants shown at equal size. The "allEqual" layout that was introduced in R1.7 is renamed "automatic".
+ changeLayoutAllowed (boolean) - If set to “true” all legs using this call leg profile are allowed to change their screen layout on a SIP endpoint. This parameter is present from version 1.8 onwards
+ participantLabels (boolean) - If set to "true", call legs using this call leg profile will have par- ticipant pane labels shown on their video panes.
+ presentationDisplayMode (enum) - singleStream provides a single composited content+video BFCP stream rather than outgoing content being in a separate stream
    + dualStream
    + singleStream
+ presentationContributionAllowed (boolean) - If true, the participant using the call leg can contribute content
+ allowAllPresentationContributionAllowed (boolean) - Whether call legs using this call leg profile are allowed to change the permission to present of all call legs. Present from version 1.8 onwards
+ presentationViewingAllowed (boolean) - If true, the participant using the call leg can view content contributed by others
+ endCallAllowed (boolean) - If true, the participant using the call leg profile can end the meeting for everyone
+ muteOthersAllowed: `false` (boolean) - If true, the participant using the call leg profile can mute other participants
+ changeJoinAudioMuteOverrideAllowed (boolean) - Whether call legs using this call leg profile are allowed to set the initial mute state of new par- ticipants. Present from version 1.8 onwards
+ videoMuteOthersAllowed: `false` (boolean) - Whether call legs using this call leg profile are allowed to mute or unmute their own audio
+ muteSelfAllowed: `true` (boolean) - Whether call legs using this call leg profile are allowed to mute or unmute (block/unblock) the video of other participants
+ allowAllMuteSelfAllowed (boolean) - Whether or not call legs using this call leg profile are allowed to change the permission of all call legs to mute and unmute them- selves. Present from version 1.9 onwards
+ videoMuteSelfAllowed: `true` (boolean) - Whether call legs using this call leg profile are allowed to mute or unmute (block/unblock) their own video
+ joinToneParticipantThreshold (number) - Number of participants up to which a "join tone" will be played (maximum 100, a value of 0 “disables” the feature). Note:Cisco Meeting App users do not receive these audio indications because the Participant List (Roster List) provides a visual indication of who is joining and leaving.
+ leaveToneParticipantThreshold (number) - Number of participants up to which a "leave tone" will be played out (a value of 0 “disables” the feature)
+ videoMode (enum) - If disabled is set then call legs using this call leg profile will be audio-only, or audio and content – depending on the values for presentationViewingAllowed and txAudioMute. No main stream video will be shown. For devices which show content in the main video stream, content but no participant video will be shown in the main video stream when appropriate
    + auto
    + disabled
+ rxAudioMute (boolean) - If true, other participants will not hear audio from call legs using this call leg profile
+ txAudioMute (boolean) - If true, audio to call legs using this call leg profile will be muted
+ rxVideoMute (boolean) - If true, contributing ("camera") video from call legs using this call leg profile will not be seen by other participants
+ txVideoMute (boolean) - If true, video streams to call legs using this call leg profile will be muted (a SIP endpoint's screen just shows the logo, for example, and Cisco Meeting App will be sent no video at all)
+ sipMediaEncryption (enum) - Same as Web Admin Interface setting
    + optional
    + required
    + prohibited
+ audioPacketSizeMs (number) - Numeric value for preferred packet size for outgoing audio streams (in milliseconds, the default value is 20ms)
+ deactivationMode (enum) - Action for "needsActivation" call legs when the last "activator" leaves
    + deactivate
    + disconnect
    + remainActivated
+ deactivationModeTime (number) - Number of seconds after the last "activator" leaves before which the deactivationMode action is taken
+ telepresenceCallsAllowed (boolean) - If true, a call leg using this call leg profile is allowed to make TIP (Telepresence Interoperability Protocol) calls
+ sipPresentationChannelEnabled (boolean) - If true, a call leg using this call leg profile is permitted to perform presentation video channel operations
+ bfcpMode (enum) - If presentation video channel operations are enabled for SIP calls, this setting determines the Call Bridge's BFCP behaviour
    + serverOnly - this is the normal setting for a conferencing device, and is intended for use with BFCP client mode devices (for instance, SIP endpoints)
    + serverAndClient - this setting allows the Call Bridge to operate in either BFCP client or BFCP server mode in calls with remote devices. This can allow improved presentation video sharing with a remote conference- hosting device such as a third party MCU
+ callLockAllowed (boolean) - Determines whether or not call legs using this call leg profile are allowed to lock the call. Present from version 1.8 onwards
+ setImportanceAllowed (boolean) - Determines whether or not call legs using this call leg profile are allowed to change the importance of participants in the call. (From version 2.3)
+ recordingControlAllowed (boolean) - Whether call legs using this call leg profile are allowed to start/stop recording the call. Present from version 1.9 onwards
+ streamingControlAllowed (boolean) - If true, call legs using this call leg profile are allowed to start/stop streaming the call. (From version 2.1)
+ name (string) - Name of profile. This parameter is present from version 2.0 onwards.
+ maxCallDurationTime (number) - The maximum amount of time in seconds that the call leg will exist. This parameter is present from version 2.0 onwards.
+ qualityMain - Restricts the maximum negotiated min video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and framerate. Note that call legs may operate at lower resolutions or framerates due to endpoint limitations or overall Call Bridge load. (From version 2.2)
    + unrestricted - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or frame rate
    + max1080p30 - restricts the bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources, for example 1280x720 screen size at 60 frames per second
    + max720p30 - restricts the bridge to negotiating at most 1280x720 screen size at 30 frames per second or equivalent transcoding resources
    + max480p30 - restricts the bridge to negotiating at most 868x480 screen size at 30 frames per second or equivalent transcoding resources.
+ qualityPresentation - Restrict the maximum negotiated presentation video call quality for this call leg based on limiting transcoding resources. Specified using a typical resolution and frame rate. This only affects legs which use a separate presentation stream. (From version 2.2)
    + unrestricted - this is the default setting if not specified, and matches the behavior of older Call Bridge versions, where no restrictions are placed on resolution or framerate
    + max1080p30 - restricts the Call Bridge to negotiating at most 1920x1080 screen size at 30 frames per second or equivalent transcoding resources
    + max720p5 - restricts the Call Bridge to negotiating at most 1280x720 screen size at 5 frames per second or Calequivalent transcoding resources .
+ participantCounter - Controls the behavior of the onscreen participant counter. (From version 2.2)
    + never - never show an onscreen participant count value
    + auto - show the onscreen participant count value when appropriate. Typically this will be to indicate that there are additional participants present that you cannot currently see.
    + always - always show the onscreen participant count value
+ controlRemoteCameraAllowed (boolean) -   Determines if call legs using this call leg profile are allowed to control a remote participant's camera (via FECC). (From version 2.8)
+ layoutTemplate (ID) - If specified, associates the layout tem-plate with this call leg profile. (From version 2.8)
+ audioGainMode (string) - If agc is selected, automatic gain control (AGC) will be applied to this call leg profile. (From version 2.8). Note: AGC will be applied to any endpoint (physical endpoints or soft clients) connected directly to the Meeting Server. It will not be applied to TIP calls or AVMCU (because this is a mixed audio stream). Skype participants connected to AVMCU will not be subject to any AGC as the AVMCU controls the audio. AGC is not applied to distribution links between Meeting Servers because this is a mixed audio stream.

## dialTransform
+ type (enum) - The type of preprocessing to apply to this transform
    + raw - produces one component - $1
    + strip - removes dots, dashes, spaces and produces one component - $1
    + phone - An international phone number - produces two components $1county code and $2number
+ match - see match in the documentation
+ transform - see transform in the documentation
+ priority (number) - The priority this transform rule should have. Rules with higher priorities are applied first
+ action (enum) - The action to take if this rule matches
    + accept
    + acceptPhone
    + deny

## callBrandingProfile
+ invitationTemplate (URL) - The HTTP or HTTPS URL of the invitation template text which clients will use when constructing textual invitations. Refer to the Meeting Server Customization Guide for details on how to customize the text within the invitation. This parameter is present from version 1.8 onwards.
+ resourceLocation (URL) - The HTTP or HTTPS URL that the Call Bridge call branding files will be retrieved from. This is the "directory" in which the individual audio and graphic files reside. Details of these files are in the Meeting Server Customization Guide.

## dtmfProfile
+ lockCall (string) - DTMF sequence to be used by a participant to lock the call; new call legs that require activation will not be activated even if an activator has joined the call. This parameter is present from version 1.8 onwards
+ unlockCall(string)  - DTMF sequence to be used by a participant to unlock the call; this will activate all call legs that need activation if there is an activator in the call. This parameter is present from version 1.8 onwards
+ nextLayout (string) - DTMF sequence to be used by a participant to change the participant's video layout to the next one in the list. This parameter is present from version 1.8 onwards
+ previousLayout (string) - DTMF sequence to be used by a participant to change the participant's video layout to the previous one in the list. This parameter is present from version 1.8 onwards
+ muteSelfAudio (string) - DTMF sequence to be used by a participant to mute the audio being contributed to their call
+ unmuteSelfAudio (string) - DTMF sequence to be used by a participant to unmute their audio
+ toggleMuteSelfAudio (string) - DTMF sequence to be used by a participant to toggle between mute and unmute audio from themselves
+ muteAllExceptSelfAudio (string) - DTMF sequence to be used by a participant to mute all other participants in the call
+ unmuteAllExceptSelfAudio (string)  - DTMF sequence to be used by a participant to unmute all other participants in the call
+ startRecording (string) - DTMF sequence to be used by a participant to start recording the active call. Present from version 1.9 onwards
+ stopRecording (string) - DTMF sequence to be used by a participant to stop recording the active call. Present from version 1.9 onwards
+ allowAllMuteSelf (string) - DTMF sequence to be used by a participant to allow all participants to mute and unmute them- selves. Sets allowAllMuteSelf in the Call object to true. Present from version 1.9 onwards
+ cancelAllowAllMuteSelf (string) - DTMF sequence to be used by a participant to can- cel the permission to allow all participants to mute and unmute themselves. Sets allowAllMuteSelf in the Call object to false. Present from version 1.9 onwards
+ allowAllPresentationContribution(string)  - DTMF sequence to be used by a participant to allow all participants to present. Present from ver- sion 1.9 onwards
+ cancelAllowAllPresentationContribution (string) - DTMF sequence to be used by a participant to can- cel the permission for all participants to present. Present from version 1.9 onwards
+ muteAllNewAudio(string)  - DTMF sequence to be used by a participant to mute all new participants. Sets joinAu- dioMuteOverride Call object to true. Present from version 1.9 onwards
+ unmuteAllNewAudio (string) - DTMF sequence to be used by a participant to unmute all new participants. . Sets joinAu- dioMuteOverride Call object to false. Present from version 1.9 onwards
+ defaultMuteAllNewAudio (string) - DTMF sequence to be used by a participant to use the audio mute value from the call leg profile for new participants. Present from version 1.9 onwards
+ muteAllNewAndAllExceptSelfAudio(string)  - DTMF sequence to be used by a participant to mute all new participants and all other participants in the call. Sets joinAudioMuteOverride in the call object to `true` and mutes all call legs except for the issuer. This requires ‘muteOthersAllowed’ to be ‘true’ in the call leg profile of the issuer. Present from version 1.9 onwards
+ unmuteAllNewAndAllExceptSelfAudio(string)  - DTMF sequence to be used by a participant to unmute all new participants and all other par- ticipants in the call. Sets joinAudioMuteOverride in the call object to `false` and unmutes all call legs except for the issuer. This requires ‘muteOth- ersAllowed’ to be ‘true’ in the call leg profile of the issuer. Present from version 1.9 onwards
+ endCall (string) - DTMF sequence to be used by a participant to end the call; this will disconnect all participants including the participant who initiated the operation
+ getTotalParticipantCount (string) - DTMF sequence to be used by a participant to trigger an audio prompt announcing the number of participants in the call. (From version 2.8)

## ivr
+ uri (URI user part) - The URI to be used for this IVR
+ tenant (ID) - If specified, calls to this IVR will only be able to join coSpaces associated with the specified tenant. If no tenant is supplied, calls to this IVR will be able to join any call on the system that has a call ID configured
+ tenantGroup (ID) - Calls to this IVR will only be able to join coSpaces associated with tenants within the specified tenant group. If no tenant group is supplied, calls to this IVR will only be able to join coSpaces without a tenant, or associated with a tenant in no tenant group. This parameter is present from version 1.8 onwards
+ ivrBrandingProfile (ID) - If supplied, specifies an IVR branding profile to be used for calls to this IVR - an IVR branding profile supplied here will take precedence over any top-level or tenant-level IVR branding profile
+ resolveCoSpaceCallIds: `true` (boolean) - Whether calls to this IVR will accept coSpace and coSpace access method call IDs for the purpose of allowing callers to join coSpaces
+ resolveLyncConferenceIds: `false` (boolean) - Whether calls to this IVR will accept IDs to be resolved to Lync scheduled conference IDs

## ivrBrandingProfile
+ resourceLocation (URL) - The HTTP or HTTPS URL that the IVR branding files will be retrieved from. This should be the "directory" in which the individual audio and graphic files reside. Details of these files are in the Meeting Server Customization Guide

## important
+ importance (number) - Set the importance of this participant already in a conference. For example to 1. (From version 2.2)
+ dtmfSequence (string) - Set DTMF sequence to get played to this participant. (From version 2.4)
+ nameLabelOverride (string) - Override the name of this participant. (From version 2.4)
+ deactivated (boolean) - Activates participant (allow them into the call from the lobby). (From version 2.9)

## userProfile
+ cancreateCoSpaces (boolean) - Whether a user associated with this user profile is permitted to create new coSpaces
+ canCreateCalls (boolean) - Whether a user associated with this user profile is permitted to create new calls
+ canUseExternalDevices (boolean) - Whether a user associated with this user profile is permitted to use slave SIP devices
+ canMakePhoneCalls (boolean) - Whether a user associated with this user profile will be displayed the option to make phone calls in the client
+ userToUserMessagingAllowed (boolean) - Whether a user associated with this user profile will be allowed to send and receive messages when in a point to point call with another user

## cdrReceiver
+ uri

## systemProfile
+ callLegProfile (ID) - Sets the top level call leg profile to the one with the specified ID
+ callProfile (ID) - Sets the top level call profile to the one specified
+ dtmfProfile (ID) - Sets the top level DTMF profile to the one specified
+ userProfile (ID) - Sets the top level user profile to the one specified
+ ivrBrandingProfile (ID) - Sets the top level IVR branding profile to the one specified
+ callBrandingProfile (ID) - Sets the top level call branding profile to the one specified

## turnServer
+ serverAddress - The address for the Call Bridge to use to reach this TURN server
+ clientAddress - The address that Cisco Meeting Apps should use to reach this TURN server
+ username - The username to use when making allocations on this TURN server
+ password - The password to use when making allocations on this TURN server
+ type (enum) - The TURN server type
    + acano/cms - Select “cms” or “acano” if using the TURN server within the Meeting Server; uses UDP/TCP port 3478 to connect to the TURN server.
    + expressway - Select “expressway” if connecting to the Cisco Expressway rather than using the TURN server in the Meeting Server; uses UDP/TCP port 3478.
    + lyncEdge - Select “lyncEdge” if connecting to a Lync or Skype for Business deployment; uses port 443 to connect to the TURN server.
    + standard - If the “type” field is not set it defaults to “standard”; uses port 443 to connect to the TURN server.
+ numRegistrations (number) - The number of registrations that should be made to this TURN server. This parameter is only meaningful for configured Lync Edge servers
+ tcpPortNumberOverride (number) - An optional override for the port number to use when using this TURN server for TCP media (for example, Lync present- ation call legs). This parameter is not needed for configured Lync Edge servers, where the TCP port number can always be determined automatically.
+ callBridge (ID) - If specified, associate this TURN server with the supplied Call Bridge (from version 2.1)
+ callBridgeGroup (ID) - If specified, associate this TURN server with the supplied Call Bridge group (from version 2.1)

## WebBridge

+ url (URL) - The address for the Call Bridge to use to reach this Web Bridge
+ resourceArchive (URL) - The address of any customization archive file for the Call Bridge to use or the background image and logo branding on the login page for this Web Bridge Note: When specifying the path any port value other than :80 for http and :443 for https is considered invalid.
+ tenant (ID) - If you supply the ID for a tenant to associate with this Web Bridge, only call IDs for coSpaces owned by that tenant can be joined through it.
+ tenantGroup (ID) - Only coSpaces associated with tenants within the specified tenant group can be accessed by call ID through this web bridge. If no tenant group is supplied, only coSpaces without a tenant, or associated with a tenant in no tenant group, can be accessed by call ID.
+ idEntryMode - Controls coSpace access via call ID and passcode; If this parameter is not supplied in a create (POST) operation, it defaults to secure. Note: Legacy mode is deprecated from version 2.3. If upgrading a Web Bridge from a 2.2 or earlier release that is configured to use 'legacy' mode, the Web Bridge will default to 'secure' mode in 2.3.
    + disabled - access via call ID and passcode is disabled
    + secure - both the call ID and the passcode must be specified to look up and join a coSpace.
    + legacy - only a call ID need be specified to look up a coSpace. (Deprecated in 2.3) Note: Legacy mode is deprecated from version 2.3. If upgrading a Web Bridge from a 2.2 or earlier release that is configured to use 'legacy' mode, the Web Bridge will default to 'secure' mode in 2.3.
+ allowWeblinkAccess - Whether this Web Bridge will allow users to access coSpace (and coSpace access methods) as guests by following a weblink. If this parameter is not supplied in a create (POST) operation, it defaults to true.
+ showSignIn (boolean) - Whether this Web Bridge will display the sign in tab on the index page. If this parameter is not supplied in a create (POST) operation, it defaults to true.
+ resolveCoSpace CallIds (boolean) - Whether this Web Bridge should accept coSpace and coSpace access method call IDs for the purpose of allowing visitors to join coSpaces. If this parameter is not supplied in a create (POST) operation, it defaults to true.
+ resolveLync ConferenceIds (boolean) - Whether this Web Bridge will accept IDs to be resolved to Lync scheduled conference IDs. If this parameter is not supplied in a create (POST) operation, it defaults to false.
+ callBridge (ID) - If specified, associate this Web bridge with the supplied Call Bridge (from version 2.1)
+ callBridgeGroup (ID) - If specified, associate this Web bridge with the supplied Call Bridge group (from version 2.1)

## call bridge
+ name (string) - The unique name for this configured clustered Call Bridge
+ address (string) - The address at which this Call Bridge in the cluster can be reached
+ sipDomain (string) - The SIP domain to use for establishing peer-to-peer links with this clustered Call Bridge
+ callBridgeGroup (ID) - If specified, associate this Call Bridge with the supplied Call Bridge group (from version 2.1)

## call bridge group
+ name (string) - Optional name of the Call Bridge group
+ loadBalancingEnabled: `false` (boolean) - Whether or not Call Bridges in this Call Bridge group will attempt to load balance calls within the group. If this parameter is not supplied in a create (POST) operation, it defaults to "false" (from version 2.1)
+ loadBalanceLyncCalls: `false` (boolean) - Whether or not incoming calls to coSpaces from Lync are load balanced within the Call Bridge Group. If this parameter is not supplied in a create (POST) operation, it defaults to "false" (from version 2.1)
+ loadBalanceOutgoingCalls: `false` (boolean) - Whether or not calls from coSpaces should be load balanced within the group. If this parameter is not supplied in a create (POST) operation, it defaults to "false" (from version 2.2)
+ loadBalanceUserCalls: `true` (boolean) - Whether or not Cisco Meeting App calls to coSpaces should be load balanced within the group. If this parameter is not supplied in a create (POST) operation, it defaults to "true" (from version 2.3)
+ loadBalanceIndirectCalls: `false`(boolean) - Whether or not incoming calls with Record-Route SIP headers should be load balanced within the group. If this parameter is not supplied in a create (POST) operation, it defaults to "false" (from version 2.4)

## xmpp
+ uniqueName (string) - The name by which this Call Bridge should be known by the XMPP server
+ domain (string) - The domain that the Call Bridge should use for XMPP
+ sharedSecret (string) - The password value set by the XMPP server for this Call Bridge when it was configured
+ serverAddressOverride (string) - If supplied, the Call Bridge will connect to an XMPP server at the specified address rather than using the "domain" to discover it (via DNS).

## call bridge cluster
+ uniqueName (string) - The name by which this call bridge is known within the call bridge cluster; this should match the "name" value for its entry in the /callBridges table.
+ peerLinkBitRate (number) - If supplied. the maximum media bit rate to use for call distribution connections between call bridges.
+ participantLimit (number) - If supplied, the maximum number of participants allowed to be active on this Call Bridge; when this limit is reached, new incoming SIP calls will be rejected.
+ loadLimit (number) - If supplied, the maximum number of load units to be used on this Call Bridge (from version 2.1).
+ newConferenceLoadLimitBasisPoints (number) - Basis points (1 in 10,000) of the load limit at which incoming calls to non-active conferences will be disfavored, ranges from 0 to 10000, defaults to 5000 (50% load). Value is scaled relative to load limit. (From version 2.1).
+ existingConferenceLoadLimitBasisPoints (number) - Basis points of the load limit at which incoming calls to non-active conferences will be rejected, ranges from 0 to 10000, defaults to 5000 (from version 2.1).

## recorder
+ url (URL) - The HTTP or HTTPS URL address that theCall Bridge should use to reach this recorder.
+ callBridge (ID) - If specified, associate this recorder with the supplied Call Bridge (from version 2.1).
+ callBridgeGroup (ID) - If specified, associate this recorder with the supplied Call Bridge group (from version 2.1).

## streamer
+ url(URL) - The HTTP or HTTPS URL address that theCall Bridge should use to reach this streamer.
+ callBridge (ID) - If specified, associate this streamer with the supplied Call Bridge.
+ callBridgeGroup (ID) - If specified, associate this streamer with the supplied Call Bridge group.

## compatibility
+ sipUdt - Controls whether use of UDT is allowed within SIP calls. Active Control uses UDT transport for certain features, for example sending roster lists to endpoints, allowing users to disconnect other participants while in call, and inter-deployment participant lists. |(From version 2.1)
    + true - UDT is allowed within SIP calls
    + false - UDT is not allowed within SIP calls
+ sipMultistream - Controls whether use of Cisco multistream protocols is allowed within SIP calls. The dual video feature for Cisco dual endpoints uses this protocol. If this is disabled, then no calls will be able to use dual screen video. (From version 2.2.3)
    + true - Cisco multistream signalling is allowed within SIP calls (default for version 2.6)
    + false - Cisco multistream signalling is not allowed within SIP calls (default for versions 2.2, 2.3, 2.4 and 2.5)
+ sipMediaPayloadTypeMode - Controls whether the default codec media payload types are used, or a special variant. (From version 2.2)
    + auto - the default mode, where the normal media payload type values are used.
    + broadsoft - a special exception mode, where the H.264 video codec is advertised with payload type 109.
+ chromeWebRtcVideoCodec - Controls which codec Chrome will use for WebRTC calls (From version 2.3):
    + auto - allows all codecs, results in Chrome using h264 for WebRTC (default behavior)
    + avoidH264 - results in Chrome using VP8 instead
+ chromeWebRtcH264interopMode - Controls H264 parameters used by Chrome for WebRTC calls (From version 2.9)
    + auto - default behavior, disables High Profile and forces Chrome to advertise Base Profile level 5.0 in its SDP offer
    + none - legacy behavior No changes to SDPs.
+ h264CHPMode - Controls which parts of the H.264 Constrained High Profile (CHP) are used (From version 2.4).
    + auto - default behavior, based on endpoint identification, appropriate parts are used
    + basic - only a minimal subset of parts are used
+ sipH224 (boolean) - Controls whether use of H.224 is allowed within SIP calls - this protocol is used for far-end camera control support. true - H.224 is enabled for all SIP calls false - H.224 is disabled for all SIP calls. (From version 2.8)
+ distributionLinkMediaTraversal (string) - Controls whether media traversal (ICE / STUN) should be used for distribution links between clustered Meeting Server devices. Value can be enabled or disabled. If enabled - media traversal should be used for distribution links, disabled - media traversal should not be used for distribution links(From version 2.8).

## ldap server
+ address*(string) - The address of the LDAP server to connect to.
+ name (string) - associated name (from version 2.9 onwards)
+ portNumber *(number) - The TCP or TLS port number to connect to on the remote LDAP server.
+ username (string) - The username to use when retrieving information from the LDAP server.
+ password (string) - The password of the account associated with username.
+ secure* (boolean) - Whether to make a secure connection to the LDAP server. If “true” then TLS will be used; if “false”, TCP will be used.
+ usePagedResults (boolean) - Whether to use the LDAP paged results control in search operations during LDAP sync; if not set the paged results control will be used. Oracle Internet Directory requires this parameter to be set to “false” (from version 2.1).


## ldap mapping
<a name="ldap_map"></a>
+ jidMapping (string) - The template for generating user JIDs from the associated LDAP server’s entries, for instance $sAMAccountName$@example.com.
+ nameMapping (string) - The template for generating user names from the associated LDAP server’s entries; for instance “$cn$” to use the common name.
+ cdrTagMapping (string) - The template for generating a users' cdrTag value. Can be set either to a fixed value or be constructed from other LDAP fields for that user. The user’s cdrTag is used in callLegStart CDRs. See the Cisco Meeting Server CDR Reference for details.
+ authenticationIdMapping (string) - The template for generating authentication IDs from the associated LDAP server"s entries, for instance "$userPrincipalName$".
+ coSpaceUriMapping (string) - If these parameters are supplied, they ensure that each user account generated by this LDAP mapping has an associated personal coSpace. The user is automatically added as a member of the coSpace, with permissions defined above.
+ coSpaceSecondaryUriMapping (string) - In order for that coSpace to be set up as required, these parameters provide the template for setting the coSpaces’ URI, displayed name and configured Call ID. For example, setting coSpaceNameMapping to “$cn$ personal coSpace” ensures that each user’s coSpace is labelled with their name followed by “personal coSpace”.
+ coSpaceNameMapping (string) - Note that the generated coSpace will have its own cdrTag – and it will be the same as the user’s cdrTag and cannot be changed other than by changing the cdrTagMapping above and re-syncing. (The coSpace’s cdrTag is used in the callStart CDR. See the Cisco Meeting Server CDR Reference for details.)
+ coSpaceCallIdMapping (string) - Note that the normal uniqueness rules apply to the URI and Call IDs of coSpaces set up in this way: it is not valid to have the same URI or Call ID for more than one coSpace set up by a given LDAP mapping, nor is it valid for such a coSpace URI or Call ID to be the same as one currently in use elsewhere on the Meeting Server.

## ldap source

+ server*(ID) - The ID of a previously-configured LDAP server (see above)
+ mapping*(ID) - The ID of a previously-configured LDAP mapping (see above)
+ baseDn*(string) - The distinguished name of the node in the LDAP server’s tree from which users should be imported, for instance “cn=Users,dc=<companyname>,dc=com”
+ filter (string) - An LDAP filter string that records must satisfy in order to be imported as users, for instance “(objectClass=person)”
+ tenant(ID) - If supplied, the ID for the tenant to which the LDAP source should be associated. Users imported with this LDAP source will be associated with that tenant
+ userProfile(ID) - If supplied, this is the ID of the user profile to associate with users imported via this LDAP source. This parameter is present from version 2.0 onwards.

## ldap sync

+ tenant (string) - If supplied the sync will be restricted to that tenant.
+ ldapSource(ID) - If supplied the sync will be restricted to that LDAP Source.
+ removeWhenFinished `true` - If this parameter is not supplied in a create (POST) operation, it defaults to "true".
    + true - this LDAP sync will, when it has finished (either successfully or with an error), be removed from the system's tracked list, and so can no longer be queried
    + false - this LDAP sync will persist in the system's tracked list when it has finished, at which point its success or failure status may then be queried. To avoid it remaining permanently on the system's tracked list, it needs to be deleted explicitly.

## directory

+ ldapServer*(ID) - The ID of a previously-configured LDAP server (see above)
+ tenant (ID) - if supplied, the tenant to which this external directory applies; entries from the remote directory will only be supplied to users associated with this tenant
+ baseDn (string) - The distinguished name of the node in the LDAP server's tree within which to search
+ filterFormat(string) - The LDAP filter used to select directory search results; $1 should be used to represent the user-supplied search string
+ label (string) - The human-readable name that should be associated with search results from this directory when displayed by requesting clients.
+ priority (number) - Controls the order in which directorySearchLocations should be used in searching; entries with higher priorities will be used first
+ firstName - The following fields specify the name of a field from LDAP to be used when populating the contents of the search result. For example, displayName might be set to "cn" to use the canonical name.
+ lastName
+ displayName
+ phone
+ mobile
+ email
+ sip
+ organisation

## tenant
+ name*(string) - A label for the tenant.
+ tenantGroup(ID) - If specified, associate this tenant with the supplied tenant group; the IDs of coSpaces in tenants within the same tenant group must be unique.
+ callLegProfile(ID) - If specified, associates the specified call leg profile with this tenant
+ callProfile(ID) - If specified, associates the specified call profile with this tenant
+ dtmfProfile(ID) - If specified, associates the specified DTMF profile with this tenant
+ ivrBrandingProfile(ID) - If specified, associates the specified IVR branding profile with this tenant
+ callBrandingProfile (ID) - If specified, associates the specified call branding profile with this tenant
+ participantLimit(number) - f specified, sets a limit on the number of participants associated with this tenant that can be simultaneously active; new participants beyond this limit will not be permitted.
+ userProfile(ID) - If supplied, a user profile to associate with this tenant; unless otherwise overridden, all users associated with this tenant will use this user profile.

## accessQuery
+ uri(string) - The URI "user part" is the part before any '@' character in a full URI
+ callId(string) - A numeric ID (typically 9 digits long)
+ tenant(ID) - If supplied, limits the search to the specific tenant.

## uriusagequery
+ uri(string) - The "user part" of the URI; that is, the part before any '@' character in a full URI.
+ tenant(ID) - If supplied, only those coSpaces, users and IVRs within the specified tenant will be returned. If omitted only entities without a tenant will be returned.

## layouttemplate
+ name (string) - The human-readable name asso-ciated with this layout template

## fecc
+ pan  - Pans the remote camera 'left' or 'right'.
+ tilt - Tilts the remote camera 'up' or 'down'.
+ zoom - Zooms the remote camera 'in' or 'out'.
+ focus - Focuses the remote camera 'in' or 'out'.

## cospacetemplate
+ coSpaceTemplate (ID) - the id of a coSpace template that the user is allowed to use to instan-tiate a coSpace (from version 2.9)

## ldapusercospacetemplatesource
+ coSpaceTemplate (ID) - ID of the cospace template to be applied for these users
+ ldapSource (ID) - ID of the LDAP source to be used to locate users
+ filter (string) - Additional LDAP filter string to be applied when reading the source